import{a as ke}from"./chunk-QQYKQ6NF.js";import{a as kd,b as si,c as Cs,d as ks,e as Md,f as Ed,g as Td,h as Ms}from"./chunk-FYPI2E2L.js";import{a as qd,b as $d,c as Kd,d as Gd,e as Xd,f as Yd,g as Zd,h as Jd,i as tm,j as em,k as im}from"./chunk-BSVBJRGW.js";import{a as Ee,b as he}from"./chunk-UKT4P2J7.js";import{b as Ns,c as nm,d as am,e as sm,f as rm}from"./chunk-XS5RH2OV.js";import{B as Ud,C as Fn,F as Nn,G as zn,H as Bn,J as Vn,K as Hn,a as Fd,b as As,d as Ds,e as Os,i as Nd,l as zd,o as Ro,s as Bd,u as Vd,x as Hd,y as jd,z as Wd}from"./chunk-NODSVL4F.js";import{a as le,b as ce,c as de,d as me,f as An,i as Qd,k as Dn,l as Rs,m as Ls,n as On,o as Fs,p as Rn,t as Ln}from"./chunk-RJDHG7FO.js";import{$ as z,$a as Ct,$c as Tn,Aa as wi,Ac as vd,Ad as Jt,B as Jc,Ba as rd,Bc as yd,C as td,Ca as Si,Cb as re,Cc as Ei,D as ed,Da as Ci,Db as we,Dc as xd,Eb as tt,Ec as Ss,Fa as Cn,Fb as Se,Fc as wd,Ga as od,Gb as g,Gc as Sd,Hb as F,Hc as Cd,Ib as dt,Jb as Ia,Ka as U,Kb as ws,Kc as Id,L as ae,La as St,Lb as mt,M as bs,Ma as Tt,Mb as ht,Mc as tn,N as Rt,Na as Oe,Nb as pt,Nc as Pd,Ob as md,Oc as Do,Pa as L,Pb as Qt,Q as et,Qa as ld,Qb as hd,Qc as Ti,Ra as It,Rb as Ao,Rc as ri,S as Lt,Sa as Ut,Sb as pd,Sc as Es,T as xt,Ta as vs,Tb as ut,Ub as ai,V as ot,Vb as Nt,Vc as Ad,W as wn,Wa as cd,Wb as Ce,X as S,Yb as ud,Zc as Dd,_a as _t,_b as En,_c as oi,a as vn,aa as B,ab as kt,ac as fd,ba as Yi,bb as dd,bc as gd,bd as In,ca as Io,cb as ys,da as Sn,db as kn,ea as ei,eb as Mn,ed as Od,f as Yt,fb as C,fc as jt,g as _s,gb as f,h as Xc,hb as p,hc as Mt,ia as id,ib as H,ic as Wt,j as Yc,jb as je,k as yn,ka as ie,kb as ni,lb as Ji,ld as Ts,ma as nd,mb as ye,md as Le,na as ad,nb as xe,o as Zc,oa as He,ob as Re,od as Pn,pa as Zi,pb as lt,pd as Oo,qb as xs,qd as Is,ra as wt,rb as V,rd as Aa,sa as ii,sb as O,sc as _d,sd as Rd,ta as Po,tb as se,tc as ki,td as li,ub as Bt,uc as oe,ud as Ps,v as Ea,vb as ct,vc as Pa,vd as Ii,w as Ta,wa as xi,wb as Ft,wc as Mi,wd as Ld,xa as sd,xb as G,xc as bd,xd as At,y as xn,yb as X,yc as We,yd as Pi,za as y,zd as Zt}from"./chunk-TOSGPUWZ.js";import{a as ve,b as gs,c as Gc,d as To}from"./chunk-4CLCTAJ7.js";var Y=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(Y||{}),Fe="*";function om(i,e=null){return{type:Y.Sequence,steps:i,options:e}}function Lo(i){return{type:Y.Style,styles:i,offset:null}}var ci=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},jn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,n=0,a=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++t==s&&this._onFinish()}),r.onDestroy(()=>{++n==s&&this._onDestroy()}),r.onStart(()=>{++a==s&&this._onStart()})}),this.totalTime=this.players.reduce((r,o)=>Math.max(r,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let a=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(a)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Da="!";function lm(i){return new et(3e3,!1)}function Eg(){return new et(3100,!1)}function Tg(){return new et(3101,!1)}function Ig(i){return new et(3001,!1)}function Pg(i){return new et(3003,!1)}function Ag(i){return new et(3004,!1)}function dm(i,e){return new et(3005,!1)}function mm(){return new et(3006,!1)}function hm(){return new et(3007,!1)}function pm(i,e){return new et(3008,!1)}function um(i){return new et(3002,!1)}function fm(i,e,t,n,a){return new et(3010,!1)}function gm(){return new et(3011,!1)}function _m(){return new et(3012,!1)}function bm(){return new et(3200,!1)}function vm(){return new et(3202,!1)}function ym(){return new et(3013,!1)}function xm(i){return new et(3014,!1)}function wm(i){return new et(3015,!1)}function Sm(i){return new et(3016,!1)}function Cm(i,e){return new et(3404,!1)}function Dg(i){return new et(3502,!1)}function km(i){return new et(3503,!1)}function Mm(){return new et(3300,!1)}function Em(i){return new et(3504,!1)}function Tm(i){return new et(3301,!1)}function Im(i,e){return new et(3302,!1)}function Pm(i){return new et(3303,!1)}function Am(i,e){return new et(3400,!1)}function Dm(i){return new et(3401,!1)}function Om(i){return new et(3402,!1)}function Rm(i,e){return new et(3505,!1)}function di(i){switch(i.length){case 0:return new ci;case 1:return i[0];default:return new jn(i)}}function Bo(i,e,t=new Map,n=new Map){let a=[],s=[],r=-1,o=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==r,m=d&&o||new Map;l.forEach((h,u)=>{let _=u,b=h;if(u!=="offset")switch(_=i.normalizePropertyName(_,a),b){case Da:b=t.get(u);break;case Fe:b=n.get(u);break;default:b=i.normalizeStyleValue(u,_,b,a);break}m.set(_,b)}),d||s.push(m),o=m,r=c}),a.length)throw Dg(a);return s}function zs(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&Fo(t,"start",i)));break;case"done":i.onDone(()=>n(t&&Fo(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&Fo(t,"destroy",i)));break}}function Fo(i,e,t){let n=t.totalTime,a=!!t.disabled,s=Bs(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,a),r=i._data;return r!=null&&(s._data=r),s}function Bs(i,e,t,n,a="",s=0,r){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:a,totalTime:s,disabled:!!r}}function pe(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function Vo(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var Og=typeof document>"u"?null:document.documentElement;function Vs(i){let e=i.parentNode||i.host||null;return e===Og?null:e}function Rg(i){return i.substring(1,6)=="ebkit"}var en=null,cm=!1;function Lm(i){en||(en=Lg()||{},cm=en.style?"WebkitAppearance"in en.style:!1);let e=!0;return en.style&&!Rg(i)&&(e=i in en.style,!e&&cm&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in en.style)),e}function Lg(){return typeof document<"u"?document.body:null}function Ho(i,e){for(;e;){if(e===i)return!0;e=Vs(e)}return!1}function jo(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var Fg=1e3,Wo="{{",Ng="}}",Uo="ng-enter",Hs="ng-leave",Oa="ng-trigger",Ra=".ng-trigger",Qo="ng-animating",js=".ng-animating";function Ue(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:No(parseFloat(e[1]),e[2])}function No(i,e){switch(e){case"s":return i*Fg;default:return i}}function La(i,e,t){return i.hasOwnProperty("duration")?i:Bg(i,e,t)}var zg=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Bg(i,e,t){let n,a=0,s="";if(typeof i=="string"){let r=i.match(zg);if(r===null)return e.push(lm(i)),{duration:0,delay:0,easing:""};n=No(parseFloat(r[1]),r[2]);let o=r[3];o!=null&&(a=No(parseFloat(o),r[4]));let l=r[5];l&&(s=l)}else n=i;if(!t){let r=!1,o=e.length;n<0&&(e.push(Eg()),r=!0),a<0&&(e.push(Tg()),r=!0),r&&e.splice(o,0,lm(i))}return{duration:n,delay:a,easing:s}}function Fm(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function Ne(i,e,t){e.forEach((n,a)=>{let s=Ws(a);t&&!t.has(a)&&t.set(a,i.style[s]),i.style[s]=n})}function Ai(i,e){e.forEach((t,n)=>{let a=Ws(n);i.style[a]=""})}function Wn(i){return Array.isArray(i)?i.length==1?i[0]:om(i):i}function Nm(i,e,t){let n=e.params||{},a=qo(i);a.length&&a.forEach(s=>{n.hasOwnProperty(s)||t.push(Ig(s))})}var zo=new RegExp(`${Wo}\\s*(.+?)\\s*${Ng}`,"g");function qo(i){let e=[];if(typeof i=="string"){let t;for(;t=zo.exec(i);)e.push(t[1]);zo.lastIndex=0}return e}function Un(i,e,t){let n=`${i}`,a=n.replace(zo,(s,r)=>{let o=e[r];return o==null&&(t.push(Pg(r)),o=""),o.toString()});return a==n?i:a}var Vg=/-+([a-z0-9])/g;function Ws(i){return i.replace(Vg,(...e)=>e[1].toUpperCase())}function zm(i,e){return i===0||e===0}function Bm(i,e,t){if(t.size&&e.length){let n=e[0],a=[];if(t.forEach((s,r)=>{n.has(r)||a.push(r),n.set(r,s)}),a.length)for(let s=1;s<e.length;s++){let r=e[s];a.forEach(o=>r.set(o,Us(i,o)))}}return e}function ue(i,e,t){switch(e.type){case Y.Trigger:return i.visitTrigger(e,t);case Y.State:return i.visitState(e,t);case Y.Transition:return i.visitTransition(e,t);case Y.Sequence:return i.visitSequence(e,t);case Y.Group:return i.visitGroup(e,t);case Y.Animate:return i.visitAnimate(e,t);case Y.Keyframes:return i.visitKeyframes(e,t);case Y.Style:return i.visitStyle(e,t);case Y.Reference:return i.visitReference(e,t);case Y.AnimateChild:return i.visitAnimateChild(e,t);case Y.AnimateRef:return i.visitAnimateRef(e,t);case Y.Query:return i.visitQuery(e,t);case Y.Stagger:return i.visitStagger(e,t);default:throw Ag(e.type)}}function Us(i,e){return window.getComputedStyle(i)[e]}var cl=(()=>{class i{validateStyleProperty(t){return Lm(t)}containsElement(t,n){return Ho(t,n)}getParentElement(t){return Vs(t)}query(t,n,a){return jo(t,n,a)}computeStyle(t,n,a){return a||""}animate(t,n,a,s,r,o=[],l){return new ci(a,s)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac})}return i})(),an=class{static NOOP=new cl},sn=class{};var Hg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Gs=class extends sn{normalizePropertyName(e,t){return Ws(e)}normalizeStyleValue(e,t,n,a){let s="",r=n.toString().trim();if(Hg.has(t)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&a.push(dm(e,n))}return r+s}};var Xs="*";function jg(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Wg(n,t,e)):t.push(i),t}function Wg(i,e,t){if(i[0]==":"){let l=Ug(i,t);if(typeof l=="function"){e.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(wm(i)),e;let a=n[1],s=n[2],r=n[3];e.push(Vm(a,r));let o=a==Xs&&r==Xs;s[0]=="<"&&!o&&e.push(Vm(r,a))}function Ug(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(Sm(i)),"* => *"}}var Qs=new Set(["true","1"]),qs=new Set(["false","0"]);function Vm(i,e){let t=Qs.has(i)||qs.has(i),n=Qs.has(e)||qs.has(e);return(a,s)=>{let r=i==Xs||i==a,o=e==Xs||e==s;return!r&&t&&typeof a=="boolean"&&(r=a?Qs.has(i):qs.has(i)),!o&&n&&typeof s=="boolean"&&(o=s?Qs.has(e):qs.has(e)),r&&o}}var Xm=":self",Qg=new RegExp(`s*${Xm}s*,?`,"g");function Ym(i,e,t,n){return new Zo(i).build(e,t,n)}var Hm="",Zo=class{_driver;constructor(e){this._driver=e}build(e,t,n){let a=new Jo(t);return this._resetContextStyleTimingState(a),ue(this,Wn(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector=Hm,e.collectedStyles=new Map,e.collectedStyles.set(Hm,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,a=t.depCount=0,s=[],r=[];return e.name.charAt(0)=="@"&&t.errors.push(mm()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),o.type==Y.State){let l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(o.type==Y.Transition){let l=this.visitTransition(o,t);n+=l.queryCount,a+=l.depCount,r.push(l)}else t.errors.push(hm())}),{type:Y.Trigger,name:e.name,states:s,transitions:r,queryCount:n,depCount:a,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(n.containsDynamicStyles){let s=new Set,r=a||{};n.styles.forEach(o=>{o instanceof Map&&o.forEach(l=>{qo(l).forEach(c=>{r.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(pm(e.name,[...s.values()]))}return{type:Y.State,name:e.name,style:n,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=ue(this,Wn(e.animation),t),a=jg(e.expr,t.errors);return{type:Y.Transition,matchers:a,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:nn(e.options)}}visitSequence(e,t){return{type:Y.Sequence,steps:e.steps.map(n=>ue(this,n,t)),options:nn(e.options)}}visitGroup(e,t){let n=t.currentTime,a=0,s=e.steps.map(r=>{t.currentTime=n;let o=ue(this,r,t);return a=Math.max(a,t.currentTime),o});return t.currentTime=a,{type:Y.Group,steps:s,options:nn(e.options)}}visitAnimate(e,t){let n=Gg(e.timings,t.errors);t.currentAnimateTimings=n;let a,s=e.styles?e.styles:Lo({});if(s.type==Y.Keyframes)a=this.visitKeyframes(s,t);else{let r=e.styles,o=!1;if(!r){o=!0;let c={};n.easing&&(c.easing=n.easing),r=Lo(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(r,t);l.isEmptyStep=o,a=l}return t.currentAnimateTimings=null,{type:Y.Animate,timings:n,style:a,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let o of a)typeof o=="string"?o===Fe?n.push(o):t.errors.push(um(o)):n.push(new Map(Object.entries(o)));let s=!1,r=null;return n.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(r=o.get("easing"),o.delete("easing")),!s)){for(let l of o.values())if(l.toString().indexOf(Wo)>=0){s=!0;break}}}),{type:Y.Style,styles:n,easing:r,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,a=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),m=!0;d&&(s!=a&&s>=d.startTime&&a<=d.endTime&&(t.errors.push(fm(l,d.startTime,d.endTime,s,a)),m=!1),s=d.startTime),m&&c.set(l,{startTime:s,endTime:a}),t.options&&Nm(o,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:Y.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(gm()),n;let a=1,s=0,r=[],o=!1,l=!1,c=0,d=e.steps.map(x=>{let w=this._makeStyleAst(x,t),M=w.offset!=null?w.offset:Kg(w.styles),E=0;return M!=null&&(s++,E=w.offset=M),l=l||E<0||E>1,o=o||E<c,c=E,r.push(E),w});l&&t.errors.push(_m()),o&&t.errors.push(bm());let m=e.steps.length,h=0;s>0&&s<m?t.errors.push(vm()):s==0&&(h=a/(m-1));let u=m-1,_=t.currentTime,b=t.currentAnimateTimings,v=b.duration;return d.forEach((x,w)=>{let M=h>0?w==u?1:h*w:r[w],E=M*v;t.currentTime=_+b.delay+E,b.duration=E,this._validateStyleAst(x,t),x.offset=M,n.styles.push(x)}),n}visitReference(e,t){return{type:Y.Reference,animation:ue(this,Wn(e.animation),t),options:nn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Y.AnimateChild,options:nn(e.options)}}visitAnimateRef(e,t){return{type:Y.AnimateRef,animation:this.visitReference(e.animation,t),options:nn(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;let[s,r]=qg(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,pe(t.collectedStyles,t.currentQuerySelector,new Map);let o=ue(this,Wn(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:Y.Query,selector:s,limit:a.limit||0,optional:!!a.optional,includeSelf:r,animation:o,originalSelector:e.selector,options:nn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(ym());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:La(e.timings,t.errors,!0);return{type:Y.Stagger,animation:ue(this,Wn(e.animation),t),timings:n,options:null}}};function qg(i){let e=!!i.split(/\s*,\s*/).find(t=>t==Xm);return e&&(i=i.replace(Qg,"")),i=i.replace(/@\*/g,Ra).replace(/@\w+/g,t=>Ra+"-"+t.slice(1)).replace(/:animating/g,js),[i,e]}function $g(i){return i?ve({},i):null}var Jo=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Kg(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Gg(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=La(i,e).duration;return $o(s,0,"")}let t=i;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=$o(0,0,"");return s.dynamic=!0,s.strValue=t,s}let a=La(t,e);return $o(a.duration,a.delay,a.easing)}function nn(i){return i?(i=ve({},i),i.params&&(i.params=$g(i.params))):i={},i}function $o(i,e,t){return{duration:i,delay:e,easing:t}}function dl(i,e,t,n,a,s,r=null,o=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:a,delay:s,totalTime:a+s,easing:r,subTimeline:o}}var Na=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Xg=1,Yg=":enter",Zg=new RegExp(Yg,"g"),Jg=":leave",t_=new RegExp(Jg,"g");function Zm(i,e,t,n,a,s=new Map,r=new Map,o,l,c=[]){return new tl().buildKeyframes(i,e,t,n,a,s,r,o,l,c)}var tl=class{buildKeyframes(e,t,n,a,s,r,o,l,c,d=[]){c=c||new Na;let m=new el(e,t,c,a,s,d,[]);m.options=l;let h=l.delay?Ue(l.delay):0;m.currentTimeline.delayNextStep(h),m.currentTimeline.setStyles([r],null,m.errors,l),ue(this,n,m);let u=m.timelines.filter(_=>_.containsAnimation());if(u.length&&o.size){let _;for(let b=u.length-1;b>=0;b--){let v=u[b];if(v.element===t){_=v;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([o],null,m.errors,l)}return u.length?u.map(_=>_.buildKeyframes()):[dl(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let a=t.createSubContext(e.options),s=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,a,a.options);s!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let a of e){let s=a?.delay;if(s){let r=typeof s=="number"?s:Ue(Un(s,a?.params??{},t.errors));n.delayNextStep(r)}}}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime,r=n.duration!=null?Ue(n.duration):null,o=n.delay!=null?Ue(n.delay):null;return r!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,r,o);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ue(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,a=t,s=e.options;if(s&&(s.params||s.delay)&&(a=t.createSubContext(s),a.transformIntoNewTimeline(),s.delay!=null)){a.previousNode.type==Y.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ys);let r=Ue(s.delay);a.delayNextStep(r)}e.steps.length&&(e.steps.forEach(r=>ue(this,r,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>n&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],a=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Ue(e.options.delay):0;e.steps.forEach(r=>{let o=t.createSubContext(e.options);s&&o.delayNextStep(s),ue(this,r,o),a=Math.max(a,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(r=>t.currentTimeline.mergeTimelineCollectedStyles(r)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,a=t.params?Un(n,t.params,t.errors):n;return La(a,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),a.snapshotCurrentStyles());let s=e.style;s.type==Y.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,a=t.currentAnimateTimings;!a&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=a&&a.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,a=t.currentTimeline.duration,s=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;o.forwardTime(c*s),o.setStyles(l.styles,l.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(a+s),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,a=e.options||{},s=a.delay?Ue(a.delay):0;s&&(t.previousNode.type===Y.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ys);let r=n,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=o.length;let l=null;o.forEach((c,d)=>{t.currentQueryIndex=d;let m=t.createSubContext(e.options,c);s&&m.delayNextStep(s),c===t.element&&(l=m.currentTimeline),ue(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe();let h=m.currentTimeline.currentTime;r=Math.max(r,h)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,a=t.currentTimeline,s=e.timings,r=Math.abs(s.duration),o=r*(t.currentQueryTotal-1),l=r*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=n.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let m=d.currentTime;ue(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=a.currentTime-m+(a.startTime-n.currentTimeline.startTime)}},Ys={},el=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ys;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,a,s,r,o,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=a,this._leaveClassName=s,this.errors=r,this.timelines=o,this.currentTimeline=l||new Zs(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,a=this.options;n.duration!=null&&(a.duration=Ue(n.duration)),n.delay!=null&&(a.delay=Ue(n.delay));let s=n.params;if(s){let r=a.params;r||(r=this.options.params={}),Object.keys(s).forEach(o=>{(!t||!r.hasOwnProperty(o))&&(r[o]=Un(s[o],r,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(a=>{n[a]=t[a]})}}return e}createSubContext(e=null,t,n){let a=t||this.element,s=new i(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ys,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let a={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},s=new il(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(s),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,a,s,r){let o=[];if(a&&o.push(this.element),e.length>0){e=e.replace(Zg,"."+this._enterClassName),e=e.replace(t_,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),o.push(...c)}return!s&&o.length==0&&r.push(xm(t)),o}},Zs=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,a){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=a,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Xg,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||Fe),this._currentKeyframe.set(t,Fe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,a){t&&this._previousKeyframe.set("easing",t);let s=a&&a.params||{},r=e_(e,this._globalTimelineStyles);for(let[o,l]of r){let c=Un(l,s,n);this._pendingStyles.set(o,c),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??Fe),this._updateStyle(o,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let a=this._styleSummary.get(n);(!a||t.time>a.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,a=[];this._keyframes.forEach((o,l)=>{let c=new Map([...this._backFill,...o]);c.forEach((d,m)=>{d===Da?e.add(m):d===Fe&&t.add(m)}),n||c.set("offset",l/this.duration),a.push(c)});let s=[...e.values()],r=[...t.values()];if(n){let o=a[0],l=new Map(o);o.set("offset",0),l.set("offset",1),a=[o,l]}return dl(this.element,a,s,r,this.duration,this.startTime,this.easing,!1)}},il=class extends Zs{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,a,s,r,o=!1){super(e,t,r.delay),this.keyframes=n,this.preStyleProps=a,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],r=n+t,o=t/r,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",jm(o)),s.push(c);let d=e.length-1;for(let m=1;m<=d;m++){let h=new Map(e[m]),u=h.get("offset"),_=t+u*n;h.set("offset",jm(_/r)),s.push(h)}n=r,t=0,a="",e=s}return dl(this.element,e,this.preStyleProps,this.postStyleProps,n,t,a,!0)}};function jm(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function e_(i,e){let t=new Map,n;return i.forEach(a=>{if(a==="*"){n??=e.keys();for(let s of n)t.set(s,Fe)}else for(let[s,r]of a)t.set(s,r)}),t}function Wm(i,e,t,n,a,s,r,o,l,c,d,m,h){return{type:0,element:i,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:s,toState:n,toStyles:r,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:m,errors:h}}var Ko={},Js=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,a){return i_(this.ast.matchers,e,t,n,a)}buildStyles(e,t,n){let a=this._stateStyles.get("*");return e!==void 0&&(a=this._stateStyles.get(e?.toString())||a),a?a.buildStyles(t,n):new Map}build(e,t,n,a,s,r,o,l,c,d){let m=[],h=this.ast.options&&this.ast.options.params||Ko,u=o&&o.params||Ko,_=this.buildStyles(n,u,m),b=l&&l.params||Ko,v=this.buildStyles(a,b,m),x=new Set,w=new Map,M=new Map,E=a==="void",k={params:Jm(b,h),delay:this.ast.options?.delay},T=d?[]:Zm(e,t,this.ast.animation,s,r,_,v,k,c,m),A=0;return T.forEach(I=>{A=Math.max(I.duration+I.delay,A)}),m.length?Wm(t,this._triggerName,n,a,E,_,v,[],[],w,M,A,m):(T.forEach(I=>{let R=I.element,W=pe(w,R,new Set);I.preStyleProps.forEach($=>W.add($));let q=pe(M,R,new Set);I.postStyleProps.forEach($=>q.add($)),R!==t&&x.add(R)}),Wm(t,this._triggerName,n,a,E,_,v,T,[...x.values()],w,M,A))}};function i_(i,e,t,n,a){return i.some(s=>s(e,t,n,a))}function Jm(i,e){let t=ve({},e);return Object.entries(i).forEach(([n,a])=>{a!=null&&(t[n]=a)}),t}var nl=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,a=Jm(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((r,o)=>{r&&(r=Un(r,a,t));let l=this.normalizer.normalizePropertyName(o,t);r=this.normalizer.normalizeStyleValue(o,l,r,t),n.set(o,r)})}),n}};function n_(i,e,t){return new al(i,e,t)}var al=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(a=>{let s=a.options&&a.options.params||{};this.states.set(a.name,new nl(a.style,s,n))}),Um(this.states,"true","1"),Um(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new Js(e,a,this.states))}),this.fallbackTransition=a_(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,a){return this.transitionFactories.find(r=>r.match(e,t,n,a))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function a_(i,e,t){let n=[(r,o)=>!0],a={type:Y.Sequence,steps:[],options:null},s={type:Y.Transition,animation:a,matchers:n,options:null,queryCount:0,depCount:0};return new Js(i,s,e)}function Um(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var s_=new Na,sl=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],a=[],s=Ym(this._driver,t,n,a);if(n.length)throw km(n);this._animations.set(e,s)}_buildPlayer(e,t,n){let a=e.element,s=Bo(this._normalizer,e.keyframes,t,n);return this._driver.animate(a,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let a=[],s=this._animations.get(e),r,o=new Map;if(s?(r=Zm(this._driver,t,s,Uo,Hs,new Map,new Map,n,s_,a),r.forEach(d=>{let m=pe(o,d.element,new Map);d.postStyleProps.forEach(h=>m.set(h,null))})):(a.push(Mm()),r=[]),a.length)throw Em(a);o.forEach((d,m)=>{d.forEach((h,u)=>{d.set(u,this._driver.computeStyle(m,u,Fe))})});let l=r.map(d=>{let m=o.get(d.element);return this._buildPlayer(d,new Map,m)}),c=di(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Tm(e);return t}listen(e,t,n,a){let s=Bs(t,"","","");return zs(this._getPlayer(e),n,s,a),()=>{}}command(e,t,n,a){if(n=="register"){this.register(e,a[0]);return}if(n=="create"){let r=a[0]||{};this.create(e,t,r);return}let s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e);break}}},Qm="ng-animate-queued",r_=".ng-animate-queued",Go="ng-animate-disabled",o_=".ng-animate-disabled",l_="ng-star-inserted",c_=".ng-star-inserted",d_=[],th={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},m_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ze="__ng_removed",za=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),a=n?e.value:e;if(this.value=p_(a),n){let s=e,{value:r}=s,o=Gc(s,["value"]);this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(a=>{n[a]==null&&(n[a]=t[a])})}}},Fa="void",Xo=new za(Fa),rl=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,Te(t,this._hostClassName)}listen(e,t,n,a){if(!this._triggers.has(t))throw Im(n,t);if(n==null||n.length==0)throw Pm(t);if(!u_(n))throw Am(n,t);let s=pe(this._elementListeners,e,[]),r={name:t,phase:n,callback:a};s.push(r);let o=pe(this._engine.statesByElement,e,new Map);return o.has(t)||(Te(e,Oa),Te(e,Oa+"-"+t),o.set(t,Xo)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(r);l>=0&&s.splice(l,1),this._triggers.has(t)||o.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Dm(e);return t}trigger(e,t,n,a=!0){let s=this._getTrigger(t),r=new Ba(this.id,t,e),o=this._engine.statesByElement.get(e);o||(Te(e,Oa),Te(e,Oa+"-"+t),this._engine.statesByElement.set(e,o=new Map));let l=o.get(t),c=new za(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o.set(t,c),l||(l=Xo),!(c.value===Fa)&&l.value===c.value){if(!__(l.params,c.params)){let b=[],v=s.matchStyles(l.value,l.params,b),x=s.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Ai(e,v),Ne(e,x)})}return}let h=pe(this._engine.playersByElement,e,[]);h.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let u=s.matchTransition(l.value,c.value,e,c.params),_=!1;if(!u){if(!a)return;u=s.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:l,toState:c,player:r,isFallbackTransition:_}),_||(Te(e,Qm),r.onStart(()=>{Qn(e,Qm)})),r.onDone(()=>{let b=this.players.indexOf(r);b>=0&&this.players.splice(b,1);let v=this._engine.playersByElement.get(e);if(v){let x=v.indexOf(r);x>=0&&v.splice(x,1)}}),this.players.push(r),h.push(r),r}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,Ra,!0);n.forEach(a=>{if(a[ze])return;let s=this._engine.fetchNamespacesByElement(a);s.size?s.forEach(r=>r.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,n,a){let s=this._engine.statesByElement.get(e),r=new Map;if(s){let o=[];if(s.forEach((l,c)=>{if(r.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,Fa,a);d&&o.push(d)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,r),n&&di(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let a=new Set;t.forEach(s=>{let r=s.name;if(a.has(r))return;a.add(r);let l=this._triggers.get(r).fallbackTransition,c=n.get(r)||Xo,d=new za(Fa),m=new Ba(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:l,fromState:c,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)a=!0;else{let r=e;for(;r=r.parentNode;)if(n.statesByElement.get(r)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)n.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ze];(!s||s===th)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Te(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let a=n.player;if(a.destroyed)return;let s=n.element,r=this._elementListeners.get(s);r&&r.forEach(o=>{if(o.name==n.triggerName){let l=Bs(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,zs(n.player,o.phase,l,o.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(n)}),this._queue=[],t.sort((n,a)=>{let s=n.transition.ast.depCount,r=a.transition.ast.depCount;return s==0||r==0?s-r:this._engine.driver.containsElement(n.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ol=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new rl(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,a=this.namespacesByHostElement;if(n.length-1>=0){let r=!1,o=this.driver.getParentElement(t);for(;o;){let l=a.get(o);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),r=!0;break}o=this.driver.getParentElement(o)}r||n.unshift(e)}else n.push(e);return a.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let a=this._namespaceLookup[e];a&&a.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let a=this._namespaceList.indexOf(n);a>=0&&this._namespaceList.splice(a,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let a of n.values())if(a.namespaceId){let s=this._fetchNamespace(a.namespaceId);s&&t.add(s)}}return t}trigger(e,t,n,a){if($s(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,n,a),!0}return!1}insertNode(e,t,n,a){if(!$s(t))return;let s=t[ze];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let r=this.collectedLeaveElements.indexOf(t);r>=0&&this.collectedLeaveElements.splice(r,1)}if(e){let r=this._fetchNamespace(e);r&&r.insertNode(t,n)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Te(e,Go)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qn(e,Go))}removeNode(e,t,n){if($s(t)){let a=e?this._fetchNamespace(e):null;a?a.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,a,s){this.collectedLeaveElements.push(t),t[ze]={namespaceId:e,setForRemoval:a,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,n,a,s){return $s(t)?this._fetchNamespace(e).listen(t,n,a,s):()=>{}}_buildInstruction(e,t,n,a,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,a,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Ra,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,js,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return di(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ze];if(t&&t.setForRemoval){if(e[ze]=th,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Go)&&this.markElementAsDisabled(e,!1),this.driver.query(e,o_,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,a)=>this._balanceNamespaceList(n,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let a=this.collectedEnterElements[n];Te(a,l_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let a=0;a<n.length;a++)n[a]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let a=this.collectedLeaveElements[n];this.processLeaveNode(a)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?di(t).onDone(()=>{n.forEach(a=>a())}):n.forEach(a=>a())}}reportError(e){throw Om(e)}_flushAnimations(e,t){let n=new Na,a=[],s=new Map,r=[],o=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(P=>{d.add(P);let D=this.driver.query(P,r_,!0);for(let N=0;N<D.length;N++)d.add(D[N])});let m=this.bodyNode,h=Array.from(this.statesByElement.keys()),u=Km(h,this.collectedEnterElements),_=new Map,b=0;u.forEach((P,D)=>{let N=Uo+b++;_.set(D,N),P.forEach(j=>Te(j,N))});let v=[],x=new Set,w=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){let D=this.collectedLeaveElements[P],N=D[ze];N&&N.setForRemoval&&(v.push(D),x.add(D),N.hasAnimation?this.driver.query(D,c_,!0).forEach(j=>x.add(j)):w.add(D))}let M=new Map,E=Km(h,Array.from(x));E.forEach((P,D)=>{let N=Hs+b++;M.set(D,N),P.forEach(j=>Te(j,N))}),e.push(()=>{u.forEach((P,D)=>{let N=_.get(D);P.forEach(j=>Qn(j,N))}),E.forEach((P,D)=>{let N=M.get(D);P.forEach(j=>Qn(j,N))}),v.forEach(P=>{this.processLeaveNode(P)})});let k=[],T=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(N=>{let j=N.player,yt=N.element;if(k.push(j),this.collectedEnterElements.length){let Xt=yt[ze];if(Xt&&Xt.setForMove){if(Xt.previousTriggersValues&&Xt.previousTriggersValues.has(N.triggerName)){let Xi=Xt.previousTriggersValues.get(N.triggerName),Me=this.statesByElement.get(N.element);if(Me&&Me.has(N.triggerName)){let fs=Me.get(N.triggerName);fs.value=Xi,Me.set(N.triggerName,fs)}}j.destroy();return}}let ee=!m||!this.driver.containsElement(m,yt),zt=M.get(yt),ne=_.get(yt),at=this._buildInstruction(N,n,ne,zt,ee);if(at.errors&&at.errors.length){T.push(at);return}if(ee){j.onStart(()=>Ai(yt,at.fromStyles)),j.onDestroy(()=>Ne(yt,at.toStyles)),a.push(j);return}if(N.isFallbackTransition){j.onStart(()=>Ai(yt,at.fromStyles)),j.onDestroy(()=>Ne(yt,at.toStyles)),a.push(j);return}let yi=[];at.timelines.forEach(Xt=>{Xt.stretchStartingKeyframe=!0,this.disabledNodes.has(Xt.element)||yi.push(Xt)}),at.timelines=yi,n.append(yt,at.timelines);let ti={instruction:at,player:j,element:yt};r.push(ti),at.queriedElements.forEach(Xt=>pe(o,Xt,[]).push(j)),at.preStyleProps.forEach((Xt,Xi)=>{if(Xt.size){let Me=l.get(Xi);Me||l.set(Xi,Me=new Set),Xt.forEach((fs,Eo)=>Me.add(Eo))}}),at.postStyleProps.forEach((Xt,Xi)=>{let Me=c.get(Xi);Me||c.set(Xi,Me=new Set),Xt.forEach((fs,Eo)=>Me.add(Eo))})});if(T.length){let P=[];T.forEach(D=>{P.push(Rm(D.triggerName,D.errors))}),k.forEach(D=>D.destroy()),this.reportError(P)}let A=new Map,I=new Map;r.forEach(P=>{let D=P.element;n.has(D)&&(I.set(D,D),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,A))}),a.forEach(P=>{let D=P.element;this._getPreviousPlayers(D,!1,P.namespaceId,P.triggerName,null).forEach(j=>{pe(A,D,[]).push(j),j.destroy()})});let R=v.filter(P=>Gm(P,l,c)),W=new Map;$m(W,this.driver,w,c,Fe).forEach(P=>{Gm(P,l,c)&&R.push(P)});let $=new Map;u.forEach((P,D)=>{$m($,this.driver,new Set(P),l,Da)}),R.forEach(P=>{let D=W.get(P),N=$.get(P);W.set(P,new Map([...D?.entries()??[],...N?.entries()??[]]))});let Ot=[],Gt=[],nt={};r.forEach(P=>{let{element:D,player:N,instruction:j}=P;if(n.has(D)){if(d.has(D)){N.onDestroy(()=>Ne(D,j.toStyles)),N.disabled=!0,N.overrideTotalTime(j.totalTime),a.push(N);return}let yt=nt;if(I.size>1){let zt=D,ne=[];for(;zt=zt.parentNode;){let at=I.get(zt);if(at){yt=at;break}ne.push(zt)}ne.forEach(at=>I.set(at,yt))}let ee=this._buildAnimation(N.namespaceId,j,A,s,$,W);if(N.setRealPlayer(ee),yt===nt)Ot.push(N);else{let zt=this.playersByElement.get(yt);zt&&zt.length&&(N.parentPlayer=di(zt)),a.push(N)}}else Ai(D,j.fromStyles),N.onDestroy(()=>Ne(D,j.toStyles)),Gt.push(N),d.has(D)&&a.push(N)}),Gt.forEach(P=>{let D=s.get(P.element);if(D&&D.length){let N=di(D);P.setRealPlayer(N)}}),a.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<v.length;P++){let D=v[P],N=D[ze];if(Qn(D,Hs),N&&N.hasAnimation)continue;let j=[];if(o.size){let ee=o.get(D);ee&&ee.length&&j.push(...ee);let zt=this.driver.query(D,js,!0);for(let ne=0;ne<zt.length;ne++){let at=o.get(zt[ne]);at&&at.length&&j.push(...at)}}let yt=j.filter(ee=>!ee.destroyed);yt.length?f_(this,D,yt):this.processLeaveNode(D)}return v.length=0,Ot.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();let D=this.players.indexOf(P);this.players.splice(D,1)}),P.play()}),Ot}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,a,s){let r=[];if(t){let o=this.playersByQueriedElement.get(e);o&&(r=o)}else{let o=this.playersByElement.get(e);if(o){let l=!s||s==Fa;o.forEach(c=>{c.queued||!l&&c.triggerName!=a||r.push(c)})}}return(n||a)&&(r=r.filter(o=>!(n&&n!=o.namespaceId||a&&a!=o.triggerName))),r}_beforeAnimationBuild(e,t,n){let a=t.triggerName,s=t.element,r=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:a;for(let l of t.timelines){let c=l.element,d=c!==s,m=pe(n,c,[]);this._getPreviousPlayers(c,d,r,o,t.toState).forEach(u=>{let _=u.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),u.destroy(),m.push(u)})}Ai(s,t.fromStyles)}_buildAnimation(e,t,n,a,s,r){let o=t.triggerName,l=t.element,c=[],d=new Set,m=new Set,h=t.timelines.map(_=>{let b=_.element;d.add(b);let v=b[ze];if(v&&v.removedBeforeQueried)return new ci(_.duration,_.delay);let x=b!==l,w=g_((n.get(b)||d_).map(A=>A.getRealPlayer())).filter(A=>{let I=A;return I.element?I.element===b:!1}),M=s.get(b),E=r.get(b),k=Bo(this._normalizer,_.keyframes,M,E),T=this._buildPlayer(_,k,w);if(_.subTimeline&&a&&m.add(b),x){let A=new Ba(e,o,b);A.setRealPlayer(T),c.push(A)}return T});c.forEach(_=>{pe(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>h_(this.playersByQueriedElement,_.element,_))}),d.forEach(_=>Te(_,Qo));let u=di(h);return u.onDestroy(()=>{d.forEach(_=>Qn(_,Qo)),Ne(l,t.toStyles)}),m.forEach(_=>{pe(a,_,[]).push(u)}),u}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new ci(e.duration,e.delay)}},Ba=class{namespaceId;triggerName;element;_player=new ci;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(a=>zs(e,n,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pe(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function h_(i,e,t){let n=i.get(e);if(n){if(n.length){let a=n.indexOf(t);n.splice(a,1)}n.length==0&&i.delete(e)}return n}function p_(i){return i??null}function $s(i){return i&&i.nodeType===1}function u_(i){return i=="start"||i=="done"}function qm(i,e){let t=i.style.display;return i.style.display=e??"none",t}function $m(i,e,t,n,a){let s=[];t.forEach(l=>s.push(qm(l)));let r=[];n.forEach((l,c)=>{let d=new Map;l.forEach(m=>{let h=e.computeStyle(c,m,a);d.set(m,h),(!h||h.length==0)&&(c[ze]=m_,r.push(c))}),i.set(c,d)});let o=0;return t.forEach(l=>qm(l,s[o++])),r}function Km(i,e){let t=new Map;if(i.forEach(o=>t.set(o,[])),e.length==0)return t;let n=1,a=new Set(e),s=new Map;function r(o){if(!o)return n;let l=s.get(o);if(l)return l;let c=o.parentNode;return t.has(c)?l=c:a.has(c)?l=n:l=r(c),s.set(o,l),l}return e.forEach(o=>{let l=r(o);l!==n&&t.get(l).push(o)}),t}function Te(i,e){i.classList?.add(e)}function Qn(i,e){i.classList?.remove(e)}function f_(i,e,t){di(t).onDone(()=>i.processLeaveNode(e))}function g_(i){let e=[];return eh(i,e),e}function eh(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof jn?eh(n.players,e):e.push(n)}}function __(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let a=0;a<t.length;a++){let s=t[a];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}function Gm(i,e,t){let n=t.get(i);if(!n)return!1;let a=e.get(i);return a?n.forEach(s=>a.add(s)):e.set(i,n),t.delete(i),!0}var qn=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new ol(e.body,t,n),this._timelineEngine=new sl(e.body,t,n),this._transitionEngine.onRemovalComplete=(a,s)=>this.onRemovalComplete(a,s)}registerTrigger(e,t,n,a,s){let r=e+"-"+a,o=this._triggerCache[r];if(!o){let l=[],c=[],d=Ym(this._driver,s,l,c);if(l.length)throw Cm(a,l);o=n_(a,d,this._normalizer),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(t,a,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,a){this._transitionEngine.insertNode(e,t,n,a)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,a){if(n.charAt(0)=="@"){let[s,r]=Vo(n),o=a;this._timelineEngine.command(s,t,r,o)}else this._transitionEngine.trigger(e,t,n,a)}listen(e,t,n,a,s){if(n.charAt(0)=="@"){let[r,o]=Vo(n);return this._timelineEngine.listen(r,t,o,s)}return this._transitionEngine.listen(e,t,n,a,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function b_(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Yo(e[0]),e.length>1&&(n=Yo(e[e.length-1]))):e instanceof Map&&(t=Yo(e)),t||n?new v_(i,t,n):null}var v_=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,a){this._element=t,this._startStyles=n,this._endStyles=a;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ne(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ne(this._element,this._initialStyles),this._endStyles&&(Ne(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ai(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ai(this._element,this._endStyles),this._endStyles=null),Ne(this._element,this._initialStyles),this._state=3)}}return i})();function Yo(i){let e=null;return i.forEach((t,n)=>{y_(n)&&(e=e||new Map,e.set(n,t))}),e}function y_(i){return i==="display"||i==="position"}var tr=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,a){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=a,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,a)=>{a!=="offset"&&e.set(a,this._finished?n:Us(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},er=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Ho(e,t)}getParentElement(e){return Vs(e)}query(e,t,n){return jo(e,t,n)}computeStyle(e,t,n){return Us(e,t)}animate(e,t,n,a,s,r=[]){let o=a==0?"both":"forwards",l={duration:n,delay:a,fill:o};s&&(l.easing=s);let c=new Map,d=r.filter(u=>u instanceof tr);zm(n,a)&&d.forEach(u=>{u.currentSnapshot.forEach((_,b)=>c.set(b,_))});let m=Fm(t).map(u=>new Map(u));m=Bm(e,m,c);let h=b_(e,m);return new tr(e,m,l,h)}};var Ks="@",ih="@.disabled",ir=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,a){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,a=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,n,a){if(a){this.delegate.removeChild(e,t,n);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,a){this.delegate.setAttribute(e,t,n,a)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,a){this.delegate.setStyle(e,t,n,a)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Ks&&t==ih?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,a){return this.delegate.listen(e,t,n,a)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ll=class extends ir{factory;constructor(e,t,n,a,s){super(t,n,a,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Ks?t.charAt(1)=="."&&t==ih?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,a){if(t.charAt(0)==Ks){let s=x_(e),r=t.slice(1),o="";return r.charAt(0)!=Ks&&([r,o]=w_(r)),this.engine.listen(this.namespaceId,s,r,o,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(e,t,n,a)}};function x_(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function w_(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var nr=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(a,s)=>{s?.removeChild(null,a)}}createRenderer(e,t){let a=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(a);if(!d){let m=()=>c.delete(a);d=new ir("",a,this.engine,m),c.set(a,d)}return d}let s=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);let o=c=>{Array.isArray(c)?c.forEach(o):this.engine.registerTrigger(s,r,e,c.name,c)};return t.data.animation.forEach(o),new ll(this,r,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let a=this._animationCallbacksBuffer;a.length==0&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(s=>{let[r,o]=s;r(o)}),this._animationCallbacksBuffer=[]})}),a.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var C_=(()=>{class i extends qn{constructor(t,n,a){super(t,n,a)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(wn(ei),wn(an),wn(sn))};static \u0275prov=Lt({token:i,factory:i.\u0275fac})}return i})();function k_(){return new Gs}function M_(i,e,t){return new nr(i,e,t)}var nh=[{provide:sn,useFactory:k_},{provide:qn,useClass:C_},{provide:rd,useFactory:M_,deps:[vd,qn,Ut]}],VM=[{provide:an,useClass:cl},{provide:Po,useValue:"NoopAnimations"},...nh],E_=[{provide:an,useFactory:()=>new er},{provide:Po,useFactory:()=>"BrowserAnimations"},...nh];function ah(){return od("NgEagerAnimations"),[...E_]}function ja(i){return i+.5|0}var Di=(i,e,t)=>Math.max(Math.min(i,t),e);function Va(i){return Di(ja(i*2.55),0,255)}function Oi(i){return Di(ja(i*255),0,255)}function mi(i){return Di(ja(i/2.55)/100,0,1)}function sh(i){return Di(ja(i*100),0,100)}var Ie={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hl=[..."0123456789ABCDEF"],T_=i=>hl[i&15],I_=i=>hl[(i&240)>>4]+hl[i&15],ar=i=>(i&240)>>4===(i&15),P_=i=>ar(i.r)&&ar(i.g)&&ar(i.b)&&ar(i.a);function A_(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&Ie[i[1]]*17,g:255&Ie[i[2]]*17,b:255&Ie[i[3]]*17,a:e===5?Ie[i[4]]*17:255}:(e===7||e===9)&&(t={r:Ie[i[1]]<<4|Ie[i[2]],g:Ie[i[3]]<<4|Ie[i[4]],b:Ie[i[5]]<<4|Ie[i[6]],a:e===9?Ie[i[7]]<<4|Ie[i[8]]:255})),t}var D_=(i,e)=>i<255?e(i):"";function O_(i){var e=P_(i)?T_:I_;return i?"#"+e(i.r)+e(i.g)+e(i.b)+D_(i.a,e):void 0}var R_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ch(i,e,t){let n=e*Math.min(t,1-t),a=(s,r=(s+i/30)%12)=>t-n*Math.max(Math.min(r-3,9-r,1),-1);return[a(0),a(8),a(4)]}function L_(i,e,t){let n=(a,s=(a+i/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function F_(i,e,t){let n=ch(i,1,.5),a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)n[a]*=1-e-t,n[a]+=e;return n}function N_(i,e,t,n,a){return i===a?(e-t)/n+(e<t?6:0):e===a?(t-i)/n+2:(i-e)/n+4}function pl(i){let t=i.r/255,n=i.g/255,a=i.b/255,s=Math.max(t,n,a),r=Math.min(t,n,a),o=(s+r)/2,l,c,d;return s!==r&&(d=s-r,c=o>.5?d/(2-s-r):d/(s+r),l=N_(t,n,a,d,s),l=l*60+.5),[l|0,c||0,o]}function ul(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(Oi)}function fl(i,e,t){return ul(ch,i,e,t)}function z_(i,e,t){return ul(F_,i,e,t)}function B_(i,e,t){return ul(L_,i,e,t)}function dh(i){return(i%360+360)%360}function V_(i){let e=R_.exec(i),t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Va(+e[5]):Oi(+e[5]));let a=dh(+e[2]),s=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?n=z_(a,s,r):e[1]==="hsv"?n=B_(a,s,r):n=fl(a,s,r),{r:n[0],g:n[1],b:n[2],a:t}}function H_(i,e){var t=pl(i);t[0]=dh(t[0]+e),t=fl(t),i.r=t[0],i.g=t[1],i.b=t[2]}function j_(i){if(!i)return;let e=pl(i),t=e[0],n=sh(e[1]),a=sh(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${a}%, ${mi(i.a)})`:`hsl(${t}, ${n}%, ${a}%)`}var rh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function W_(){let i={},e=Object.keys(oh),t=Object.keys(rh),n,a,s,r,o;for(n=0;n<e.length;n++){for(r=o=e[n],a=0;a<t.length;a++)s=t[a],o=o.replace(s,rh[s]);s=parseInt(oh[r],16),i[o]=[s>>16&255,s>>8&255,s&255]}return i}var sr;function U_(i){sr||(sr=W_(),sr.transparent=[0,0,0,0]);let e=sr[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var Q_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function q_(i){let e=Q_.exec(i),t=255,n,a,s;if(e){if(e[7]!==n){let r=+e[7];t=e[8]?Va(r):Di(r*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?Va(n):Di(n,0,255)),a=255&(e[4]?Va(a):Di(a,0,255)),s=255&(e[6]?Va(s):Di(s,0,255)),{r:n,g:a,b:s,a:t}}}function $_(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${mi(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var ml=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,$n=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function K_(i,e,t){let n=$n(mi(i.r)),a=$n(mi(i.g)),s=$n(mi(i.b));return{r:Oi(ml(n+t*($n(mi(e.r))-n))),g:Oi(ml(a+t*($n(mi(e.g))-a))),b:Oi(ml(s+t*($n(mi(e.b))-s))),a:i.a+t*(e.a-i.a)}}function rr(i,e,t){if(i){let n=pl(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=fl(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function mh(i,e){return i&&Object.assign(e||{},i)}function lh(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Oi(i[3]))):(e=mh(i,{r:0,g:0,b:0,a:1}),e.a=Oi(e.a)),e}function G_(i){return i.charAt(0)==="r"?q_(i):V_(i)}var Ha=class i{constructor(e){if(e instanceof i)return e;let t=typeof e,n;t==="object"?n=lh(e):t==="string"&&(n=A_(e)||U_(e)||G_(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=mh(this._rgb);return e&&(e.a=mi(e.a)),e}set rgb(e){this._rgb=lh(e)}rgbString(){return this._valid?$_(this._rgb):void 0}hexString(){return this._valid?O_(this._rgb):void 0}hslString(){return this._valid?j_(this._rgb):void 0}mix(e,t){if(e){let n=this.rgb,a=e.rgb,s,r=t===s?.5:t,o=2*r-1,l=n.a-a.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,n.r=255&c*n.r+s*a.r+.5,n.g=255&c*n.g+s*a.g+.5,n.b=255&c*n.b+s*a.b+.5,n.a=r*n.a+(1-r)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=K_(this._rgb,e._rgb,t)),this}clone(){return new i(this.rgb)}alpha(e){return this._rgb.a=Oi(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=ja(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return rr(this._rgb,2,e),this}darken(e){return rr(this._rgb,2,-e),this}saturate(e){return rr(this._rgb,1,e),this}desaturate(e){return rr(this._rgb,1,-e),this}rotate(e){return H_(this._rgb,e),this}};function $e(){}var wh=(()=>{let i=0;return()=>i++})();function Z(i){return i==null}function bt(i){if(Array.isArray&&Array.isArray(i))return!0;let e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Pt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function fe(i,e){return Pt(i)?i:e}function Q(i,e){return typeof i>"u"?e:i}var Sh=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,vl=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function ft(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function rt(i,e,t,n){let a,s,r;if(bt(i))if(s=i.length,n)for(a=s-1;a>=0;a--)e.call(t,i[a],a);else for(a=0;a<s;a++)e.call(t,i[a],a);else if(J(i))for(r=Object.keys(i),s=r.length,a=0;a<s;a++)e.call(t,i[r[a]],r[a])}function Qa(i,e){let t,n,a,s;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(a=i[t],s=e[t],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function dr(i){if(bt(i))return i.map(dr);if(J(i)){let e=Object.create(null),t=Object.keys(i),n=t.length,a=0;for(;a<n;++a)e[t[a]]=dr(i[t[a]]);return e}return i}function Ch(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function X_(i,e,t,n){if(!Ch(i))return;let a=e[i],s=t[i];J(a)&&J(s)?Gn(a,s,n):e[i]=dr(s)}function Gn(i,e,t){let n=bt(e)?e:[e],a=n.length;if(!J(i))return i;t=t||{};let s=t.merger||X_,r;for(let o=0;o<a;++o){if(r=n[o],!J(r))continue;let l=Object.keys(r);for(let c=0,d=l.length;c<d;++c)s(l[c],i,r,t)}return i}function Yn(i,e){return Gn(i,e,{merger:Y_})}function Y_(i,e,t){if(!Ch(i))return;let n=e[i],a=t[i];J(n)&&J(a)?Yn(n,a):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=dr(a))}var hh={"":i=>i,x:i=>i.x,y:i=>i.y};function Z_(i){let e=i.split("."),t=[],n="";for(let a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function J_(i){let e=Z_(i);return t=>{for(let n of e){if(n==="")break;t=t&&t[n]}return t}}function ui(i,e){return(hh[e]||(hh[e]=J_(e)))(i)}function ur(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Zn=i=>typeof i<"u",hi=i=>typeof i=="function",yl=(i,e)=>{if(i.size!==e.size)return!1;for(let t of i)if(!e.has(t))return!1;return!0};function kh(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var it=Math.PI,vt=2*it,t0=vt+it,mr=Number.POSITIVE_INFINITY,e0=it/180,Dt=it/2,rn=it/4,ph=it*2/3,pi=Math.log10,Be=Math.sign;function Jn(i,e,t){return Math.abs(i-e)<t}function xl(i){let e=Math.round(i);i=Jn(i,e,i/1e3)?e:i;let t=Math.pow(10,Math.floor(pi(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Mh(i){let e=[],t=Math.sqrt(i),n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((a,s)=>a-s).pop(),e}function i0(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function cn(i){return!i0(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Eh(i,e){let t=Math.round(i);return t-e<=i&&t+e>=i}function wl(i,e,t){let n,a,s;for(n=0,a=i.length;n<a;n++)s=i[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Pe(i){return i*(it/180)}function fr(i){return i*(180/it)}function Sl(i){if(!Pt(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function Cl(i,e){let t=e.x-i.x,n=e.y-i.y,a=Math.sqrt(t*t+n*n),s=Math.atan2(n,t);return s<-.5*it&&(s+=vt),{angle:s,distance:a}}function hr(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function n0(i,e){return(i-e+t0)%vt-it}function qt(i){return(i%vt+vt)%vt}function ta(i,e,t,n){let a=qt(i),s=qt(e),r=qt(t),o=qt(s-a),l=qt(r-a),c=qt(a-s),d=qt(a-r);return a===s||a===r||n&&s===r||o>l&&c<d}function Ht(i,e,t){return Math.max(e,Math.min(t,i))}function Th(i){return Ht(i,-32768,32767)}function Ke(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function gr(i,e,t){t=t||(r=>i[r]<e);let n=i.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,t(s)?a=s:n=s;return{lo:a,hi:n}}var Qe=(i,e,t,n)=>gr(i,t,n?a=>{let s=i[a][e];return s<t||s===t&&i[a+1][e]===t}:a=>i[a][e]<t),Ih=(i,e,t)=>gr(i,t,n=>i[n][e]>=t);function Ph(i,e,t){let n=0,a=i.length;for(;n<a&&i[n]<e;)n++;for(;a>n&&i[a-1]>t;)a--;return n>0||a<i.length?i.slice(n,a):i}var Ah=["push","pop","shift","splice","unshift"];function Dh(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ah.forEach(t=>{let n="_onData"+ur(t),a=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...s){let r=a.apply(this,s);return i._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),r}})})}function kl(i,e){let t=i._chartjs;if(!t)return;let n=t.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Ah.forEach(s=>{delete i[s]}),delete i._chartjs)}function Ml(i){let e=new Set(i);return e.size===i.length?i:Array.from(e)}var El=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function Tl(i,e){let t=[],n=!1;return function(...a){t=a,n||(n=!0,El.call(window,()=>{n=!1,i.apply(e,t)}))}}function Oh(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}var _r=i=>i==="start"?"left":i==="end"?"right":"center",$t=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,Rh=(i,e,t,n)=>i===(n?"left":"right")?t:i==="center"?(e+t)/2:e;function Il(i,e,t){let n=e.length,a=0,s=n;if(i._sorted){let{iScale:r,vScale:o,_parsed:l}=i,c=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,d=r.axis,{min:m,max:h,minDefined:u,maxDefined:_}=r.getUserBounds();if(u){if(a=Math.min(Qe(l,d,m).lo,t?n:Qe(e,d,r.getPixelForValue(m)).lo),c){let b=l.slice(0,a+1).reverse().findIndex(v=>!Z(v[o.axis]));a-=Math.max(0,b)}a=Ht(a,0,n-1)}if(_){let b=Math.max(Qe(l,r.axis,h,!0).hi+1,t?0:Qe(e,d,r.getPixelForValue(h),!0).hi+1);if(c){let v=l.slice(b-1).findIndex(x=>!Z(x[o.axis]));b+=Math.max(0,v)}s=Ht(b,a,n)-a}else s=n-a}return{start:a,count:s}}function Pl(i){let{xScale:e,yScale:t,_scaleRanges:n}=i,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=a,!0;let s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,a),s}var or=i=>i===0||i===1,uh=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*vt/t)),fh=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*vt/t)+1,Kn={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Dt)+1,easeOutSine:i=>Math.sin(i*Dt),easeInOutSine:i=>-.5*(Math.cos(it*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>or(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>or(i)?i:uh(i,.075,.3),easeOutElastic:i=>or(i)?i:fh(i,.075,.3),easeInOutElastic(i){return or(i)?i:i<.5?.5*uh(i*2,.1125,.45):.5+.5*fh(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Kn.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Kn.easeInBounce(i*2)*.5:Kn.easeOutBounce(i*2-1)*.5+.5};function Al(i){if(i&&typeof i=="object"){let e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Dl(i){return Al(i)?i:new Ha(i)}function gl(i){return Al(i)?i:new Ha(i).saturate(.5).darken(.1).hexString()}var a0=["x","y","borderWidth","radius","tension"],s0=["color","borderColor","backgroundColor"];function r0(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:s0},numbers:{type:"number",properties:a0}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function o0(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var gh=new Map;function l0(i,e){e=e||{};let t=i+JSON.stringify(e),n=gh.get(t);return n||(n=new Intl.NumberFormat(i,e),gh.set(t,n)),n}function ea(i,e,t){return l0(e,t).format(i)}var Lh={values(i){return bt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";let n=this.chart.options.locale,a,s=i;if(t.length>1){let c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(a="scientific"),s=c0(i,t)}let r=pi(Math.abs(s)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),ea(i,n,l)},logarithmic(i,e,t){if(i===0)return"0";let n=t[e].significand||i/Math.pow(10,Math.floor(pi(i)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?Lh.numeric.call(this,i,e,t):""}};function c0(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var qa={formatters:Lh};function d0(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qa.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Fi=Object.create(null),br=Object.create(null);function Wa(i,e){if(!e)return i;let t=e.split(".");for(let n=0,a=t.length;n<a;++n){let s=t[n];i=i[s]||(i[s]=Object.create(null))}return i}function _l(i,e,t){return typeof e=="string"?Gn(Wa(i,e),t):Gn(Wa(i,""),e)}var bl=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>gl(a.backgroundColor),this.hoverBorderColor=(n,a)=>gl(a.borderColor),this.hoverColor=(n,a)=>gl(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _l(this,e,t)}get(e){return Wa(this,e)}describe(e,t){return _l(br,e,t)}override(e,t){return _l(Fi,e,t)}route(e,t,n,a){let s=Wa(this,e),r=Wa(this,n),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[o],c=r[a];return J(l)?Object.assign({},c,l):Q(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}},gt=new bl({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[r0,o0,d0]);function m0(i){return!i||Z(i.size)||Z(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Ua(i,e,t,n,a){let s=e[a];return s||(s=e[a]=i.measureText(a).width,t.push(a)),s>n&&(n=s),n}function Fh(i,e,t,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),i.save(),i.font=e;let r=0,o=t.length,l,c,d,m,h;for(l=0;l<o;l++)if(m=t[l],m!=null&&!bt(m))r=Ua(i,a,s,r,m);else if(bt(m))for(c=0,d=m.length;c<d;c++)h=m[c],h!=null&&!bt(h)&&(r=Ua(i,a,s,r,h));i.restore();let u=s.length/2;if(u>t.length){for(l=0;l<u;l++)delete a[s[l]];s.splice(0,u)}return r}function Ni(i,e,t){let n=i.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*n)/n+a}function Ol(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function vr(i,e,t,n){Rl(i,e,t,n,null)}function Rl(i,e,t,n,a){let s,r,o,l,c,d,m,h,u=e.pointStyle,_=e.rotation,b=e.radius,v=(_||0)*e0;if(u&&typeof u=="object"&&(s=u.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(v),i.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),i.restore();return}if(!(isNaN(b)||b<=0)){switch(i.beginPath(),u){default:a?i.ellipse(t,n,a/2,b,0,0,vt):i.arc(t,n,b,0,vt),i.closePath();break;case"triangle":d=a?a/2:b,i.moveTo(t+Math.sin(v)*d,n-Math.cos(v)*b),v+=ph,i.lineTo(t+Math.sin(v)*d,n-Math.cos(v)*b),v+=ph,i.lineTo(t+Math.sin(v)*d,n-Math.cos(v)*b),i.closePath();break;case"rectRounded":c=b*.516,l=b-c,r=Math.cos(v+rn)*l,m=Math.cos(v+rn)*(a?a/2-c:l),o=Math.sin(v+rn)*l,h=Math.sin(v+rn)*(a?a/2-c:l),i.arc(t-m,n-o,c,v-it,v-Dt),i.arc(t+h,n-r,c,v-Dt,v),i.arc(t+m,n+o,c,v,v+Dt),i.arc(t-h,n+r,c,v+Dt,v+it),i.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*b,d=a?a/2:l,i.rect(t-d,n-l,2*d,2*l);break}v+=rn;case"rectRot":m=Math.cos(v)*(a?a/2:b),r=Math.cos(v)*b,o=Math.sin(v)*b,h=Math.sin(v)*(a?a/2:b),i.moveTo(t-m,n-o),i.lineTo(t+h,n-r),i.lineTo(t+m,n+o),i.lineTo(t-h,n+r),i.closePath();break;case"crossRot":v+=rn;case"cross":m=Math.cos(v)*(a?a/2:b),r=Math.cos(v)*b,o=Math.sin(v)*b,h=Math.sin(v)*(a?a/2:b),i.moveTo(t-m,n-o),i.lineTo(t+m,n+o),i.moveTo(t+h,n-r),i.lineTo(t-h,n+r);break;case"star":m=Math.cos(v)*(a?a/2:b),r=Math.cos(v)*b,o=Math.sin(v)*b,h=Math.sin(v)*(a?a/2:b),i.moveTo(t-m,n-o),i.lineTo(t+m,n+o),i.moveTo(t+h,n-r),i.lineTo(t-h,n+r),v+=rn,m=Math.cos(v)*(a?a/2:b),r=Math.cos(v)*b,o=Math.sin(v)*b,h=Math.sin(v)*(a?a/2:b),i.moveTo(t-m,n-o),i.lineTo(t+m,n+o),i.moveTo(t+h,n-r),i.lineTo(t-h,n+r);break;case"line":r=a?a/2:Math.cos(v)*b,o=Math.sin(v)*b,i.moveTo(t-r,n-o),i.lineTo(t+r,n+o);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(v)*(a?a/2:b),n+Math.sin(v)*b);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function qe(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function $a(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Ka(i){i.restore()}function Nh(i,e,t,n,a){if(!e)return i.lineTo(t.x,t.y);if(a==="middle"){let s=(e.x+t.x)/2;i.lineTo(s,e.y),i.lineTo(s,t.y)}else a==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function zh(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function h0(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Z(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function p0(i,e,t,n,a){if(a.strikethrough||a.underline){let s=i.measureText(n),r=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=a.decorationWidth||2,i.moveTo(r,d),i.lineTo(o,d),i.stroke()}}function u0(i,e){let t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function zi(i,e,t,n,a,s={}){let r=bt(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="",l,c;for(i.save(),i.font=a.string,h0(i,s),l=0;l<r.length;++l)c=r[l],s.backdrop&&u0(i,s.backdrop),o&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),Z(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(c,t,n,s.maxWidth)),i.fillText(c,t,n,s.maxWidth),p0(i,t,n,c,s),n+=Number(a.lineHeight);i.restore()}function ia(i,e){let{x:t,y:n,w:a,h:s,radius:r}=e;i.arc(t+r.topLeft,n+r.topLeft,r.topLeft,1.5*it,it,!0),i.lineTo(t,n+s-r.bottomLeft),i.arc(t+r.bottomLeft,n+s-r.bottomLeft,r.bottomLeft,it,Dt,!0),i.lineTo(t+a-r.bottomRight,n+s),i.arc(t+a-r.bottomRight,n+s-r.bottomRight,r.bottomRight,Dt,0,!0),i.lineTo(t+a,n+r.topRight),i.arc(t+a-r.topRight,n+r.topRight,r.topRight,0,-Dt,!0),i.lineTo(t+r.topLeft,n)}var f0=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,g0=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _0(i,e){let t=(""+i).match(f0);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}var b0=i=>+i||0;function yr(i,e){let t={},n=J(e),a=n?Object.keys(e):e,s=J(i)?n?r=>Q(i[r],i[e[r]]):r=>i[r]:()=>i;for(let r of a)t[r]=b0(s(r));return t}function Ll(i){return yr(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Bi(i){return yr(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Kt(i){let e=Ll(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vt(i,e){i=i||{},e=e||gt.font;let t=Q(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Q(i.style,e.style);n&&!(""+n).match(g0)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let a={family:Q(i.family,e.family),lineHeight:_0(Q(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:Q(i.weight,e.weight),string:""};return a.string=m0(a),a}function na(i,e,t,n){let a=!0,s,r,o;for(s=0,r=i.length;s<r;++s)if(o=i[s],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),a=!1),t!==void 0&&bt(o)&&(o=o[t%o.length],a=!1),o!==void 0))return n&&!a&&(n.cacheable=!1),o}function Bh(i,e,t){let{min:n,max:a}=i,s=vl(e,(a-n)/2),r=(o,l)=>t&&o===0?0:o+l;return{min:r(n,-Math.abs(s)),max:r(a,s)}}function fi(i,e){return Object.assign(Object.create(i),e)}function xr(i,e=[""],t,n,a=()=>i[0]){let s=t||i;typeof n>"u"&&(n=jh("_fallback",i));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:a,override:o=>xr([o,...i],e,s,n)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete o._keys,delete i[0][l],!0},get(o,l){return Vh(o,l,()=>M0(l,e,i,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(o,l){return bh(o).includes(l)},ownKeys(o){return bh(o)},set(o,l,c){let d=o._storage||(o._storage=a());return o[l]=d[l]=c,delete o._keys,!0}})}function ln(i,e,t,n){let a={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:Fl(i,n),setContext:s=>ln(i,s,t,n),override:s=>ln(i.override(s),e,t,n)};return new Proxy(a,{deleteProperty(s,r){return delete s[r],delete i[r],!0},get(s,r,o){return Vh(s,r,()=>y0(s,r,o))},getOwnPropertyDescriptor(s,r){return s._descriptors.allKeys?Reflect.has(i,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,r)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,r){return Reflect.has(i,r)},ownKeys(){return Reflect.ownKeys(i)},set(s,r,o){return i[r]=o,delete s[r],!0}})}function Fl(i,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=i;return{allKeys:a,scriptable:t,indexable:n,isScriptable:hi(t)?t:()=>t,isIndexable:hi(n)?n:()=>n}}var v0=(i,e)=>i?i+ur(e):e,Nl=(i,e)=>J(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vh(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];let n=t();return i[e]=n,n}function y0(i,e,t){let{_proxy:n,_context:a,_subProxy:s,_descriptors:r}=i,o=n[e];return hi(o)&&r.isScriptable(e)&&(o=x0(e,o,i,t)),bt(o)&&o.length&&(o=w0(e,o,i,r.isIndexable)),Nl(e,o)&&(o=ln(o,a,s&&s[e],r)),o}function x0(i,e,t,n){let{_proxy:a,_context:s,_subProxy:r,_stack:o}=t;if(o.has(i))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+i);o.add(i);let l=e(s,r||n);return o.delete(i),Nl(i,l)&&(l=zl(a._scopes,a,i,l)),l}function w0(i,e,t,n){let{_proxy:a,_context:s,_subProxy:r,_descriptors:o}=t;if(typeof s.index<"u"&&n(i))return e[s.index%e.length];if(J(e[0])){let l=e,c=a._scopes.filter(d=>d!==l);e=[];for(let d of l){let m=zl(c,a,i,d);e.push(ln(m,s,r&&r[i],o))}}return e}function Hh(i,e,t){return hi(i)?i(e,t):i}var S0=(i,e)=>i===!0?e:typeof i=="string"?ui(e,i):void 0;function C0(i,e,t,n,a){for(let s of e){let r=S0(t,s);if(r){i.add(r);let o=Hh(r._fallback,t,a);if(typeof o<"u"&&o!==t&&o!==n)return o}else if(r===!1&&typeof n<"u"&&t!==n)return null}return!1}function zl(i,e,t,n){let a=e._rootScopes,s=Hh(e._fallback,t,n),r=[...i,...a],o=new Set;o.add(n);let l=_h(o,r,t,s||t,n);return l===null||typeof s<"u"&&s!==t&&(l=_h(o,r,s,l,n),l===null)?!1:xr(Array.from(o),[""],a,s,()=>k0(e,t,n))}function _h(i,e,t,n,a){for(;t;)t=C0(i,e,t,n,a);return t}function k0(i,e,t){let n=i._getTarget();e in n||(n[e]={});let a=n[e];return bt(a)&&J(t)?t:a||{}}function M0(i,e,t,n){let a;for(let s of e)if(a=jh(v0(s,i),t),typeof a<"u")return Nl(i,a)?zl(t,n,i,a):a}function jh(i,e){for(let t of e){if(!t)continue;let n=t[i];if(typeof n<"u")return n}}function bh(i){let e=i._keys;return e||(e=i._keys=E0(i._scopes)),e}function E0(i){let e=new Set;for(let t of i)for(let n of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function Bl(i,e,t,n){let{iScale:a}=i,{key:s="r"}=this._parsing,r=new Array(n),o,l,c,d;for(o=0,l=n;o<l;++o)c=o+t,d=e[c],r[o]={r:a.parse(ui(d,s),c)};return r}var T0=Number.EPSILON||1e-14,Xn=(i,e)=>e<i.length&&!i[e].skip&&i[e],Wh=i=>i==="x"?"y":"x";function I0(i,e,t,n){let a=i.skip?e:i,s=e,r=t.skip?e:t,o=hr(s,a),l=hr(r,s),c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let m=n*c,h=n*d;return{previous:{x:s.x-m*(r.x-a.x),y:s.y-m*(r.y-a.y)},next:{x:s.x+h*(r.x-a.x),y:s.y+h*(r.y-a.y)}}}function P0(i,e,t){let n=i.length,a,s,r,o,l,c=Xn(i,0);for(let d=0;d<n-1;++d)if(l=c,c=Xn(i,d+1),!(!l||!c)){if(Jn(e[d],0,T0)){t[d]=t[d+1]=0;continue}a=t[d]/e[d],s=t[d+1]/e[d],o=Math.pow(a,2)+Math.pow(s,2),!(o<=9)&&(r=3/Math.sqrt(o),t[d]=a*r*e[d],t[d+1]=s*r*e[d])}}function A0(i,e,t="x"){let n=Wh(t),a=i.length,s,r,o,l=Xn(i,0);for(let c=0;c<a;++c){if(r=o,o=l,l=Xn(i,c+1),!o)continue;let d=o[t],m=o[n];r&&(s=(d-r[t])/3,o[`cp1${t}`]=d-s,o[`cp1${n}`]=m-s*e[c]),l&&(s=(l[t]-d)/3,o[`cp2${t}`]=d+s,o[`cp2${n}`]=m+s*e[c])}}function D0(i,e="x"){let t=Wh(e),n=i.length,a=Array(n).fill(0),s=Array(n),r,o,l,c=Xn(i,0);for(r=0;r<n;++r)if(o=l,l=c,c=Xn(i,r+1),!!l){if(c){let d=c[e]-l[e];a[r]=d!==0?(c[t]-l[t])/d:0}s[r]=o?c?Be(a[r-1])!==Be(a[r])?0:(a[r-1]+a[r])/2:a[r-1]:a[r]}P0(i,a,s),A0(i,s,e)}function lr(i,e,t){return Math.max(Math.min(i,t),e)}function O0(i,e){let t,n,a,s,r,o=qe(i[0],e);for(t=0,n=i.length;t<n;++t)r=s,s=o,o=t<n-1&&qe(i[t+1],e),s&&(a=i[t],r&&(a.cp1x=lr(a.cp1x,e.left,e.right),a.cp1y=lr(a.cp1y,e.top,e.bottom)),o&&(a.cp2x=lr(a.cp2x,e.left,e.right),a.cp2y=lr(a.cp2y,e.top,e.bottom)))}function Uh(i,e,t,n,a){let s,r,o,l;if(e.spanGaps&&(i=i.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")D0(i,a);else{let c=n?i[i.length-1]:i[0];for(s=0,r=i.length;s<r;++s)o=i[s],l=I0(c,o,i[Math.min(s+1,r-(n?0:1))%r],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&O0(i,t)}function wr(){return typeof window<"u"&&typeof document<"u"}function Sr(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pr(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}var Cr=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function R0(i,e){return Cr(i).getPropertyValue(e)}var L0=["top","right","bottom","left"];function on(i,e,t){let n={};t=t?"-"+t:"";for(let a=0;a<4;a++){let s=L0[a];n[s]=parseFloat(i[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var F0=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function N0(i,e){let t=i.touches,n=t&&t.length?t[0]:i,{offsetX:a,offsetY:s}=n,r=!1,o,l;if(F0(a,s,i.target))o=a,l=s;else{let c=e.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:o,y:l,box:r}}function Vi(i,e){if("native"in i)return i;let{canvas:t,currentDevicePixelRatio:n}=e,a=Cr(t),s=a.boxSizing==="border-box",r=on(a,"padding"),o=on(a,"border","width"),{x:l,y:c,box:d}=N0(i,t),m=r.left+(d&&o.left),h=r.top+(d&&o.top),{width:u,height:_}=e;return s&&(u-=r.width+o.width,_-=r.height+o.height),{x:Math.round((l-m)/u*t.width/n),y:Math.round((c-h)/_*t.height/n)}}function z0(i,e,t){let n,a;if(e===void 0||t===void 0){let s=i&&Sr(i);if(!s)e=i.clientWidth,t=i.clientHeight;else{let r=s.getBoundingClientRect(),o=Cr(s),l=on(o,"border","width"),c=on(o,"padding");e=r.width-c.width-l.width,t=r.height-c.height-l.height,n=pr(o.maxWidth,s,"clientWidth"),a=pr(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||mr,maxHeight:a||mr}}var Li=i=>Math.round(i*10)/10;function Qh(i,e,t,n){let a=Cr(i),s=on(a,"margin"),r=pr(a.maxWidth,i,"clientWidth")||mr,o=pr(a.maxHeight,i,"clientHeight")||mr,l=z0(i,e,t),{width:c,height:d}=l;if(a.boxSizing==="content-box"){let h=on(a,"border","width"),u=on(a,"padding");c-=u.width+h.width,d-=u.height+h.height}return c=Math.max(0,c-s.width),d=Math.max(0,n?c/n:d-s.height),c=Li(Math.min(c,r,l.maxWidth)),d=Li(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Li(c/2)),(e!==void 0||t!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=Li(Math.floor(d*n))),{width:c,height:d}}function Vl(i,e,t){let n=e||1,a=Li(i.height*n),s=Li(i.width*n);i.height=Li(i.height),i.width=Li(i.width);let r=i.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${i.height}px`,r.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||r.height!==a||r.width!==s?(i.currentDevicePixelRatio=n,r.height=a,r.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var qh=(function(){let i=!1;try{let e={get passive(){return i=!0,!1}};wr()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i})();function Hl(i,e){let t=R0(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Ri(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function $h(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function Kh(i,e,t,n){let a={x:i.cp2x,y:i.cp2y},s={x:e.cp1x,y:e.cp1y},r=Ri(i,a,t),o=Ri(a,s,t),l=Ri(s,e,t),c=Ri(r,o,t),d=Ri(o,l,t);return Ri(c,d,t)}var B0=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},V0=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function dn(i,e,t){return i?B0(e,t):V0()}function jl(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function Wl(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function Gh(i){return i==="angle"?{between:ta,compare:n0,normalize:qt}:{between:Ke,compare:(e,t)=>e-t,normalize:e=>e}}function vh({start:i,end:e,count:t,loop:n,style:a}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:a}}function H0(i,e,t){let{property:n,start:a,end:s}=t,{between:r,normalize:o}=Gh(n),l=e.length,{start:c,end:d,loop:m}=i,h,u;if(m){for(c+=l,d+=l,h=0,u=l;h<u&&r(o(e[c%l][n]),a,s);++h)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:m,style:i.style}}function Ul(i,e,t){if(!t)return[i];let{property:n,start:a,end:s}=t,r=e.length,{compare:o,between:l,normalize:c}=Gh(n),{start:d,end:m,loop:h,style:u}=H0(i,e,t),_=[],b=!1,v=null,x,w,M,E=()=>l(a,M,x)&&o(a,M)!==0,k=()=>o(s,x)===0||l(s,M,x),T=()=>b||E(),A=()=>!b||k();for(let I=d,R=d;I<=m;++I)w=e[I%r],!w.skip&&(x=c(w[n]),x!==M&&(b=l(x,a,s),v===null&&T()&&(v=o(x,a)===0?I:R),v!==null&&A()&&(_.push(vh({start:v,end:I,loop:h,count:r,style:u})),v=null),R=I,M=x));return v!==null&&_.push(vh({start:v,end:m,loop:h,count:r,style:u})),_}function Ql(i,e){let t=[],n=i.segments;for(let a=0;a<n.length;a++){let s=Ul(n[a],i.points,e);s.length&&t.push(...s)}return t}function j0(i,e,t,n){let a=0,s=e-1;if(t&&!n)for(;a<e&&!i[a].skip;)a++;for(;a<e&&i[a].skip;)a++;for(a%=e,t&&(s+=a);s>a&&i[s%e].skip;)s--;return s%=e,{start:a,end:s}}function W0(i,e,t,n){let a=i.length,s=[],r=e,o=i[e],l;for(l=e+1;l<=t;++l){let c=i[l%a];c.skip||c.stop?o.skip||(n=!1,s.push({start:e%a,end:(l-1)%a,loop:n}),e=r=c.stop?l:null):(r=l,o.skip&&(e=l)),o=c}return r!==null&&s.push({start:e%a,end:r%a,loop:n}),s}function Xh(i,e){let t=i.points,n=i.options.spanGaps,a=t.length;if(!a)return[];let s=!!i._loop,{start:r,end:o}=j0(t,a,s,n);if(n===!0)return yh(i,[{start:r,end:o,loop:s}],t,e);let l=o<r?o+a:o,c=!!i._fullLoop&&r===0&&o===a-1;return yh(i,W0(t,r,l,c),t,e)}function yh(i,e,t,n){return!n||!n.setContext||!t?e:U0(i,e,t,n)}function U0(i,e,t,n){let a=i._chart.getContext(),s=xh(i.options),{_datasetIndex:r,options:{spanGaps:o}}=i,l=t.length,c=[],d=s,m=e[0].start,h=m;function u(_,b,v,x){let w=o?-1:1;if(_!==b){for(_+=l;t[_%l].skip;)_-=w;for(;t[b%l].skip;)b+=w;_%l!==b%l&&(c.push({start:_%l,end:b%l,loop:v,style:x}),d=x,m=b%l)}}for(let _ of e){m=o?m:_.start;let b=t[m%l],v;for(h=m+1;h<=_.end;h++){let x=t[h%l];v=xh(n.setContext(fi(a,{type:"segment",p0:b,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),Q0(v,d)&&u(m,h-1,_.loop,d),b=x,d=v}m<h-1&&u(m,h-1,_.loop,d)}return c}function xh(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Q0(i,e){if(!e)return!1;let t=[],n=function(a,s){return Al(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(i,n)!==JSON.stringify(e,n)}function cr(i,e,t){return i.options.clip?i[t]:e[t]}function q0(i,e){let{xScale:t,yScale:n}=i;return t&&n?{left:cr(t,e,"left"),right:cr(t,e,"right"),top:cr(n,e,"top"),bottom:cr(n,e,"bottom")}:e}function ql(i,e){let t=e._clip;if(t.disabled)return!1;let n=q0(e,i.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:n.bottom+(t.bottom===!0?0:t.bottom)}}var ac=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,a){let s=t.listeners[a],r=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(n-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=El.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;let s=n.items,r=s.length-1,o=!1,l;for(;r>=0;--r)l=s[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[r]=s[s.length-1],s.pop());o&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let n=t.items,a=n.length-1;for(;a>=0;--a)n[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},gi=new ac,Yh="transparent",$0={boolean(i,e,t){return t>.5?e:i},color(i,e,t){let n=Dl(i||Yh),a=n.valid&&Dl(e||Yh);return a&&a.valid?a.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}},sc=class{constructor(e,t,n,a){let s=t[n];a=na([e.to,a,s,e.from]);let r=na([e.from,s,a]);this._active=!0,this._fn=e.fn||$0[e.type||typeof r],this._easing=Kn[e.easing]||Kn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=r,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);let a=this._target[this._prop],s=n-this._start,r=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=na([e.to,t,a,e.from]),this._from=na([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,n=this._duration,a=this._prop,s=this._from,r=this._loop,o=this._to,l;if(this._active=s!==o&&(r||t<n),!this._active){this._target[a]=o,this._notify(!0);return}if(t<0){this._target[a]=s;return}l=t/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(s,o,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){let t=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][t]()}},Or=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!J(e))return;let t=Object.keys(gt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{let s=e[a];if(!J(s))return;let r={};for(let o of t)r[o]=s[o];(bt(s.properties)&&s.properties||[a]).forEach(o=>{(o===a||!n.has(o))&&n.set(o,r)})})}_animateOptions(e,t){let n=t.options,a=G0(e,n);if(!a)return[];let s=this._createAnimations(a,n);return n.$shared&&K0(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){let n=this._properties,a=[],s=e.$animations||(e.$animations={}),r=Object.keys(t),o=Date.now(),l;for(l=r.length-1;l>=0;--l){let c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){a.push(...this._animateOptions(e,t));continue}let d=t[c],m=s[c],h=n.get(c);if(m)if(h&&m.active()){m.update(h,d,o);continue}else m.cancel();if(!h||!h.duration){e[c]=d;continue}s[c]=m=new sc(h,e,c,d),a.push(m)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let n=this._createAnimations(e,t);if(n.length)return gi.add(this._chart,n),!0}};function K0(i,e){let t=[],n=Object.keys(e);for(let a=0;a<n.length;a++){let s=i[n[a]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function G0(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Zh(i,e){let t=i&&i.options||{},n=t.reverse,a=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function X0(i,e,t){if(t===!1)return!1;let n=Zh(i,t),a=Zh(e,t);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Y0(i){let e,t,n,a;return J(i)?(e=i.top,t=i.right,n=i.bottom,a=i.left):e=t=n=a=i,{top:e,right:t,bottom:n,left:a,disabled:i===!1}}function Yp(i,e){let t=[],n=i._getSortedDatasetMetas(e),a,s;for(a=0,s=n.length;a<s;++a)t.push(n[a].index);return t}function Jh(i,e,t,n={}){let a=i.keys,s=n.mode==="single",r,o,l,c;if(e===null)return;let d=!1;for(r=0,o=a.length;r<o;++r){if(l=+a[r],l===t){if(d=!0,n.all)continue;break}c=i.values[l],Pt(c)&&(s||e===0||Be(e)===Be(c))&&(e+=c)}return!d&&!n.all?0:e}function Z0(i,e){let{iScale:t,vScale:n}=e,a=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",r=Object.keys(i),o=new Array(r.length),l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],o[l]={[a]:d,[s]:i[d]};return o}function $l(i,e){let t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function J0(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function tb(i){let{min:e,max:t,minDefined:n,maxDefined:a}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function eb(i,e,t){let n=i[e]||(i[e]={});return n[t]||(n[t]={})}function tp(i,e,t,n){for(let a of e.getMatchingVisibleMetas(n).reverse()){let s=i[a.index];if(t&&s>0||!t&&s<0)return a.index}return null}function ep(i,e){let{chart:t,_cachedMeta:n}=i,a=t._stacks||(t._stacks={}),{iScale:s,vScale:r,index:o}=n,l=s.axis,c=r.axis,d=J0(s,r,n),m=e.length,h;for(let u=0;u<m;++u){let _=e[u],{[l]:b,[c]:v}=_,x=_._stacks||(_._stacks={});h=x[c]=eb(a,d,b),h[o]=v,h._top=tp(h,r,!0,n.type),h._bottom=tp(h,r,!1,n.type);let w=h._visualValues||(h._visualValues={});w[o]=v}}function Kl(i,e){let t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function ib(i,e){return fi(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nb(i,e,t){return fi(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ga(i,e){let t=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){e=e||i._parsed;for(let a of e){let s=a._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}var Gl=i=>i==="reset"||i==="none",ip=(i,e)=>e?i:Object.assign({},i),ab=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:Yp(t,!0),values:null},ji=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$l(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ga(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,n=this._cachedMeta,a=this.getDataset(),s=(h,u,_,b)=>h==="x"?u:h==="r"?b:_,r=n.xAxisID=Q(a.xAxisID,Kl(t,"x")),o=n.yAxisID=Q(a.yAxisID,Kl(t,"y")),l=n.rAxisID=Q(a.rAxisID,Kl(t,"r")),c=n.indexAxis,d=n.iAxisID=s(c,r,o,l),m=n.vAxisID=s(c,o,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&kl(this._data,this),t._stacked&&Ga(t)}_dataCheck(){let t=this.getDataset(),n=t.data||(t.data=[]),a=this._data;if(J(n)){let s=this._cachedMeta;this._data=Z0(n,s)}else if(a!==n){if(a){kl(a,this);let s=this._cachedMeta;Ga(s),s._parsed=[]}n&&Object.isExtensible(n)&&Dh(n,this),this._syncList=[],this._data=n}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let n=this._cachedMeta,a=this.getDataset(),s=!1;this._dataCheck();let r=n._stacked;n._stacked=$l(n.vScale,n),n.stack!==a.stack&&(s=!0,Ga(n),n.stack=a.stack),this._resyncElements(t),(s||r!==n._stacked)&&(ep(this,n._parsed),n._stacked=$l(n.vScale,n))}configure(){let t=this.chart.config,n=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){let{_cachedMeta:a,_data:s}=this,{iScale:r,_stacked:o}=a,l=r.axis,c=t===0&&n===s.length?!0:a._sorted,d=t>0&&a._parsed[t-1],m,h,u;if(this._parsing===!1)a._parsed=s,a._sorted=!0,u=s;else{bt(s[t])?u=this.parseArrayData(a,s,t,n):J(s[t])?u=this.parseObjectData(a,s,t,n):u=this.parsePrimitiveData(a,s,t,n);let _=()=>h[l]===null||d&&h[l]<d[l];for(m=0;m<n;++m)a._parsed[m+t]=h=u[m],c&&(_()&&(c=!1),d=h);a._sorted=c}o&&ep(this,u)}parsePrimitiveData(t,n,a,s){let{iScale:r,vScale:o}=t,l=r.axis,c=o.axis,d=r.getLabels(),m=r===o,h=new Array(s),u,_,b;for(u=0,_=s;u<_;++u)b=u+a,h[u]={[l]:m||r.parse(d[b],b),[c]:o.parse(n[b],b)};return h}parseArrayData(t,n,a,s){let{xScale:r,yScale:o}=t,l=new Array(s),c,d,m,h;for(c=0,d=s;c<d;++c)m=c+a,h=n[m],l[c]={x:r.parse(h[0],m),y:o.parse(h[1],m)};return l}parseObjectData(t,n,a,s){let{xScale:r,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(s),m,h,u,_;for(m=0,h=s;m<h;++m)u=m+a,_=n[u],d[m]={x:r.parse(ui(_,l),u),y:o.parse(ui(_,c),u)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,a){let s=this.chart,r=this._cachedMeta,o=n[t.axis],l={keys:Yp(s,!0),values:n._stacks[t.axis]._visualValues};return Jh(l,o,r.index,{mode:a})}updateRangeFromParsed(t,n,a,s){let r=a[n.axis],o=r===null?NaN:r,l=s&&a._stacks[n.axis];s&&l&&(s.values=l,o=Jh(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){let a=this._cachedMeta,s=a._parsed,r=a._sorted&&t===a.iScale,o=s.length,l=this._getOtherScale(t),c=ab(n,a,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:h}=tb(l),u,_;function b(){_=s[u];let v=_[l.axis];return!Pt(_[t.axis])||m>v||h<v}for(u=0;u<o&&!(!b()&&(this.updateRangeFromParsed(d,t,_,c),r));++u);if(r){for(u=o-1;u>=0;--u)if(!b()){this.updateRangeFromParsed(d,t,_,c);break}}return d}getAllParsedValues(t){let n=this._cachedMeta._parsed,a=[],s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Pt(o)&&a.push(o);return a}getMaxOverflow(){return!1}getLabelAndValue(t){let n=this._cachedMeta,a=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:a?""+a.getLabelForValue(r[a.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){let n=this._cachedMeta;this.update(t||"default"),n._clip=Y0(Q(this.options.clip,X0(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,n=this.chart,a=this._cachedMeta,s=a.data||[],r=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop,m;for(a.dataset&&a.dataset.draw(t,r,l,c),m=l;m<l+c;++m){let h=s[m];h.hidden||(h.active&&d?o.push(h):h.draw(t,r))}for(m=0;m<o.length;++m)o[m].draw(t,r)}getStyle(t,n){let a=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,n,a){let s=this.getDataset(),r;if(t>=0&&t<this._cachedMeta.data.length){let o=this._cachedMeta.data[t];r=o.$context||(o.$context=nb(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=ib(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=a,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",a){let s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,l=r[o],c=this.enableOptionSharing&&Zn(a);if(l)return ip(l,c);let d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],u=d.getOptionScopes(this.getDataset(),m),_=Object.keys(gt.elements[t]),b=()=>this.getContext(a,s,n),v=d.resolveNamedOptions(u,_,b,h);return v.$shared&&(v.$shared=c,r[o]=Object.freeze(ip(v,c))),v}_resolveAnimations(t,n,a){let s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,l=r[o];if(l)return l;let c;if(s.options.animation!==!1){let m=this.chart.config,h=m.datasetAnimationScopeKeys(this._type,n),u=m.getOptionScopes(this.getDataset(),h);c=m.createResolver(u,this.getContext(t,a,n))}let d=new Or(s,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Gl(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){let a=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(a),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,a),{sharedOptions:r,includeOptions:o}}updateElement(t,n,a,s){Gl(s)?Object.assign(t,a):this._resolveAnimations(n,s).update(t,a)}updateSharedOptions(t,n,a){t&&!Gl(n)&&this._resolveAnimations(void 0,n).update(t,a)}_setStyle(t,n,a,s){t.active=s;let r=this.getStyle(n,s);this._resolveAnimations(n,a,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,n,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let n=this._data,a=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let s=a.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,a=!0){let s=this._cachedMeta,r=s.data,o=t+n,l,c=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(c(r),l=t;l<o;++l)r[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),a&&this.updateElements(r,t,n,"reset")}updateElements(t,n,a,s){}_removeElements(t,n){let a=this._cachedMeta;if(this._parsing){let s=a._parsed.splice(t,n);a._stacked&&Ga(a,s)}a.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[n,a,s]=t;this[n](a,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);let a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function sb(i,e){if(!i._cache.$bar){let t=i.getMatchingVisibleMetas(e),n=[];for(let a=0,s=t.length;a<s;a++)n=n.concat(t[a].controller.getAllParsedValues(i));i._cache.$bar=Ml(n.sort((a,s)=>a-s))}return i._cache.$bar}function rb(i){let e=i.iScale,t=sb(e,i.type),n=e._length,a,s,r,o,l=()=>{r===32767||r===-32768||(Zn(o)&&(n=Math.min(n,Math.abs(r-o)||n)),o=r)};for(a=0,s=t.length;a<s;++a)r=e.getPixelForValue(t[a]),l();for(o=void 0,a=0,s=e.ticks.length;a<s;++a)r=e.getPixelForTick(a),l();return n}function ob(i,e,t,n){let a=t.barThickness,s,r;return Z(a)?(s=e.min*t.categoryPercentage,r=t.barPercentage):(s=a*n,r=1),{chunk:s/n,ratio:r,start:e.pixels[i]-s/2}}function lb(i,e,t,n){let a=e.pixels,s=a[i],r=i>0?a[i-1]:null,o=i<a.length-1?a[i+1]:null,l=t.categoryPercentage;r===null&&(r=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-r);let c=s-(s-Math.min(r,o))/2*l;return{chunk:Math.abs(o-r)/2*l/n,ratio:t.barPercentage,start:c}}function cb(i,e,t,n){let a=t.parse(i[0],n),s=t.parse(i[1],n),r=Math.min(a,s),o=Math.max(a,s),l=r,c=o;Math.abs(r)>Math.abs(o)&&(l=o,c=r),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:a,end:s,min:r,max:o}}function Zp(i,e,t,n){return bt(i)?cb(i,e,t,n):e[t.axis]=t.parse(i,n),e}function np(i,e,t,n){let a=i.iScale,s=i.vScale,r=a.getLabels(),o=a===s,l=[],c,d,m,h;for(c=t,d=t+n;c<d;++c)h=e[c],m={},m[a.axis]=o||a.parse(r[c],c),l.push(Zp(h,m,s,c));return l}function Xl(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function db(i,e,t){return i!==0?Be(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function mb(i){let e,t,n,a,s;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:t,end:n,reverse:e,top:a,bottom:s}}function hb(i,e,t,n){let a=e.borderSkipped,s={};if(!a){i.borderSkipped=s;return}if(a===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:r,end:o,reverse:l,top:c,bottom:d}=mb(i);a==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?a=c:(t._bottom||0)===n?a=d:(s[ap(d,r,o,l)]=!0,a=c)),s[ap(a,r,o,l)]=!0,i.borderSkipped=s}function ap(i,e,t,n){return n?(i=pb(i,e,t),i=sp(i,t,e)):i=sp(i,e,t),i}function pb(i,e,t){return i===e?t:i===t?e:i}function sp(i,e,t){return i==="start"?e:i==="end"?t:i}function ub(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}var fb=(()=>{class i extends ji{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,a,s){return np(t,n,a,s)}parseArrayData(t,n,a,s){return np(t,n,a,s)}parseObjectData(t,n,a,s){let{iScale:r,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?l:c,m=o.axis==="x"?l:c,h=[],u,_,b,v;for(u=a,_=a+s;u<_;++u)v=n[u],b={},b[r.axis]=r.parse(ui(v,d),u),h.push(Zp(ui(v,m),b,o,u));return h}updateRangeFromParsed(t,n,a,s){super.updateRangeFromParsed(t,n,a,s);let r=a._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let n=this._cachedMeta,{iScale:a,vScale:s}=n,r=this.getParsed(t),o=r._custom,l=Xl(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+a.getLabelForValue(r[a.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,a,s){let r=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),m=this._getRuler(),{sharedOptions:h,includeOptions:u}=this._getSharedOptions(n,s);for(let _=n;_<n+a;_++){let b=this.getParsed(_),v=r||Z(b[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(_),x=this._calculateBarIndexPixels(_,m),w=(b._stacks||{})[l.axis],M={horizontal:d,base:v.base,enableBorderRadius:!w||Xl(b._custom)||o===w._top||o===w._bottom,x:d?v.head:x.center,y:d?x.center:v.head,height:d?x.size:Math.abs(v.size),width:d?Math.abs(v.size):x.size};u&&(M.options=h||this.resolveDataElementOptions(_,t[_].active?"active":s));let E=M.options||t[_].options;hb(M,E,w,o),ub(M,E,m.ratio),this.updateElement(t[_],_,M,s)}}_getStacks(t,n){let{iScale:a}=this._cachedMeta,s=a.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),r=a.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[a.axis],d=m=>{let h=m._parsed.find(_=>_[a.axis]===c),u=h&&h[m.vScale.axis];if(Z(u)||isNaN(u))return!0};for(let m of s)if(!(n!==void 0&&d(m))&&((r===!1||o.indexOf(m.stack)===-1||r===void 0&&m.stack===void 0)&&o.push(m.stack),m.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(a=>t[a].axis===n).shift()}_getAxis(){let t={},n=this.getFirstScaleIdForIndexAxis();for(let a of this.chart.data.datasets)t[Q(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,a){let s=this._getStacks(t,a),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){let t=this.options,n=this._cachedMeta,a=n.iScale,s=[],r,o;for(r=0,o=n.data.length;r<o;++r)s.push(a.getPixelForValue(this.getParsed(r)[a.axis],r));let l=t.barThickness;return{min:l||rb(n),pixels:s,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:n,_stacked:a,index:s},options:{base:r,minBarLength:o}}=this,l=r||0,c=this.getParsed(t),d=c._custom,m=Xl(d),h=c[n.axis],u=0,_=a?this.applyStack(n,c,a):h,b,v;_!==h&&(u=_-h,_=h),m&&(h=d.barStart,_=d.barEnd-d.barStart,h!==0&&Be(h)!==Be(d.barEnd)&&(u=0),u+=h);let x=!Z(r)&&!m?r:u,w=n.getPixelForValue(x);if(this.chart.getDataVisibility(t)?b=n.getPixelForValue(u+_):b=w,v=b-w,Math.abs(v)<o){v=db(v,n,l)*o,h===l&&(w-=v/2);let M=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),k=Math.min(M,E),T=Math.max(M,E);w=Math.max(Math.min(w,T),k),b=w+v,a&&!m&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(b)-n.getValueForPixel(w))}if(w===n.getPixelForValue(l)){let M=Be(v)*n.getLineWidthForValue(l)/2;w+=M,v-=M}return{size:v,base:w,head:b,center:b+v/2}}_calculateBarIndexPixels(t,n){let a=n.scale,s=this.options,r=s.skipNull,o=Q(s.maxBarThickness,1/0),l,c,d=this._getAxisCount();if(n.grouped){let m=r?this._getStackCount(t):n.stackCount,h=s.barThickness==="flex"?lb(t,n,s,m*d):ob(t,n,s,m*d),u=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Q(u,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+_;l=h.start+h.chunk*b+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=a.getPixelForValue(this.getParsed(t)[a.axis],t),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let t=this._cachedMeta,n=t.vScale,a=t.data,s=a.length,r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!a[r].hidden&&a[r].draw(this._ctx)}}return i})(),gb=(()=>{class i extends ji{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,a,s){let r=super.parsePrimitiveData(t,n,a,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+a).radius;return r}parseArrayData(t,n,a,s){let r=super.parseArrayData(t,n,a,s);for(let o=0;o<r.length;o++){let l=n[a+o];r[o]._custom=Q(l[2],this.resolveDataElementOptions(o+a).radius)}return r}parseObjectData(t,n,a,s){let r=super.parseObjectData(t,n,a,s);for(let o=0;o<r.length;o++){let l=n[a+o];r[o]._custom=Q(l&&l.r&&+l.r,this.resolveDataElementOptions(o+a).radius)}return r}getMaxOverflow(){let t=this._cachedMeta.data,n=0;for(let a=t.length-1;a>=0;--a)n=Math.max(n,t[a].size(this.resolveDataElementOptions(a))/2);return n>0&&n}getLabelAndValue(t){let n=this._cachedMeta,a=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),l=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y),d=o._custom;return{label:a[t]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(t){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,a,s){let r=s==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,s),m=o.axis,h=l.axis;for(let u=n;u<n+a;u++){let _=t[u],b=!r&&this.getParsed(u),v={},x=v[m]=r?o.getPixelForDecimal(.5):o.getPixelForValue(b[m]),w=v[h]=r?l.getBasePixel():l.getPixelForValue(b[h]);v.skip=isNaN(x)||isNaN(w),d&&(v.options=c||this.resolveDataElementOptions(u,_.active?"active":s),r&&(v.options.radius=0)),this.updateElement(_,u,v,s)}}resolveDataElementOptions(t,n){let a=this.getParsed(t),s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Q(a&&a._custom,r),s}}return i})();function _b(i,e,t){let n=1,a=1,s=0,r=0;if(e<vt){let o=i,l=o+e,c=Math.cos(o),d=Math.sin(o),m=Math.cos(l),h=Math.sin(l),u=(M,E,k)=>ta(M,o,l,!0)?1:Math.max(E,E*t,k,k*t),_=(M,E,k)=>ta(M,o,l,!0)?-1:Math.min(E,E*t,k,k*t),b=u(0,c,m),v=u(Dt,d,h),x=_(it,c,m),w=_(it+Dt,d,h);n=(b-x)/2,a=(v-w)/2,s=-(b+x)/2,r=-(v+w)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:r}}var kc=(()=>{class i extends ji{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data,{labels:{pointStyle:a,textAlign:s,color:r,useBorderRadius:o,borderRadius:l}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,d)=>{let h=t.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!t.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:s,pointStyle:a,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(t,n,a){a.chart.toggleDataVisibility(n.index),a.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){let a=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=a;else{let r=c=>+a[c];if(J(a[t])){let{key:c="value"}=this._parsing;r=d=>+ui(a[d],c)}let o,l;for(o=t,l=t+n;o<l;++o)s._parsed[o]=r(o)}}_getRotation(){return Pe(this.options.rotation-90)}_getCircumference(){return Pe(this.options.circumference)}_getRotationExtents(){let t=vt,n=-vt;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){let s=this.chart.getDatasetMeta(a).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){let n=this.chart,{chartArea:a}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(a.width,a.height)-o)/2,0),c=Math.min(Sh(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:m,rotation:h}=this._getRotationExtents(),{ratioX:u,ratioY:_,offsetX:b,offsetY:v}=_b(h,m,c),x=(a.width-o)/u,w=(a.height-o)/_,M=Math.max(Math.min(x,w)/2,0),E=vl(this.options.radius,M),k=Math.max(E*c,0),T=(E-k)/this._getVisibleDatasetWeightTotal();this.offsetX=b*E,this.offsetY=v*E,s.total=this.calculateTotal(),this.outerRadius=E-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*d,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){let a=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&a.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/vt)}updateElements(t,n,a,s){let r=s==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,m=(l.left+l.right)/2,h=(l.top+l.bottom)/2,u=r&&d.animateScale,_=u?0:this.innerRadius,b=u?0:this.outerRadius,{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,s),w=this._getRotation(),M;for(M=0;M<n;++M)w+=this._circumference(M,r);for(M=n;M<n+a;++M){let E=this._circumference(M,r),k=t[M],T={x:m+this.offsetX,y:h+this.offsetY,startAngle:w,endAngle:w+E,circumference:E,outerRadius:b,innerRadius:_};x&&(T.options=v||this.resolveDataElementOptions(M,k.active?"active":s)),w+=E,this.updateElement(k,M,T,s)}}calculateTotal(){let t=this._cachedMeta,n=t.data,a=0,s;for(s=0;s<n.length;s++){let r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(a+=Math.abs(r))}return a}calculateCircumference(t){let n=this._cachedMeta.total;return n>0&&!isNaN(t)?vt*(Math.abs(t)/n):0}getLabelAndValue(t){let n=this._cachedMeta,a=this.chart,s=a.data.labels||[],r=ea(n._parsed[t],a.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0,a=this.chart,s,r,o,l,c;if(!t){for(s=0,r=a.data.datasets.length;s<r;++s)if(a.isDatasetVisible(s)){o=a.getDatasetMeta(s),t=o.data,l=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let a=0,s=t.length;a<s;++a){let r=this.resolveDataElementOptions(a);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let a=0;a<t;++a)this.chart.isDatasetVisible(a)&&(n+=this._getRingWeight(a));return n}_getRingWeight(t){return Math.max(Q(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),bb=(()=>{class i extends ji{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let n=this._cachedMeta,{dataset:a,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled,{start:l,count:c}=Il(n,s,o);this._drawStart=l,this._drawCount=c,Pl(n)&&(l=0,c=s.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!r._decimated,a.points=s;let d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!o,options:d},t),this.updateElements(s,l,c,t)}updateElements(t,n,a,s){let r=s==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:h}=this._getSharedOptions(n,s),u=o.axis,_=l.axis,{spanGaps:b,segment:v}=this.options,x=cn(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||r||s==="none",M=n+a,E=t.length,k=n>0&&this.getParsed(n-1);for(let T=0;T<E;++T){let A=t[T],I=w?A:{};if(T<n||T>=M){I.skip=!0;continue}let R=this.getParsed(T),W=Z(R[_]),q=I[u]=o.getPixelForValue(R[u],T),$=I[_]=r||W?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,R,c):R[_],T);I.skip=isNaN(q)||isNaN($)||W,I.stop=T>0&&Math.abs(R[u]-k[u])>x,v&&(I.parsed=R,I.raw=d.data[T]),h&&(I.options=m||this.resolveDataElementOptions(T,A.active?"active":s)),w||this.updateElement(A,T,I,s),k=R}}getMaxOverflow(){let t=this._cachedMeta,n=t.dataset,a=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return a;let r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,r,o)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return i})(),Jp=(()=>{class i extends ji{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let n=t.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:a,color:s}}=t.legend.options;return n.labels.map((r,o)=>{let c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:a,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,a){a.chart.toggleDataVisibility(n.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let n=this._cachedMeta,a=this.chart,s=a.data.labels||[],r=ea(n._parsed[t].r,a.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,a,s){return Bl.bind(this)(t,n,a,s)}update(t){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){let t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((a,s)=>{let r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){let t=this.chart,n=t.chartArea,a=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(a.cutoutPercentage?r/100*a.cutoutPercentage:1,0),l=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,n,a,s){let r=s==="reset",o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,m=d.xCenter,h=d.yCenter,u=d.getIndexAngle(0)-.5*it,_=u,b,v=360/this.countVisibleElements();for(b=0;b<n;++b)_+=this._computeAngle(b,s,v);for(b=n;b<n+a;b++){let x=t[b],w=_,M=_+this._computeAngle(b,s,v),E=o.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;_=M,r&&(c.animateScale&&(E=0),c.animateRotate&&(w=M=u));let k={x:m,y:h,innerRadius:0,outerRadius:E,startAngle:w,endAngle:M,options:this.resolveDataElementOptions(b,x.active?"active":s)};this.updateElement(x,b,k,s)}}countVisibleElements(){let t=this._cachedMeta,n=0;return t.data.forEach((a,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,a){return this.chart.getDataVisibility(t)?Pe(this.resolveDataElementOptions(t,n).angle||a):0}}return i})(),vb=(()=>{class i extends kc{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),yb=(()=>{class i extends ji{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let n=this._cachedMeta.vScale,a=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(a[n.axis])}}parseObjectData(t,n,a,s){return Bl.bind(this)(t,n,a,s)}update(t){let n=this._cachedMeta,a=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(a.points=s,t!=="resize"){let o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);let l={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(a,void 0,l,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,a,s){let r=this._cachedMeta.rScale,o=s==="reset";for(let l=n;l<n+a;l++){let c=t[l],d=this.resolveDataElementOptions(l,c.active?"active":s),m=r.getPointPositionForValue(l,this.getParsed(l).r),h=o?r.xCenter:m.x,u=o?r.yCenter:m.y,_={x:h,y:u,angle:m.angle,skip:isNaN(h)||isNaN(u),options:d};this.updateElement(c,l,_,s)}}}return i})(),xb=(()=>{class i extends ji{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let n=this._cachedMeta,a=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),l=s.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:a[t]||"",value:"("+l+", "+c+")"}}update(t){let n=this._cachedMeta,{data:a=[]}=n,s=this.chart._animationsDisabled,{start:r,count:o}=Il(n,a,s);if(this._drawStart=r,this._drawCount=o,Pl(n)&&(r=0,o=a.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=a;let d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(a,r,o,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,a,s){let r=s==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,m=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(m),u=this.includeOptions(s,h),_=o.axis,b=l.axis,{spanGaps:v,segment:x}=this.options,w=cn(v)?v:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||r||s==="none",E=n>0&&this.getParsed(n-1);for(let k=n;k<n+a;++k){let T=t[k],A=this.getParsed(k),I=M?T:{},R=Z(A[b]),W=I[_]=o.getPixelForValue(A[_],k),q=I[b]=r||R?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[b],k);I.skip=isNaN(W)||isNaN(q)||R,I.stop=k>0&&Math.abs(A[_]-E[_])>w,x&&(I.parsed=A,I.raw=d.data[k]),u&&(I.options=h||this.resolveDataElementOptions(k,T.active?"active":s)),M||this.updateElement(T,k,I,s),E=A}this.updateSharedOptions(h,s,m)}getMaxOverflow(){let t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let a=t.dataset,s=a.options&&a.options.borderWidth||0;if(!n.length)return s;let r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}return i})(),wb=Object.freeze({__proto__:null,BarController:fb,BubbleController:gb,DoughnutController:kc,LineController:bb,PieController:vb,PolarAreaController:Jp,RadarController:yb,ScatterController:xb});function mn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var rc=class i{static override(e){Object.assign(i.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return mn()}parse(){return mn()}format(){return mn()}add(){return mn()}diff(){return mn()}startOf(){return mn()}endOf(){return mn()}},Sb={_date:rc};function Cb(i,e,t,n){let{controller:a,data:s,_sorted:r}=i,o=a._cachedMeta.iScale,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&r&&s.length){let c=o._reversePixels?Ih:Qe;if(n){if(a._sharedOptions){let d=s[0],m=typeof d.getRange=="function"&&d.getRange(e);if(m){let h=c(s,e,t-m),u=c(s,e,t+m);return{lo:h.lo,hi:u.hi}}}}else{let d=c(s,e,t);if(l){let{vScale:m}=a._cachedMeta,{_parsed:h}=i,u=h.slice(0,d.lo+1).reverse().findIndex(b=>!Z(b[m.axis]));d.lo-=Math.max(0,u);let _=h.slice(d.hi).findIndex(b=>!Z(b[m.axis]));d.hi+=Math.max(0,_)}return d}}return{lo:0,hi:s.length-1}}function ss(i,e,t,n,a){let s=i.getSortedVisibleDatasetMetas(),r=t[e];for(let o=0,l=s.length;o<l;++o){let{index:c,data:d}=s[o],{lo:m,hi:h}=Cb(s[o],e,r,a);for(let u=m;u<=h;++u){let _=d[u];_.skip||n(_,c,u)}}}function kb(i){let e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,a){let s=e?Math.abs(n.x-a.x):0,r=t?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}function Yl(i,e,t,n,a){let s=[];return!a&&!i.isPointInArea(e)||ss(i,t,e,function(o,l,c){!a&&!qe(o,i.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function Mb(i,e,t,n){let a=[];function s(r,o,l){let{startAngle:c,endAngle:d}=r.getProps(["startAngle","endAngle"],n),{angle:m}=Cl(r,{x:e.x,y:e.y});ta(m,c,d)&&a.push({element:r,datasetIndex:o,index:l})}return ss(i,t,e,s),a}function Eb(i,e,t,n,a,s){let r=[],o=kb(t),l=Number.POSITIVE_INFINITY;function c(d,m,h){let u=d.inRange(e.x,e.y,a);if(n&&!u)return;let _=d.getCenterPoint(a);if(!(!!s||i.isPointInArea(_))&&!u)return;let v=o(e,_);v<l?(r=[{element:d,datasetIndex:m,index:h}],l=v):v===l&&r.push({element:d,datasetIndex:m,index:h})}return ss(i,t,e,c),r}function Zl(i,e,t,n,a,s){return!s&&!i.isPointInArea(e)?[]:t==="r"&&!n?Mb(i,e,t,a):Eb(i,e,t,n,a,s)}function rp(i,e,t,n,a){let s=[],r=t==="x"?"inXRange":"inYRange",o=!1;return ss(i,t,e,(l,c,d)=>{l[r]&&l[r](e[t],a)&&(s.push({element:l,datasetIndex:c,index:d}),o=o||l.inRange(e.x,e.y,a))}),n&&!o?[]:s}var Tb={evaluateInteractionItems:ss,modes:{index(i,e,t,n){let a=Vi(e,i),s=t.axis||"x",r=t.includeInvisible||!1,o=t.intersect?Yl(i,a,s,n,r):Zl(i,a,s,!1,n,r),l=[];return o.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let d=o[0].index,m=c.data[d];m&&!m.skip&&l.push({element:m,datasetIndex:c.index,index:d})}),l):[]},dataset(i,e,t,n){let a=Vi(e,i),s=t.axis||"xy",r=t.includeInvisible||!1,o=t.intersect?Yl(i,a,s,n,r):Zl(i,a,s,!1,n,r);if(o.length>0){let l=o[0].datasetIndex,c=i.getDatasetMeta(l).data;o=[];for(let d=0;d<c.length;++d)o.push({element:c[d],datasetIndex:l,index:d})}return o},point(i,e,t,n){let a=Vi(e,i),s=t.axis||"xy",r=t.includeInvisible||!1;return Yl(i,a,s,n,r)},nearest(i,e,t,n){let a=Vi(e,i),s=t.axis||"xy",r=t.includeInvisible||!1;return Zl(i,a,s,t.intersect,n,r)},x(i,e,t,n){let a=Vi(e,i);return rp(i,a,"x",t.intersect,n)},y(i,e,t,n){let a=Vi(e,i);return rp(i,a,"y",t.intersect,n)}}},tu=["left","top","right","bottom"];function Xa(i,e){return i.filter(t=>t.pos===e)}function op(i,e){return i.filter(t=>tu.indexOf(t.pos)===-1&&t.box.axis===e)}function Ya(i,e){return i.sort((t,n)=>{let a=e?n:t,s=e?t:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function Ib(i){let e=[],t,n,a,s,r,o;for(t=0,n=(i||[]).length;t<n;++t)a=i[t],{position:s,options:{stack:r,stackWeight:o=1}}=a,e.push({index:t,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:r&&s+r,stackWeight:o});return e}function Pb(i){let e={};for(let t of i){let{stack:n,pos:a,stackWeight:s}=t;if(!n||!tu.includes(a))continue;let r=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}function Ab(i,e){let t=Pb(i),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e,s,r,o;for(s=0,r=i.length;s<r;++s){o=i[s];let{fullSize:l}=o.box,c=t[o.stack],d=c&&o.stackWeight/c.weight;o.horizontal?(o.width=d?d*n:l&&e.availableWidth,o.height=a):(o.width=n,o.height=d?d*a:l&&e.availableHeight)}return t}function Db(i){let e=Ib(i),t=Ya(e.filter(c=>c.box.fullSize),!0),n=Ya(Xa(e,"left"),!0),a=Ya(Xa(e,"right")),s=Ya(Xa(e,"top"),!0),r=Ya(Xa(e,"bottom")),o=op(e,"x"),l=op(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:a.concat(l).concat(r).concat(o),chartArea:Xa(e,"chartArea"),vertical:n.concat(a).concat(l),horizontal:s.concat(r).concat(o)}}function lp(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function eu(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function Ob(i,e,t,n){let{pos:a,box:s}=t,r=i.maxPadding;if(!J(a)){t.size&&(i[a]-=t.size);let m=n[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?s.height:s.width),t.size=m.size/m.count,i[a]+=t.size}s.getPadding&&eu(r,s.getPadding());let o=Math.max(0,e.outerWidth-lp(r,i,"left","right")),l=Math.max(0,e.outerHeight-lp(r,i,"top","bottom")),c=o!==i.w,d=l!==i.h;return i.w=o,i.h=l,t.horizontal?{same:c,other:d}:{same:d,other:c}}function Rb(i){let e=i.maxPadding;function t(n){let a=Math.max(e[n]-i[n],0);return i[n]+=a,a}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function Lb(i,e){let t=e.maxPadding;function n(a){let s={left:0,top:0,right:0,bottom:0};return a.forEach(r=>{s[r]=Math.max(e[r],t[r])}),s}return n(i?["left","right"]:["top","bottom"])}function ts(i,e,t,n){let a=[],s,r,o,l,c,d;for(s=0,r=i.length,c=0;s<r;++s){o=i[s],l=o.box,l.update(o.width||e.w,o.height||e.h,Lb(o.horizontal,e));let{same:m,other:h}=Ob(e,t,o,n);c|=m&&a.length,d=d||h,l.fullSize||a.push(o)}return c&&ts(a,e,t,n)||d}function kr(i,e,t,n,a){i.top=t,i.left=e,i.right=e+n,i.bottom=t+a,i.width=n,i.height=a}function cp(i,e,t,n){let a=t.padding,{x:s,y:r}=e;for(let o of i){let l=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/c.weight||1;if(o.horizontal){let m=e.w*d,h=c.size||l.height;Zn(c.start)&&(r=c.start),l.fullSize?kr(l,a.left,r,t.outerWidth-a.right-a.left,h):kr(l,e.left+c.placed,r,m,h),c.start=r,c.placed+=m,r=l.bottom}else{let m=e.h*d,h=c.size||l.width;Zn(c.start)&&(s=c.start),l.fullSize?kr(l,s,a.top,h,t.outerHeight-a.bottom-a.top):kr(l,s,e.top+c.placed,h,m),c.start=s,c.placed+=m,s=l.right}}e.x=s,e.y=r}var te={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){let t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;let a=Kt(i.options.layout.padding),s=Math.max(e-a.width,0),r=Math.max(t-a.height,0),o=Db(i.boxes),l=o.vertical,c=o.horizontal;rt(i.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});let d=l.reduce((b,v)=>v.box.options&&v.box.options.display===!1?b:b+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/d,hBoxMaxHeight:r/2}),h=Object.assign({},a);eu(h,Kt(n));let u=Object.assign({maxPadding:h,w:s,h:r,x:a.left,y:a.top},a),_=Ab(l.concat(c),m);ts(o.fullSize,u,m,_),ts(l,u,m,_),ts(c,u,m,_)&&ts(l,u,m,_),Rb(u),cp(o.leftAndTop,u,m,_),u.x+=u.w,u.y+=u.h,cp(o.rightAndBottom,u,m,_),i.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h,height:u.h,width:u.w},rt(o.chartArea,b=>{let v=b.box;Object.assign(v,i.chartArea),v.update(u.w,u.h,{left:0,top:0,right:0,bottom:0})})}},Rr=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,a){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):n)}}isAttached(e){return!0}updateConfig(e){}},oc=class extends Rr{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Ar="$chartjs",Fb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dp=i=>i===null||i==="";function Nb(i,e){let t=i.style,n=i.getAttribute("height"),a=i.getAttribute("width");if(i[Ar]={initial:{height:n,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",dp(a)){let s=Hl(i,"width");s!==void 0&&(i.width=s)}if(dp(n))if(i.style.height==="")i.height=i.width/(e||2);else{let s=Hl(i,"height");s!==void 0&&(i.height=s)}return i}var iu=qh?{passive:!0}:!1;function zb(i,e,t){i&&i.addEventListener(e,t,iu)}function Bb(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,iu)}function Vb(i,e){let t=Fb[i.type]||i.type,{x:n,y:a}=Vi(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Lr(i,e){for(let t of i)if(t===e||t.contains(e))return!0}function Hb(i,e,t){let n=i.canvas,a=new MutationObserver(s=>{let r=!1;for(let o of s)r=r||Lr(o.addedNodes,n),r=r&&!Lr(o.removedNodes,n);r&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function jb(i,e,t){let n=i.canvas,a=new MutationObserver(s=>{let r=!1;for(let o of s)r=r||Lr(o.removedNodes,n),r=r&&!Lr(o.addedNodes,n);r&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}var is=new Map,mp=0;function nu(){let i=window.devicePixelRatio;i!==mp&&(mp=i,is.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function Wb(i,e){is.size||window.addEventListener("resize",nu),is.set(i,e)}function Ub(i){is.delete(i),is.size||window.removeEventListener("resize",nu)}function Qb(i,e,t){let n=i.canvas,a=n&&Sr(n);if(!a)return;let s=Tl((o,l)=>{let c=a.clientWidth;t(o,l),c<a.clientWidth&&t()},window),r=new ResizeObserver(o=>{let l=o[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return r.observe(a),Wb(i,s),r}function Jl(i,e,t){t&&t.disconnect(),e==="resize"&&Ub(i)}function qb(i,e,t){let n=i.canvas,a=Tl(s=>{i.ctx!==null&&t(Vb(s,i))},i);return zb(n,e,a),a}var lc=class extends Rr{acquireContext(e,t){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Nb(e,t),n):null}releaseContext(e){let t=e.canvas;if(!t[Ar])return!1;let n=t[Ar].initial;["height","width"].forEach(s=>{let r=n[s];Z(r)?t.removeAttribute(s):t.setAttribute(s,r)});let a=n.style||{};return Object.keys(a).forEach(s=>{t.style[s]=a[s]}),t.width=t.width,delete t[Ar],!0}addEventListener(e,t,n){this.removeEventListener(e,t);let a=e.$proxies||(e.$proxies={}),r={attach:Hb,detach:jb,resize:Qb}[t]||qb;a[t]=r(e,t,n)}removeEventListener(e,t){let n=e.$proxies||(e.$proxies={}),a=n[t];if(!a)return;({attach:Jl,detach:Jl,resize:Jl}[t]||Bb)(e,t,a),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,a){return Qh(e,t,n,a)}isAttached(e){let t=e&&Sr(e);return!!(t&&t.isConnected)}};function $b(i){return!wr()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?oc:lc}var Ve=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return cn(this.x)&&cn(this.y)}getProps(e,t){let n=this.$animations;if(!t||!n)return this;let a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}};function Kb(i,e){let t=i.options.ticks,n=Gb(i),a=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?Yb(e):[],r=s.length,o=s[0],l=s[r-1],c=[];if(r>a)return Zb(e,c,s,r/a),c;let d=Xb(s,e,a);if(r>0){let m,h,u=r>1?Math.round((l-o)/(r-1)):null;for(Mr(e,c,d,Z(u)?0:o-u,o),m=0,h=r-1;m<h;m++)Mr(e,c,d,s[m],s[m+1]);return Mr(e,c,d,l,Z(u)?e.length:l+u),c}return Mr(e,c,d),c}function Gb(i){let e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),a=i._maxLength/t;return Math.floor(Math.min(n,a))}function Xb(i,e,t){let n=Jb(i),a=e.length/t;if(!n)return Math.max(a,1);let s=Mh(n);for(let r=0,o=s.length-1;r<o;r++){let l=s[r];if(l>a)return l}return Math.max(a,1)}function Yb(i){let e=[],t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function Zb(i,e,t,n){let a=0,s=t[0],r;for(n=Math.ceil(n),r=0;r<i.length;r++)r===s&&(e.push(i[r]),a++,s=t[a*n])}function Mr(i,e,t,n,a){let s=Q(n,0),r=Math.min(Q(a,i.length),i.length),o=0,l,c,d;for(t=Math.ceil(t),a&&(l=a-n,t=l/Math.floor(l/t)),d=s;d<0;)o++,d=Math.round(s+o*t);for(c=Math.max(s,0);c<r;c++)c===d&&(e.push(i[c]),o++,d=Math.round(s+o*t))}function Jb(i){let e=i.length,t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}var tv=i=>i==="left"?"right":i==="right"?"left":i,hp=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,pp=(i,e)=>Math.min(e||i,i);function up(i,e){let t=[],n=i.length/e,a=i.length,s=0;for(;s<a;s+=n)t.push(i[Math.floor(s)]);return t}function ev(i,e,t){let n=i.ticks.length,a=Math.min(e,n-1),s=i._startPixel,r=i._endPixel,o=1e-6,l=i.getPixelForTick(a),c;if(!(t&&(n===1?c=Math.max(l-s,r-l):e===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(a-1))/2,l+=a<e?c:-c,l<s-o||l>r+o)))return l}function iv(i,e){rt(i,t=>{let n=t.gc,a=n.length/2,s;if(a>e){for(s=0;s<a;++s)delete t.data[n[s]];n.splice(0,a)}})}function Za(i){return i.drawTicks?i.tickLength:0}function fp(i,e){if(!i.display)return 0;let t=Vt(i.font,e),n=Kt(i.padding);return(bt(i.text)?i.text.length:1)*t.lineHeight+n.height}function nv(i,e){return fi(i,{scale:e,type:"scale"})}function av(i,e,t){return fi(i,{tick:t,index:e,type:"tick"})}function sv(i,e,t){let n=_r(i);return(t&&e!=="right"||!t&&e==="right")&&(n=tv(n)),n}function rv(i,e,t,n){let{top:a,left:s,bottom:r,right:o,chart:l}=i,{chartArea:c,scales:d}=l,m=0,h,u,_,b=r-a,v=o-s;if(i.isHorizontal()){if(u=$t(n,s,o),J(t)){let x=Object.keys(t)[0],w=t[x];_=d[x].getPixelForValue(w)+b-e}else t==="center"?_=(c.bottom+c.top)/2+b-e:_=hp(i,t,e);h=o-s}else{if(J(t)){let x=Object.keys(t)[0],w=t[x];u=d[x].getPixelForValue(w)-v+e}else t==="center"?u=(c.left+c.right)/2-v+e:u=hp(i,t,e);_=$t(n,r,a),m=t==="left"?-Dt:Dt}return{titleX:u,titleY:_,maxWidth:h,rotation:m}}var pn=class i extends Ve{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:a}=this;return e=fe(e,Number.POSITIVE_INFINITY),t=fe(t,Number.NEGATIVE_INFINITY),n=fe(n,Number.POSITIVE_INFINITY),a=fe(a,Number.NEGATIVE_INFINITY),{min:fe(e,n),max:fe(t,a),minDefined:Pt(e),maxDefined:Pt(t)}}getMinMax(e){let{min:t,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),r;if(a&&s)return{min:t,max:n};let o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)r=o[l].controller.getMinMax(this,e),a||(t=Math.min(t,r.min)),s||(n=Math.max(n,r.max));return t=s&&t>n?n:t,n=a&&t>n?t:n,{min:fe(t,fe(n,t)),max:fe(n,fe(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(e,t,n){let{beginAtZero:a,grace:s,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Bh(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=o<this.ticks.length;this._convertTicksToLabels(l?up(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Kb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ft(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=ft(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,n=pp(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,s=t.maxRotation,r=a,o,l,c;if(!this._isVisible()||!t.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}let d=this._getLabelSizes(),m=d.widest.width,h=d.highest.height,u=Ht(this.chart.width-m,0,this.maxWidth);o=e.offset?this.maxWidth/n:u/(n-1),m+6>o&&(o=u/(n-(e.offset?.5:1)),l=this.maxHeight-Za(e.grid)-t.padding-fp(e.title,this.chart.options.font),c=Math.sqrt(m*m+h*h),r=fr(Math.min(Math.asin(Ht((d.highest.height+6)/o,-1,1)),Math.asin(Ht(l/c,-1,1))-Math.asin(Ht(h/c,-1,1)))),r=Math.max(a,Math.min(s,r))),this.labelRotation=r}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:n,title:a,grid:s}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){let l=fp(a,t.options.font);if(o?(e.width=this.maxWidth,e.height=Za(s)+l):(e.height=this.maxHeight,e.width=Za(s)+l),n.display&&this.ticks.length){let{first:c,last:d,widest:m,highest:h}=this._getLabelSizes(),u=n.padding*2,_=Pe(this.labelRotation),b=Math.cos(_),v=Math.sin(_);if(o){let x=n.mirror?0:v*m.width+b*h.height;e.height=Math.min(this.maxHeight,e.height+x+u)}else{let x=n.mirror?0:b*m.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+x+u)}this._calculatePadding(c,d,v,b)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,a){let{ticks:{align:s,padding:r},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1),h=0,u=0;l?c?(h=a*e.width,u=n*t.height):(h=n*e.height,u=a*t.width):s==="start"?u=t.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,u=t.width/2),this.paddingLeft=Math.max((h-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((u-m+r)*this.width/(this.width-m),0)}else{let d=t.height/2,m=e.height/2;s==="start"?(d=0,m=e.height):s==="end"&&(d=t.height,m=0),this.paddingTop=d+r,this.paddingBottom=m+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Z(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=up(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){let{ctx:a,_longestTextCache:s}=this,r=[],o=[],l=Math.floor(t/pp(t,n)),c=0,d=0,m,h,u,_,b,v,x,w,M,E,k;for(m=0;m<t;m+=l){if(_=e[m].label,b=this._resolveTickFontOptions(m),a.font=v=b.string,x=s[v]=s[v]||{data:{},gc:[]},w=b.lineHeight,M=E=0,!Z(_)&&!bt(_))M=Ua(a,x.data,x.gc,M,_),E=w;else if(bt(_))for(h=0,u=_.length;h<u;++h)k=_[h],!Z(k)&&!bt(k)&&(M=Ua(a,x.data,x.gc,M,k),E+=w);r.push(M),o.push(E),c=Math.max(M,c),d=Math.max(E,d)}iv(s,t);let T=r.indexOf(c),A=o.indexOf(d),I=R=>({width:r[R]||0,height:o[R]||0});return{first:I(0),last:I(t-1),widest:I(T),highest:I(A),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return Th(this._alignToPixels?Ni(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let n=t[e];return n.$context||(n.$context=av(this.getContext(),e,n))}return this.$context||(this.$context=nv(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=Pe(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,o=s?s.widest.width+r:0,l=s?s.highest.height+r:0;return this.isHorizontal()?l*n>o*a?o/n:l/a:l*a<o*n?l/n:o/a}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,n=this.chart,a=this.options,{grid:s,position:r,border:o}=a,l=s.offset,c=this.isHorizontal(),m=this.ticks.length+(l?1:0),h=Za(s),u=[],_=o.setContext(this.getContext()),b=_.display?_.width:0,v=b/2,x=function(P){return Ni(n,P,b)},w,M,E,k,T,A,I,R,W,q,$,Ot;if(r==="top")w=x(this.bottom),A=this.bottom-h,R=w-v,q=x(e.top)+v,Ot=e.bottom;else if(r==="bottom")w=x(this.top),q=e.top,Ot=x(e.bottom)-v,A=w+v,R=this.top+h;else if(r==="left")w=x(this.right),T=this.right-h,I=w-v,W=x(e.left)+v,$=e.right;else if(r==="right")w=x(this.left),W=e.left,$=x(e.right)-v,T=w+v,I=this.left+h;else if(t==="x"){if(r==="center")w=x((e.top+e.bottom)/2+.5);else if(J(r)){let P=Object.keys(r)[0],D=r[P];w=x(this.chart.scales[P].getPixelForValue(D))}q=e.top,Ot=e.bottom,A=w+v,R=A+h}else if(t==="y"){if(r==="center")w=x((e.left+e.right)/2);else if(J(r)){let P=Object.keys(r)[0],D=r[P];w=x(this.chart.scales[P].getPixelForValue(D))}T=w-v,I=T-h,W=e.left,$=e.right}let Gt=Q(a.ticks.maxTicksLimit,m),nt=Math.max(1,Math.ceil(m/Gt));for(M=0;M<m;M+=nt){let P=this.getContext(M),D=s.setContext(P),N=o.setContext(P),j=D.lineWidth,yt=D.color,ee=N.dash||[],zt=N.dashOffset,ne=D.tickWidth,at=D.tickColor,yi=D.tickBorderDash||[],ti=D.tickBorderDashOffset;E=ev(this,M,l),E!==void 0&&(k=Ni(n,E,j),c?T=I=W=$=k:A=R=q=Ot=k,u.push({tx1:T,ty1:A,tx2:I,ty2:R,x1:W,y1:q,x2:$,y2:Ot,width:j,color:yt,borderDash:ee,borderDashOffset:zt,tickWidth:ne,tickColor:at,tickBorderDash:yi,tickBorderDashOffset:ti}))}return this._ticksLength=m,this._borderValue=w,u}_computeLabelItems(e){let t=this.axis,n=this.options,{position:a,ticks:s}=n,r=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:d,mirror:m}=s,h=Za(n.grid),u=h+d,_=m?-d:u,b=-Pe(this.labelRotation),v=[],x,w,M,E,k,T,A,I,R,W,q,$,Ot="middle";if(a==="top")T=this.bottom-_,A=this._getXAxisLabelAlignment();else if(a==="bottom")T=this.top+_,A=this._getXAxisLabelAlignment();else if(a==="left"){let nt=this._getYAxisLabelAlignment(h);A=nt.textAlign,k=nt.x}else if(a==="right"){let nt=this._getYAxisLabelAlignment(h);A=nt.textAlign,k=nt.x}else if(t==="x"){if(a==="center")T=(e.top+e.bottom)/2+u;else if(J(a)){let nt=Object.keys(a)[0],P=a[nt];T=this.chart.scales[nt].getPixelForValue(P)+u}A=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")k=(e.left+e.right)/2-u;else if(J(a)){let nt=Object.keys(a)[0],P=a[nt];k=this.chart.scales[nt].getPixelForValue(P)}A=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(l==="start"?Ot="top":l==="end"&&(Ot="bottom"));let Gt=this._getLabelSizes();for(x=0,w=o.length;x<w;++x){M=o[x],E=M.label;let nt=s.setContext(this.getContext(x));I=this.getPixelForTick(x)+s.labelOffset,R=this._resolveTickFontOptions(x),W=R.lineHeight,q=bt(E)?E.length:1;let P=q/2,D=nt.color,N=nt.textStrokeColor,j=nt.textStrokeWidth,yt=A;r?(k=I,A==="inner"&&(x===w-1?yt=this.options.reverse?"left":"right":x===0?yt=this.options.reverse?"right":"left":yt="center"),a==="top"?c==="near"||b!==0?$=-q*W+W/2:c==="center"?$=-Gt.highest.height/2-P*W+W:$=-Gt.highest.height+W/2:c==="near"||b!==0?$=W/2:c==="center"?$=Gt.highest.height/2-P*W:$=Gt.highest.height-q*W,m&&($*=-1),b!==0&&!nt.showLabelBackdrop&&(k+=W/2*Math.sin(b))):(T=I,$=(1-q)*W/2);let ee;if(nt.showLabelBackdrop){let zt=Kt(nt.backdropPadding),ne=Gt.heights[x],at=Gt.widths[x],yi=$-zt.top,ti=0-zt.left;switch(Ot){case"middle":yi-=ne/2;break;case"bottom":yi-=ne;break}switch(A){case"center":ti-=at/2;break;case"right":ti-=at;break;case"inner":x===w-1?ti-=at:x>0&&(ti-=at/2);break}ee={left:ti,top:yi,width:at+zt.width,height:ne+zt.height,color:nt.backdropColor}}v.push({label:E,font:R,textOffset:$,options:{rotation:b,color:D,strokeColor:N,strokeWidth:j,textAlign:yt,textBaseline:Ot,translation:[k,T],backdrop:ee}})}return v}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-Pe(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,r=this._getLabelSizes(),o=e+s,l=r.widest.width,c,d;return t==="left"?a?(d=this.right+s,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-o,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):t==="right"?a?(d=this.left+s,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+o,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:n,top:a,width:s,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,a,s,r),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let a=this.ticks.findIndex(s=>s.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){let t=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,r,o=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(t.display)for(s=0,r=a.length;s<r;++s){let l=a[s];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),r=n.display?s.width:0;if(!r)return;let o=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,m,h;this.isHorizontal()?(c=Ni(e,this.left,r)-r/2,d=Ni(e,this.right,o)+o/2,m=h=l):(m=Ni(e,this.top,r)-r/2,h=Ni(e,this.bottom,o)+o/2,c=d=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,m),t.lineTo(d,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,a=this._computeLabelArea();a&&$a(n,a);let s=this.getLabelItems(e);for(let r of s){let o=r.options,l=r.font,c=r.label,d=r.textOffset;zi(n,c,0,d,l,o)}a&&Ka(n)}drawTitle(){let{ctx:e,options:{position:t,title:n,reverse:a}}=this;if(!n.display)return;let s=Vt(n.font),r=Kt(n.padding),o=n.align,l=s.lineHeight/2;t==="bottom"||t==="center"||J(t)?(l+=r.bottom,bt(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=r.top;let{titleX:c,titleY:d,maxWidth:m,rotation:h}=rv(this,l,t,o);zi(e,n.text,0,0,s,{color:n.color,maxWidth:m,rotation:h,textAlign:sv(o,t,a),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,n=Q(e.grid&&e.grid.z,-1),a=Q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[],s,r;for(s=0,r=t.length;s<r;++s){let o=t[s];o[n]===this.id&&(!e||o.type===e)&&a.push(o)}return a}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Vt(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},sa=class{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),n;cv(t)&&(n=this.register(t));let a=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,ov(e,r,n),this.override&&gt.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){let t=this.items,n=e.id,a=this.scope;n in t&&delete t[n],a&&n in gt[a]&&(delete gt[a][n],this.override&&delete Fi[n])}};function ov(i,e,t){let n=Gn(Object.create(null),[t?gt.get(t):{},gt.get(e),i.defaults]);gt.set(e,n),i.defaultRoutes&&lv(e,i.defaultRoutes),i.descriptors&&gt.describe(e,i.descriptors)}function lv(i,e){Object.keys(e).forEach(t=>{let n=t.split("."),a=n.pop(),s=[i].concat(n).join("."),r=e[t].split("."),o=r.pop(),l=r.join(".");gt.route(s,a,l,o)})}function cv(i){return"id"in i&&"defaults"in i}var cc=class{constructor(){this.controllers=new sa(ji,"datasets",!0),this.elements=new sa(Ve,"elements"),this.plugins=new sa(Object,"plugins"),this.scales=new sa(pn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(a=>{let s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):rt(a,r=>{let o=n||this._getRegistryForType(r);this._exec(e,o,r)})})}_exec(e,t,n){let a=ur(e);ft(n["before"+a],[],n),t[e](n),ft(n["after"+a],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){let a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}},Xe=new cc,dc=class{constructor(){this._init=void 0}notify(e,t,n,a){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;let s=a?this._descriptors(e).filter(a):this._descriptors(e),r=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),r}_notify(e,t,n,a){a=a||{};for(let s of e){let r=s.plugin,o=r[n],l=[t,a,s.options];if(ft(o,l,r)===!1&&a.cancelable)return!1}return!0}invalidate(){Z(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let n=e&&e.config,a=Q(n.options&&n.options.plugins,{}),s=dv(n);return a===!1&&!t?[]:hv(e,s,a,t)}_notifyStateChanges(e){let t=this._oldCache||[],n=this._cache,a=(s,r)=>s.filter(o=>!r.some(l=>o.plugin.id===l.plugin.id));this._notify(a(t,n),e,"stop"),this._notify(a(n,t),e,"start")}};function dv(i){let e={},t=[],n=Object.keys(Xe.plugins.items);for(let s=0;s<n.length;s++)t.push(Xe.getPlugin(n[s]));let a=i.plugins||[];for(let s=0;s<a.length;s++){let r=a[s];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function mv(i,e){return!e&&i===!1?null:i===!0?{}:i}function hv(i,{plugins:e,localIds:t},n,a){let s=[],r=i.getContext();for(let o of e){let l=o.id,c=mv(n[l],a);c!==null&&s.push({plugin:o,options:pv(i.config,{plugin:o,local:t[l]},c,r)})}return s}function pv(i,{plugin:e,local:t},n,a){let s=i.pluginScopeKeys(e),r=i.getOptionScopes(n,s);return t&&e.defaults&&r.push(e.defaults),i.createResolver(r,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mc(i,e){let t=gt.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function uv(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function fv(i,e){return i===e?"_index_":"_value_"}function gp(i){if(i==="x"||i==="y"||i==="r")return i}function gv(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function hc(i,...e){if(gp(i))return i;for(let t of e){let n=t.axis||gv(t.position)||i.length>1&&gp(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function _p(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function _v(i,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(t.length)return _p(i,"x",t[0])||_p(i,"y",t[0])}return{}}function bv(i,e){let t=Fi[i.type]||{scales:{}},n=e.scales||{},a=mc(i.type,e),s=Object.create(null);return Object.keys(n).forEach(r=>{let o=n[r];if(!J(o))return console.error(`Invalid scale configuration for scale: ${r}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);let l=hc(r,o,_v(r,i),gt.scales[o.type]),c=fv(l,a),d=t.scales||{};s[r]=Yn(Object.create(null),[{axis:l},o,d[l],d[c]])}),i.data.datasets.forEach(r=>{let o=r.type||i.type,l=r.indexAxis||mc(o,e),d=(Fi[o]||{}).scales||{};Object.keys(d).forEach(m=>{let h=uv(m,l),u=r[h+"AxisID"]||h;s[u]=s[u]||Object.create(null),Yn(s[u],[{axis:h},n[u],d[m]])})}),Object.keys(s).forEach(r=>{let o=s[r];Yn(o,[gt.scales[o.type],gt.scale])}),s}function au(i){let e=i.options||(i.options={});e.plugins=Q(e.plugins,{}),e.scales=bv(i,e)}function su(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function vv(i){return i=i||{},i.data=su(i.data),au(i),i}var bp=new Map,ru=new Set;function Er(i,e){let t=bp.get(i);return t||(t=e(),bp.set(i,t),ru.add(t)),t}var Ja=(i,e,t)=>{let n=ui(e,t);n!==void 0&&i.add(n)},pc=class{constructor(e){this._config=vv(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=su(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),au(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Er(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Er(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Er(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,n=this.type;return Er(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let n=this._scopeCache,a=n.get(e);return(!a||t)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,t,n){let{options:a,type:s}=this,r=this._cachedScopes(e,n),o=r.get(t);if(o)return o;let l=new Set;t.forEach(d=>{e&&(l.add(e),d.forEach(m=>Ja(l,e,m))),d.forEach(m=>Ja(l,a,m)),d.forEach(m=>Ja(l,Fi[s]||{},m)),d.forEach(m=>Ja(l,gt,m)),d.forEach(m=>Ja(l,br,m))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),ru.has(t)&&r.set(t,c),c}chartOptionScopes(){let{options:e,type:t}=this;return[e,Fi[t]||{},gt.datasets[t]||{},{type:t},gt,br]}resolveNamedOptions(e,t,n,a=[""]){let s={$shared:!0},{resolver:r,subPrefixes:o}=vp(this._resolverCache,e,a),l=r;if(xv(r,t)){s.$shared=!1,n=hi(n)?n():n;let c=this.createResolver(e,n,o);l=ln(r,n,c)}for(let c of t)s[c]=l[c];return s}createResolver(e,t,n=[""],a){let{resolver:s}=vp(this._resolverCache,e,n);return J(t)?ln(s,t,void 0,a):s}};function vp(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));let a=t.join(),s=n.get(a);return s||(s={resolver:xr(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},n.set(a,s)),s}var yv=i=>J(i)&&Object.getOwnPropertyNames(i).some(e=>hi(i[e]));function xv(i,e){let{isScriptable:t,isIndexable:n}=Fl(i);for(let a of e){let s=t(a),r=n(a),o=(r||s)&&i[a];if(s&&(hi(o)||yv(o))||r&&bt(o))return!0}return!1}var wv="4.5.1",Sv=["top","bottom","left","right","chartArea"];function yp(i,e){return i==="top"||i==="bottom"||Sv.indexOf(i)===-1&&e==="x"}function xp(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function wp(i){let e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ft(t&&t.onComplete,[i],e)}function Cv(i){let e=i.chart,t=e.options.animation;ft(t&&t.onProgress,[i],e)}function ou(i){return wr()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var Dr={},Sp=i=>{let e=ou(i);return Object.values(Dr).filter(t=>t.canvas===e).pop()};function kv(i,e,t){let n=Object.keys(i);for(let a of n){let s=+a;if(s>=e){let r=i[a];delete i[a],(t>0||s>e)&&(i[s+t]=r)}}}function Mv(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}var un=(()=>{class i{static defaults=gt;static instances=Dr;static overrides=Fi;static registry=Xe;static version=wv;static getChart=Sp;static register(...t){Xe.add(...t),Cp()}static unregister(...t){Xe.remove(...t),Cp()}constructor(t,n){let a=this.config=new pc(n),s=ou(t),r=Sp(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let o=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||$b(s)),this.platform.updateConfig(a);let l=this.platform.acquireContext(s,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,m=c&&c.width;if(this.id=wh(),this.ctx=l,this.canvas=c,this.width=m,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Oh(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Dr[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}gi.listen(this,"complete",wp),gi.listen(this,"progress",Cv),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:n},width:a,height:s,_aspectRatio:r}=this;return Z(t)?n&&r?r:s?a/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xe}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Vl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ol(this.canvas,this.ctx),this}stop(){return gi.stop(this),this}resize(t,n){gi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){let a=this.options,s=this.canvas,r=a.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),l=a.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Vl(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ft(a.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};rt(n,(a,s)=>{a.id=s})}buildOrUpdateScales(){let t=this.options,n=t.scales,a=this.scales,s=Object.keys(a).reduce((o,l)=>(o[l]=!1,o),{}),r=[];n&&(r=r.concat(Object.keys(n).map(o=>{let l=n[o],c=hc(o,l),d=c==="r",m=c==="x";return{options:l,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),rt(r,o=>{let l=o.options,c=l.id,d=hc(c,l),m=Q(l.type,o.dtype);(l.position===void 0||yp(l.position,d)!==yp(o.dposition))&&(l.position=o.dposition),s[c]=!0;let h=null;if(c in a&&a[c].type===m)h=a[c];else{let u=Xe.getScale(m);h=new u({id:c,type:m,ctx:this.ctx,chart:this}),a[h.id]=h}h.init(l,t)}),rt(s,(o,l)=>{o||delete a[l]}),rt(a,o=>{te.configure(this,o,o.options),te.addBox(this,o)})}_updateMetasets(){let t=this._metasets,n=this.data.datasets.length,a=t.length;if(t.sort((s,r)=>s.index-r.index),a>n){for(let s=n;s<a;++s)this._destroyDatasetMeta(s);t.splice(n,a-n)}this._sortedMetasets=t.slice(0).sort(xp("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((a,s)=>{n.filter(r=>r===a._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],n=this.data.datasets,a,s;for(this._removeUnreferencedMetasets(),a=0,s=n.length;a<s;a++){let r=n[a],o=this.getDatasetMeta(a),l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(a),o=this.getDatasetMeta(a)),o.type=l,o.indexAxis=r.indexAxis||mc(l,this.options),o.order=r.order||0,o.index=a,o.label=""+r.label,o.visible=this.isDatasetVisible(a),o.controller)o.controller.updateIndex(a),o.controller.linkScales();else{let c=Xe.getController(l),{datasetElementType:d,dataElementType:m}=gt.datasets[l];Object.assign(c,{dataElementType:Xe.getElement(m),datasetElementType:d&&Xe.getElement(d)}),o.controller=new c(this,a),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){rt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let n=this.config;n.update();let a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,m=this.data.datasets.length;d<m;d++){let{controller:h}=this.getDatasetMeta(d),u=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(u),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=a.layout.autoPadding?o:0,this._updateLayout(o),s||rt(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xp("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){rt(this.scales,t=>{te.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!yl(n,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(let{method:a,start:s,count:r}of n){let o=a==="_removeElements"?-r:r;kv(t,s,o)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let n=this.data.datasets.length,a=r=>new Set(t.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),s=a(0);for(let r=1;r<n;r++)if(!yl(s,a(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;te.update(this,this.width,this.height,t);let n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],rt(this.boxes,s=>{a&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,hi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){let a=this.getDatasetMeta(t),s={meta:a,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(a.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gi.has(this)?this.attached&&!gi.running(this)&&gi.start(this):(this.draw(),wp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:a,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let n=this._sortedMetasets,a=[],s,r;for(s=0,r=n.length;s<r;++s){let o=n[s];(!t||o.visible)&&a.push(o)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let n=this.ctx,a={meta:t,index:t.index,cancelable:!0},s=ql(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&$a(n,s),t.controller.draw(),s&&Ka(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return qe(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,a,s){let r=Tb.modes[n];return typeof r=="function"?r(this,t,a,s):[]}getDatasetMeta(t){let n=this.data.datasets[t],a=this._metasets,s=a.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},a.push(s)),s}getContext(){return this.$context||(this.$context=fi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let n=this.data.datasets[t];if(!n)return!1;let a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(t,n){let a=this.getDatasetMeta(t);a.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,a){let s=a?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);Zn(n)?(r.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),o.update(r,{visible:a}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){let n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),gi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ol(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,n=this.platform,a=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};rt(this.options.events,r=>a(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,n=this.platform,a=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},s=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)},o,l=()=>{s("attach",l),this.attached=!0,this.resize(),a("resize",r),a("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),a("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){rt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},rt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,a){let s=a?"set":"remove",r,o,l,c;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];let d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let n=this._active||[],a=t.map(({datasetIndex:r,index:o})=>{let l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!Qa(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(t,n,a){return this._plugins.notify(this,t,n,a)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,a){let s=this.options.hover,r=(c,d)=>c.filter(m=>!d.some(h=>m.datasetIndex===h.datasetIndex&&m.index===h.index)),o=r(n,t),l=a?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,n){let a={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,s)===!1)return;let r=this._handleEvent(t,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,s),(r||a.changed)&&this.render(),this}_handleEvent(t,n,a){let{_active:s=[],options:r}=this,o=n,l=this._getActiveElements(t,s,a,o),c=kh(t),d=Mv(t,this._lastEvent,a,c);a&&(this._lastEvent=null,ft(r.onHover,[t,l,this],this),c&&ft(r.onClick,[t,l,this],this));let m=!Qa(l,s);return(m||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=d,m}_getActiveElements(t,n,a,s){if(t.type==="mouseout")return[];if(!a)return n;let r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}return i})();function Cp(){return rt(un.instances,i=>i._plugins.invalidate())}function Ev(i,e,t){let{startAngle:n,x:a,y:s,outerRadius:r,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:d}=l,m=Math.min(c/r,qt(n-t));if(i.beginPath(),i.arc(a,s,r-c/2,n+m/2,t-m/2),o>0){let h=Math.min(c/o,qt(n-t));i.arc(a,s,o+c/2,t-h/2,n+h/2,!0)}else{let h=Math.min(c/2,r*qt(n-t));if(d==="round")i.arc(a,s,h,t-it/2,n+it/2,!0);else if(d==="bevel"){let u=2*h*h,_=-u*Math.cos(t+it/2)+a,b=-u*Math.sin(t+it/2)+s,v=u*Math.cos(n+it/2)+a,x=u*Math.sin(n+it/2)+s;i.lineTo(_,b),i.lineTo(v,x)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function Tv(i,e,t){let{startAngle:n,pixelMargin:a,x:s,y:r,outerRadius:o,innerRadius:l}=e,c=a/o;i.beginPath(),i.arc(s,r,o,n-c,t+c),l>a?(c=a/l,i.arc(s,r,l,t+c,n-c,!0)):i.arc(s,r,a,t+Dt,n-Dt),i.closePath(),i.clip()}function Iv(i){return yr(i,["outerStart","outerEnd","innerStart","innerEnd"])}function Pv(i,e,t,n){let a=Iv(i.options.borderRadius),s=(t-e)/2,r=Math.min(s,n*e/2),o=l=>{let c=(t-Math.min(s,l))*n/2;return Ht(l,0,Math.min(s,c))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:Ht(a.innerStart,0,r),innerEnd:Ht(a.innerEnd,0,r)}}function aa(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function Fr(i,e,t,n,a,s){let{x:r,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=e,m=Math.max(e.outerRadius+n+t-c,0),h=d>0?d+n+t+c:0,u=0,_=a-l;if(n){let nt=d>0?d-n:0,P=m>0?m-n:0,D=(nt+P)/2,N=D!==0?_*D/(D+n):_;u=(_-N)/2}let b=Math.max(.001,_*m-t/it)/m,v=(_-b)/2,x=l+v+u,w=a-v-u,{outerStart:M,outerEnd:E,innerStart:k,innerEnd:T}=Pv(e,h,m,w-x),A=m-M,I=m-E,R=x+M/A,W=w-E/I,q=h+k,$=h+T,Ot=x+k/q,Gt=w-T/$;if(i.beginPath(),s){let nt=(R+W)/2;if(i.arc(r,o,m,R,nt),i.arc(r,o,m,nt,W),E>0){let j=aa(I,W,r,o);i.arc(j.x,j.y,E,W,w+Dt)}let P=aa($,w,r,o);if(i.lineTo(P.x,P.y),T>0){let j=aa($,Gt,r,o);i.arc(j.x,j.y,T,w+Dt,Gt+Math.PI)}let D=(w-T/h+(x+k/h))/2;if(i.arc(r,o,h,w-T/h,D,!0),i.arc(r,o,h,D,x+k/h,!0),k>0){let j=aa(q,Ot,r,o);i.arc(j.x,j.y,k,Ot+Math.PI,x-Dt)}let N=aa(A,x,r,o);if(i.lineTo(N.x,N.y),M>0){let j=aa(A,R,r,o);i.arc(j.x,j.y,M,x-Dt,R)}}else{i.moveTo(r,o);let nt=Math.cos(R)*m+r,P=Math.sin(R)*m+o;i.lineTo(nt,P);let D=Math.cos(W)*m+r,N=Math.sin(W)*m+o;i.lineTo(D,N)}i.closePath()}function Av(i,e,t,n,a){let{fullCircles:s,startAngle:r,circumference:o}=e,l=e.endAngle;if(s){Fr(i,e,t,n,l,a);for(let c=0;c<s;++c)i.fill();isNaN(o)||(l=r+(o%vt||vt))}return Fr(i,e,t,n,l,a),i.fill(),l}function Dv(i,e,t,n,a){let{fullCircles:s,startAngle:r,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:m,borderDashOffset:h,borderRadius:u}=l,_=l.borderAlign==="inner";if(!c)return;i.setLineDash(m||[]),i.lineDashOffset=h,_?(i.lineWidth=c*2,i.lineJoin=d||"round"):(i.lineWidth=c,i.lineJoin=d||"bevel");let b=e.endAngle;if(s){Fr(i,e,t,n,b,a);for(let v=0;v<s;++v)i.stroke();isNaN(o)||(b=r+(o%vt||vt))}_&&Tv(i,e,b),l.selfJoin&&b-r>=it&&u===0&&d!=="miter"&&Ev(i,e,b),s||(Fr(i,e,t,n,b,a),i.stroke())}var uc=class extends Ve{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){let a=this.getProps(["x","y"],n),{angle:s,distance:r}=Cl(a,{x:e,y:t}),{startAngle:o,endAngle:l,innerRadius:c,outerRadius:d,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,u=Q(m,l-o),_=ta(s,o,l)&&o!==l,b=u>=vt||_,v=Ke(r,c+h,d+h);return b&&v}getCenterPoint(e){let{x:t,y:n,startAngle:a,endAngle:s,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,d=(a+s)/2,m=(r+o+c+l)/2;return{x:t+Math.cos(d)*m,y:n+Math.sin(d)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:n}=this,a=(t.offset||0)/4,s=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>vt?Math.floor(n/vt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*a,Math.sin(o)*a);let l=1-Math.sin(Math.min(it,n||0)),c=a*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Av(e,this,c,s,r),Dv(e,this,c,s,r),e.restore()}};function lu(i,e,t=e){i.lineCap=Q(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Q(t.borderDash,e.borderDash)),i.lineDashOffset=Q(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Q(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Q(t.borderWidth,e.borderWidth),i.strokeStyle=Q(t.borderColor,e.borderColor)}function Ov(i,e,t){i.lineTo(t.x,t.y)}function Rv(i){return i.stepped?Nh:i.tension||i.cubicInterpolationMode==="monotone"?zh:Ov}function cu(i,e,t={}){let n=i.length,{start:a=0,end:s=n-1}=t,{start:r,end:o}=e,l=Math.max(a,r),c=Math.min(s,o),d=a<r&&s<r||a>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!d?n+c-l:c-l}}function Lv(i,e,t,n){let{points:a,options:s}=e,{count:r,start:o,loop:l,ilen:c}=cu(a,t,n),d=Rv(s),{move:m=!0,reverse:h}=n||{},u,_,b;for(u=0;u<=c;++u)_=a[(o+(h?c-u:u))%r],!_.skip&&(m?(i.moveTo(_.x,_.y),m=!1):d(i,b,_,h,s.stepped),b=_);return l&&(_=a[(o+(h?c:0))%r],d(i,b,_,h,s.stepped)),!!l}function Fv(i,e,t,n){let a=e.points,{count:s,start:r,ilen:o}=cu(a,t,n),{move:l=!0,reverse:c}=n||{},d=0,m=0,h,u,_,b,v,x,w=E=>(r+(c?o-E:E))%s,M=()=>{b!==v&&(i.lineTo(d,v),i.lineTo(d,b),i.lineTo(d,x))};for(l&&(u=a[w(0)],i.moveTo(u.x,u.y)),h=0;h<=o;++h){if(u=a[w(h)],u.skip)continue;let E=u.x,k=u.y,T=E|0;T===_?(k<b?b=k:k>v&&(v=k),d=(m*d+E)/++m):(M(),i.lineTo(E,k),_=T,m=0,b=v=k),x=k}M()}function fc(i){let e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Fv:Lv}function Nv(i){return i.stepped?$h:i.tension||i.cubicInterpolationMode==="monotone"?Kh:Ri}function zv(i,e,t,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,n)&&a.closePath()),lu(i,e.options),i.stroke(a)}function Bv(i,e,t,n){let{segments:a,options:s}=e,r=fc(e);for(let o of a)lu(i,s,o.style),i.beginPath(),r(i,e,o,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}var Vv=typeof Path2D=="function";function Hv(i,e,t,n){Vv&&!e.options.segment?zv(i,e,t,n):Bv(i,e,t,n)}var Br=(()=>{class i extends Ve{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){let a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){let s=a.spanGaps?this._loop:this._fullLoop;Uh(this._points,a,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Xh(this,this.options.segment))}first(){let t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){let t=this.segments,n=this.points,a=t.length;return a&&n[t[a-1].end]}interpolate(t,n){let a=this.options,s=t[n],r=this.points,o=Ql(this,{property:n,start:s,end:s});if(!o.length)return;let l=[],c=Nv(a),d,m;for(d=0,m=o.length;d<m;++d){let{start:h,end:u}=o[d],_=r[h],b=r[u];if(_===b){l.push(_);continue}let v=Math.abs((s-_[n])/(b[n]-_[n])),x=c(_,b,v,a.stepped);x[n]=t[n],l.push(x)}return l.length===1?l[0]:l}pathSegment(t,n,a){return fc(this)(t,this,n,a)}path(t,n,a){let s=this.segments,r=fc(this),o=this._loop;n=n||0,a=a||this.points.length-n;for(let l of s)o&=r(t,this,l,{start:n,end:n+a-1});return!!o}draw(t,n,a,s){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Hv(t,this,a,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function kp(i,e,t,n){let a=i.options,{[t]:s}=i.getProps([t],n);return Math.abs(e-s)<a.radius+a.hitRadius}var jv=(()=>{class i extends Ve{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,a){let s=this.options,{x:r,y:o}=this.getProps(["x","y"],a);return Math.pow(t-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return kp(this,t,"x",n)}inYRange(t,n){return kp(this,t,"y",n)}getCenterPoint(t){let{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);let a=n&&t.borderWidth||0;return(n+a)*2}draw(t,n){let a=this.options;this.skip||a.radius<.1||!qe(this,n,this.size(a)/2)||(t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.fillStyle=a.backgroundColor,vr(t,a,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return i})();function du(i,e){let{x:t,y:n,base:a,width:s,height:r}=i.getProps(["x","y","base","width","height"],e),o,l,c,d,m;return i.horizontal?(m=r/2,o=Math.min(t,a),l=Math.max(t,a),c=n-m,d=n+m):(m=s/2,o=t-m,l=t+m,c=Math.min(n,a),d=Math.max(n,a)),{left:o,top:c,right:l,bottom:d}}function Hi(i,e,t,n){return i?0:Ht(e,t,n)}function Wv(i,e,t){let n=i.options.borderWidth,a=i.borderSkipped,s=Ll(n);return{t:Hi(a.top,s.top,0,t),r:Hi(a.right,s.right,0,e),b:Hi(a.bottom,s.bottom,0,t),l:Hi(a.left,s.left,0,e)}}function Uv(i,e,t){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),a=i.options.borderRadius,s=Bi(a),r=Math.min(e,t),o=i.borderSkipped,l=n||J(a);return{topLeft:Hi(!l||o.top||o.left,s.topLeft,0,r),topRight:Hi(!l||o.top||o.right,s.topRight,0,r),bottomLeft:Hi(!l||o.bottom||o.left,s.bottomLeft,0,r),bottomRight:Hi(!l||o.bottom||o.right,s.bottomRight,0,r)}}function Qv(i){let e=du(i),t=e.right-e.left,n=e.bottom-e.top,a=Wv(i,t/2,n/2),s=Uv(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function tc(i,e,t,n){let a=e===null,s=t===null,o=i&&!(a&&s)&&du(i,n);return o&&(a||Ke(e,o.left,o.right))&&(s||Ke(t,o.top,o.bottom))}function qv(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function $v(i,e){i.rect(e.x,e.y,e.w,e.h)}function ec(i,e,t={}){let n=i.x!==t.x?-e:0,a=i.y!==t.y?-e:0,s=(i.x+i.w!==t.x+t.w?e:0)-n,r=(i.y+i.h!==t.y+t.h?e:0)-a;return{x:i.x+n,y:i.y+a,w:i.w+s,h:i.h+r,radius:i.radius}}var gc=class extends Ve{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:r}=Qv(this),o=qv(r.radius)?ia:$v;e.save(),(r.w!==s.w||r.h!==s.h)&&(e.beginPath(),o(e,ec(r,t,s)),e.clip(),o(e,ec(s,-t,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,ec(s,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,n){return tc(this,e,t,n)}inXRange(e,t){return tc(this,e,null,t)}inYRange(e,t){return tc(this,null,e,t)}getCenterPoint(e){let{x:t,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+a)/2:t,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},Kv=Object.freeze({__proto__:null,ArcElement:uc,BarElement:gc,LineElement:Br,PointElement:jv}),_c=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Mp=_c.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function mu(i){return _c[i%_c.length]}function hu(i){return Mp[i%Mp.length]}function Gv(i,e){return i.borderColor=mu(e),i.backgroundColor=hu(e),++e}function Xv(i,e){return i.backgroundColor=i.data.map(()=>mu(e++)),e}function Yv(i,e){return i.backgroundColor=i.data.map(()=>hu(e++)),e}function Zv(i){let e=0;return(t,n)=>{let a=i.getDatasetMeta(n).controller;a instanceof kc?e=Xv(t,e):a instanceof Jp?e=Yv(t,e):a&&(e=Gv(t,e))}}function Ep(i){let e;for(e in i)if(i[e].borderColor||i[e].backgroundColor)return!0;return!1}function Jv(i){return i&&(i.borderColor||i.backgroundColor)}function ty(){return gt.borderColor!=="rgba(0,0,0,0.1)"||gt.backgroundColor!=="rgba(0,0,0,0.1)"}var ey={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,e,t){if(!t.enabled)return;let{data:{datasets:n},options:a}=i.config,{elements:s}=a,r=Ep(n)||Jv(a)||s&&Ep(s)||ty();if(!t.forceOverride&&r)return;let o=Zv(i);n.forEach(o)}};function iy(i,e,t,n,a){let s=a.samples||n;if(s>=t)return i.slice(e,e+t);let r=[],o=(t-2)/(s-2),l=0,c=e+t-1,d=e,m,h,u,_,b;for(r[l++]=i[d],m=0;m<s-2;m++){let v=0,x=0,w,M=Math.floor((m+1)*o)+1+e,E=Math.min(Math.floor((m+2)*o)+1,t)+e,k=E-M;for(w=M;w<E;w++)v+=i[w].x,x+=i[w].y;v/=k,x/=k;let T=Math.floor(m*o)+1+e,A=Math.min(Math.floor((m+1)*o)+1,t)+e,{x:I,y:R}=i[d];for(u=_=-1,w=T;w<A;w++)_=.5*Math.abs((I-v)*(i[w].y-R)-(I-i[w].x)*(x-R)),_>u&&(u=_,h=i[w],b=w);r[l++]=h,d=b}return r[l++]=i[c],r}function ny(i,e,t,n){let a=0,s=0,r,o,l,c,d,m,h,u,_,b,v=[],x=e+t-1,w=i[e].x,E=i[x].x-w;for(r=e;r<e+t;++r){o=i[r],l=(o.x-w)/E*n,c=o.y;let k=l|0;if(k===d)c<_?(_=c,m=r):c>b&&(b=c,h=r),a=(s*a+o.x)/++s;else{let T=r-1;if(!Z(m)&&!Z(h)){let A=Math.min(m,h),I=Math.max(m,h);A!==u&&A!==T&&v.push(gs(ve({},i[A]),{x:a})),I!==u&&I!==T&&v.push(gs(ve({},i[I]),{x:a}))}r>0&&T!==u&&v.push(i[T]),v.push(o),d=k,s=0,_=b=c,m=h=u=r}}return v}function pu(i){if(i._decimated){let e=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Tp(i){i.data.datasets.forEach(e=>{pu(e)})}function ay(i,e){let t=e.length,n=0,a,{iScale:s}=i,{min:r,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(n=Ht(Qe(e,s.axis,r).lo,0,t-1)),c?a=Ht(Qe(e,s.axis,o).hi+1,n,t)-n:a=t-n,{start:n,count:a}}var sy={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,e,t)=>{if(!t.enabled){Tp(i);return}let n=i.width;i.data.datasets.forEach((a,s)=>{let{_data:r,indexAxis:o}=a,l=i.getDatasetMeta(s),c=r||a.data;if(na([o,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=i.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||i.options.parsing)return;let{start:m,count:h}=ay(l,c),u=t.threshold||4*n;if(h<=u){pu(a);return}Z(r)&&(a._data=c,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let _;switch(t.algorithm){case"lttb":_=iy(c,m,h,n,t);break;case"min-max":_=ny(c,m,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}a._decimated=_})},destroy(i){Tp(i)}};function ry(i,e,t){let n=i.segments,a=i.points,s=e.points,r=[];for(let o of n){let{start:l,end:c}=o;c=Vr(l,c,a);let d=bc(t,a[l],a[c],o.loop);if(!e.segments){r.push({source:o,target:d,start:a[l],end:a[c]});continue}let m=Ql(e,d);for(let h of m){let u=bc(t,s[h.start],s[h.end],h.loop),_=Ul(o,a,u);for(let b of _)r.push({source:b,target:h,start:{[t]:Ip(d,u,"start",Math.max)},end:{[t]:Ip(d,u,"end",Math.min)}})}}return r}function bc(i,e,t,n){if(n)return;let a=e[i],s=t[i];return i==="angle"&&(a=qt(a),s=qt(s)),{property:i,start:a,end:s}}function oy(i,e){let{x:t=null,y:n=null}=i||{},a=e.points,s=[];return e.segments.forEach(({start:r,end:o})=>{o=Vr(r,o,a);let l=a[r],c=a[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}function Vr(i,e,t){for(;e>i;e--){let n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Ip(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function uu(i,e){let t=[],n=!1;return bt(i)?(n=!0,t=i):t=oy(i,e),t.length?new Br({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function Pp(i){return i&&i.fill!==!1}function ly(i,e,t){let a=i[e].fill,s=[e],r;if(!t)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Pt(a))return a;if(r=i[a],!r)return!1;if(r.visible)return a;s.push(a),a=r.fill}return!1}function cy(i,e,t){let n=py(i);if(J(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Pt(a)&&Math.floor(a)===a?dy(n[0],e,a,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function dy(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function my(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:J(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function hy(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:J(i)?n=i.value:n=e.getBaseValue(),n}function py(i){let e=i.options,t=e.fill,n=Q(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function uy(i){let{scale:e,index:t,line:n}=i,a=[],s=n.segments,r=n.points,o=fy(e,t);o.push(uu({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){let c=s[l];for(let d=c.start;d<=c.end;d++)gy(a,r[d],o)}return new Br({points:a,options:{}})}function fy(i,e){let t=[],n=i.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){let s=n[a];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function gy(i,e,t){let n=[];for(let a=0;a<t.length;a++){let s=t[a],{first:r,last:o,point:l}=_y(s,e,"x");if(!(!l||r&&o)){if(r)n.unshift(l);else if(i.push(l),!o)break}}i.push(...n)}function _y(i,e,t){let n=i.interpolate(e,t);if(!n)return{};let a=n[t],s=i.segments,r=i.points,o=!1,l=!1;for(let c=0;c<s.length;c++){let d=s[c],m=r[d.start][t],h=r[d.end][t];if(Ke(a,m,h)){o=a===m,l=a===h;break}}return{first:o,last:l,point:n}}var Nr=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){let{x:a,y:s,radius:r}=this;return t=t||{start:0,end:vt},e.arc(a,s,r,t.end,t.start,!0),!n.bounds}interpolate(e){let{x:t,y:n,radius:a}=this,s=e.angle;return{x:t+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}};function by(i){let{chart:e,fill:t,line:n}=i;if(Pt(t))return vy(e,t);if(t==="stack")return uy(i);if(t==="shape")return!0;let a=yy(i);return a instanceof Nr?a:uu(a,n)}function vy(i,e){let t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function yy(i){return(i.scale||{}).getPointPositionForValue?wy(i):xy(i)}function xy(i){let{scale:e={},fill:t}=i,n=my(t,e);if(Pt(n)){let a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function wy(i){let{scale:e,fill:t}=i,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,r=hy(t,e,s),o=[];if(n.grid.circular){let l=e.getPointPositionForValue(0,s);return new Nr({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<a;++l)o.push(e.getPointPositionForValue(l,r));return o}function ic(i,e,t){let n=by(e),{chart:a,index:s,line:r,scale:o,axis:l}=e,c=r.options,d=c.fill,m=c.backgroundColor,{above:h=m,below:u=m}=d||{},_=a.getDatasetMeta(s),b=ql(a,_);n&&r.points.length&&($a(i,t),Sy(i,{line:r,target:n,above:h,below:u,area:t,scale:o,axis:l,clip:b}),Ka(i))}function Sy(i,e){let{line:t,target:n,above:a,below:s,area:r,scale:o,clip:l}=e,c=t._loop?"angle":e.axis;i.save();let d=s;s!==a&&(c==="x"?(Ap(i,n,r.top),nc(i,{line:t,target:n,color:a,scale:o,property:c,clip:l}),i.restore(),i.save(),Ap(i,n,r.bottom)):c==="y"&&(Dp(i,n,r.left),nc(i,{line:t,target:n,color:s,scale:o,property:c,clip:l}),i.restore(),i.save(),Dp(i,n,r.right),d=a)),nc(i,{line:t,target:n,color:d,scale:o,property:c,clip:l}),i.restore()}function Ap(i,e,t){let{segments:n,points:a}=e,s=!0,r=!1;i.beginPath();for(let o of n){let{start:l,end:c}=o,d=a[l],m=a[Vr(l,c,a)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(d.x,t),i.lineTo(d.x,d.y)),r=!!e.pathSegment(i,o,{move:r}),r?i.closePath():i.lineTo(m.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function Dp(i,e,t){let{segments:n,points:a}=e,s=!0,r=!1;i.beginPath();for(let o of n){let{start:l,end:c}=o,d=a[l],m=a[Vr(l,c,a)];s?(i.moveTo(d.x,d.y),s=!1):(i.lineTo(t,d.y),i.lineTo(d.x,d.y)),r=!!e.pathSegment(i,o,{move:r}),r?i.closePath():i.lineTo(t,m.y)}i.lineTo(t,e.first().y),i.closePath(),i.clip()}function nc(i,e){let{line:t,target:n,property:a,color:s,scale:r,clip:o}=e,l=ry(t,n,a);for(let{source:c,target:d,start:m,end:h}of l){let{style:{backgroundColor:u=s}={}}=c,_=n!==!0;i.save(),i.fillStyle=u,Cy(i,r,o,_&&bc(a,m,h)),i.beginPath();let b=!!t.pathSegment(i,c),v;if(_){b?i.closePath():Op(i,n,h,a);let x=!!n.pathSegment(i,d,{move:b,reverse:!0});v=b&&x,v||Op(i,n,m,a)}i.closePath(),i.fill(v?"evenodd":"nonzero"),i.restore()}}function Cy(i,e,t,n){let a=e.chart.chartArea,{property:s,start:r,end:o}=n||{};if(s==="x"||s==="y"){let l,c,d,m;s==="x"?(l=r,c=a.top,d=o,m=a.bottom):(l=a.left,c=r,d=a.right,m=o),i.beginPath(),t&&(l=Math.max(l,t.left),d=Math.min(d,t.right),c=Math.max(c,t.top),m=Math.min(m,t.bottom)),i.rect(l,c,d-l,m-c),i.clip()}}function Op(i,e,t,n){let a=e.interpolate(t,n);a&&i.lineTo(a.x,a.y)}var ky={id:"filler",afterDatasetsUpdate(i,e,t){let n=(i.data.datasets||[]).length,a=[],s,r,o,l;for(r=0;r<n;++r)s=i.getDatasetMeta(r),o=s.dataset,l=null,o&&o.options&&o instanceof Br&&(l={visible:i.isDatasetVisible(r),index:r,fill:cy(o,r,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,a.push(l);for(r=0;r<n;++r)l=a[r],!(!l||l.fill===!1)&&(l.fill=ly(a,r,t.propagate))},beforeDraw(i,e,t){let n=t.drawTime==="beforeDraw",a=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let r=a.length-1;r>=0;--r){let o=a[r].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&ic(i.ctx,o,s))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){let s=n[a].$filler;Pp(s)&&ic(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,e,t){let n=e.meta.$filler;!Pp(n)||t.drawTime!=="beforeDatasetDraw"||ic(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Rp=(i,e)=>{let{boxHeight:t=e,boxWidth:n=e}=i;return i.usePointStyle&&(t=Math.min(t,e),n=i.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},My=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index,zr=class extends Ve{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=ft(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,a=Vt(n.font),s=a.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Rp(n,s),c,d;t.font=a.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(r,s,o,l)+10):(d=this.maxHeight,c=this._fitCols(r,a,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,a){let{ctx:s,maxWidth:r,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=a+o,m=e;s.textAlign="left",s.textBaseline="middle";let h=-1,u=-d;return this.legendItems.forEach((_,b)=>{let v=n+t/2+s.measureText(_.text).width;(b===0||c[c.length-1]+v+2*o>r)&&(m+=d,c[c.length-(b>0?0:1)]=0,u+=d,h++),l[b]={left:0,top:u,row:h,width:v,height:a},c[c.length-1]+=v+o}),m}_fitCols(e,t,n,a){let{ctx:s,maxHeight:r,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=r-e,m=o,h=0,u=0,_=0,b=0;return this.legendItems.forEach((v,x)=>{let{itemWidth:w,itemHeight:M}=Ey(n,t,s,v,a);x>0&&u+M+2*o>d&&(m+=h+o,c.push({width:h,height:u}),_+=h+o,b++,h=u=0),l[x]={left:_,top:u,col:b,width:w,height:M},h=Math.max(h,w),u+=M+o}),m+=h,c.push({width:h,height:u}),m}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:a},rtl:s}}=this,r=dn(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=$t(n,this.left+a,this.right-this.lineWidths[o]);for(let c of t)o!==c.row&&(o=c.row,l=$t(n,this.left+a,this.right-this.lineWidths[o])),c.top+=this.top+e+a,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+a}else{let o=0,l=$t(n,this.top+e+a,this.bottom-this.columnSizes[o].height);for(let c of t)c.col!==o&&(o=c.col,l=$t(n,this.top+e+a,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+a,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;$a(e,this),this._draw(),Ka(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:n,ctx:a}=this,{align:s,labels:r}=e,o=gt.color,l=dn(e.rtl,this.left,this.width),c=Vt(r.font),{padding:d}=r,m=c.size,h=m/2,u;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;let{boxWidth:_,boxHeight:b,itemHeight:v}=Rp(r,m),x=function(T,A,I){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;a.save();let R=Q(I.lineWidth,1);if(a.fillStyle=Q(I.fillStyle,o),a.lineCap=Q(I.lineCap,"butt"),a.lineDashOffset=Q(I.lineDashOffset,0),a.lineJoin=Q(I.lineJoin,"miter"),a.lineWidth=R,a.strokeStyle=Q(I.strokeStyle,o),a.setLineDash(Q(I.lineDash,[])),r.usePointStyle){let W={radius:b*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:R},q=l.xPlus(T,_/2),$=A+h;Rl(a,W,q,$,r.pointStyleWidth&&_)}else{let W=A+Math.max((m-b)/2,0),q=l.leftForLtr(T,_),$=Bi(I.borderRadius);a.beginPath(),Object.values($).some(Ot=>Ot!==0)?ia(a,{x:q,y:W,w:_,h:b,radius:$}):a.rect(q,W,_,b),a.fill(),R!==0&&a.stroke()}a.restore()},w=function(T,A,I){zi(a,I.text,T,A+v/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},M=this.isHorizontal(),E=this._computeTitleHeight();M?u={x:$t(s,this.left+d,this.right-n[0]),y:this.top+d+E,line:0}:u={x:this.left+d,y:$t(s,this.top+E+d,this.bottom-t[0].height),line:0},jl(this.ctx,e.textDirection);let k=v+d;this.legendItems.forEach((T,A)=>{a.strokeStyle=T.fontColor,a.fillStyle=T.fontColor;let I=a.measureText(T.text).width,R=l.textAlign(T.textAlign||(T.textAlign=r.textAlign)),W=_+h+I,q=u.x,$=u.y;l.setWidth(this.width),M?A>0&&q+W+d>this.right&&($=u.y+=k,u.line++,q=u.x=$t(s,this.left+d,this.right-n[u.line])):A>0&&$+k>this.bottom&&(q=u.x=q+t[u.line].width+d,u.line++,$=u.y=$t(s,this.top+E+d,this.bottom-t[u.line].height));let Ot=l.x(q);if(x(Ot,$,T),q=Rh(R,q+_+h,M?q+W:this.right,e.rtl),w(l.x(q),$,T),M)u.x+=W+d;else if(typeof T.text!="string"){let Gt=c.lineHeight;u.y+=fu(T,Gt)+d}else u.y+=k}),Wl(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,n=Vt(t.font),a=Kt(t.padding);if(!t.display)return;let s=dn(e.rtl,this.left,this.width),r=this.ctx,o=t.position,l=n.size/2,c=a.top+l,d,m=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,m=$t(e.align,m,this.right-h);else{let _=this.columnSizes.reduce((b,v)=>Math.max(b,v.height),0);d=c+$t(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}let u=$t(o,m,m+h);r.textAlign=s.textAlign(_r(o)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=n.string,zi(r,t.text,u,d,n)}_computeTitleHeight(){let e=this.options.title,t=Vt(e.font),n=Kt(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,a,s;if(Ke(e,this.left,this.right)&&Ke(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],Ke(e,a.left,a.left+a.width)&&Ke(t,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){let t=this.options;if(!Py(e.type,t))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let a=this._hoveredItem,s=My(a,n);a&&!s&&ft(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&ft(t.onHover,[e,n,this],this)}else n&&ft(t.onClick,[e,n,this],this)}};function Ey(i,e,t,n,a){let s=Ty(n,i,e,t),r=Iy(a,n,e.lineHeight);return{itemWidth:s,itemHeight:r}}function Ty(i,e,t,n){let a=i.text;return a&&typeof a!="string"&&(a=a.reduce((s,r)=>s.length>r.length?s:r)),e+t.size/2+n.measureText(a).width}function Iy(i,e,t){let n=i;return typeof e.text!="string"&&(n=fu(e,t)),n}function fu(i,e){let t=i.text?i.text.length:0;return e*t}function Py(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var Ay={id:"legend",_element:zr,start(i,e,t){let n=i.legend=new zr({ctx:i.ctx,options:t,chart:i});te.configure(i,n,t),te.addBox(i,n)},stop(i){te.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){let n=i.legend;te.configure(i,n,t),n.options=t},afterUpdate(i){let e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){let n=e.datasetIndex,a=t.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:a,color:s,useBorderRadius:r,borderRadius:o}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(t?0:void 0),d=Kt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:a||c.textAlign,borderRadius:r&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},ns=class extends Ve{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let a=bt(n.text)?n.text.length:1;this._padding=Kt(n.padding);let s=a*Vt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:n,bottom:a,right:s,options:r}=this,o=r.align,l=0,c,d,m;return this.isHorizontal()?(d=$t(o,n,s),m=t+e,c=s-n):(r.position==="left"?(d=n+e,m=$t(o,a,t),l=it*-.5):(d=s-e,m=$t(o,t,a),l=it*.5),c=a-t),{titleX:d,titleY:m,maxWidth:c,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let n=Vt(t.font),s=n.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);zi(e,t.text,0,0,n,{color:t.color,maxWidth:l,rotation:c,textAlign:_r(t.align),textBaseline:"middle",translation:[r,o]})}};function Dy(i,e){let t=new ns({ctx:i.ctx,options:e,chart:i});te.configure(i,t,e),te.addBox(i,t),i.titleBlock=t}var Oy={id:"title",_element:ns,start(i,e,t){Dy(i,t)},stop(i){let e=i.titleBlock;te.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){let n=i.titleBlock;te.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Tr=new WeakMap,Ry={id:"subtitle",start(i,e,t){let n=new ns({ctx:i.ctx,options:t,chart:i});te.configure(i,n,t),te.addBox(i,n),Tr.set(i,n)},stop(i){te.removeBox(i,Tr.get(i)),Tr.delete(i)},beforeUpdate(i,e,t){let n=Tr.get(i);te.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},es={average(i){if(!i.length)return!1;let e,t,n=new Set,a=0,s=0;for(e=0,t=i.length;e<t;++e){let o=i[e].element;if(o&&o.hasValue()){let l=o.tooltipPosition();n.add(l.x),a+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:a/s}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,r,o;for(s=0,r=i.length;s<r;++s){let l=i[s].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=hr(e,c);d<a&&(a=d,o=l)}}if(o){let l=o.tooltipPosition();t=l.x,n=l.y}return{x:t,y:n}}};function Ge(i,e){return e&&(bt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function _i(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Ly(i,e){let{element:t,datasetIndex:n,index:a}=e,s=i.getDatasetMeta(n).controller,{label:r,value:o}=s.getLabelAndValue(a);return{chart:i,label:r,parsed:s.getParsed(a),raw:i.data.datasets[n].data[a],formattedValue:o,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:t}}function Lp(i,e){let t=i.chart.ctx,{body:n,footer:a,title:s}=i,{boxWidth:r,boxHeight:o}=e,l=Vt(e.bodyFont),c=Vt(e.titleFont),d=Vt(e.footerFont),m=s.length,h=a.length,u=n.length,_=Kt(e.padding),b=_.height,v=0,x=n.reduce((E,k)=>E+k.before.length+k.lines.length+k.after.length,0);if(x+=i.beforeBody.length+i.afterBody.length,m&&(b+=m*c.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),x){let E=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;b+=u*E+(x-u)*l.lineHeight+(x-1)*e.bodySpacing}h&&(b+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let w=0,M=function(E){v=Math.max(v,t.measureText(E).width+w)};return t.save(),t.font=c.string,rt(i.title,M),t.font=l.string,rt(i.beforeBody.concat(i.afterBody),M),w=e.displayColors?r+2+e.boxPadding:0,rt(n,E=>{rt(E.before,M),rt(E.lines,M),rt(E.after,M)}),w=0,t.font=d.string,rt(i.footer,M),t.restore(),v+=_.width,{width:v,height:b}}function Fy(i,e){let{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function Ny(i,e,t,n){let{x:a,width:s}=n,r=t.caretSize+t.caretPadding;if(i==="left"&&a+s+r>e.width||i==="right"&&a-s-r<0)return!0}function zy(i,e,t,n){let{x:a,width:s}=t,{width:r,chartArea:{left:o,right:l}}=i,c="center";return n==="center"?c=a<=(o+l)/2?"left":"right":a<=s/2?c="left":a>=r-s/2&&(c="right"),Ny(c,i,e,t)&&(c="center"),c}function Fp(i,e,t){let n=t.yAlign||e.yAlign||Fy(i,t);return{xAlign:t.xAlign||e.xAlign||zy(i,e,t,n),yAlign:n}}function By(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function Vy(i,e,t){let{y:n,height:a}=i;return e==="top"?n+=t:e==="bottom"?n-=a+t:n-=a/2,n}function Np(i,e,t,n){let{caretSize:a,caretPadding:s,cornerRadius:r}=i,{xAlign:o,yAlign:l}=t,c=a+s,{topLeft:d,topRight:m,bottomLeft:h,bottomRight:u}=Bi(r),_=By(e,o),b=Vy(e,l,c);return l==="center"?o==="left"?_+=c:o==="right"&&(_-=c):o==="left"?_-=Math.max(d,h)+a:o==="right"&&(_+=Math.max(m,u)+a),{x:Ht(_,0,n.width-e.width),y:Ht(b,0,n.height-e.height)}}function Ir(i,e,t){let n=Kt(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function zp(i){return Ge([],_i(i))}function Hy(i,e,t){return fi(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Bp(i,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}var gu={beforeTitle:$e,title(i){if(i.length>0){let e=i[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:$e,beforeBody:$e,beforeLabel:$e,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");let t=i.formattedValue;return Z(t)||(e+=t),e},labelColor(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:$e,afterBody:$e,beforeFooter:$e,footer:$e,afterFooter:$e};function ge(i,e,t,n){let a=i[e].call(t,n);return typeof a>"u"?gu[e].call(t,n):a}var Vp=(()=>{class i extends Ve{static positioners=es;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let n=this.chart,a=this.options.setContext(this.getContext()),s=a.enabled&&n.options.animation&&a.animations,r=new Or(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Hy(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){let{callbacks:a}=n,s=ge(a,"beforeTitle",this,t),r=ge(a,"title",this,t),o=ge(a,"afterTitle",this,t),l=[];return l=Ge(l,_i(s)),l=Ge(l,_i(r)),l=Ge(l,_i(o)),l}getBeforeBody(t,n){return zp(ge(n.callbacks,"beforeBody",this,t))}getBody(t,n){let{callbacks:a}=n,s=[];return rt(t,r=>{let o={before:[],lines:[],after:[]},l=Bp(a,r);Ge(o.before,_i(ge(l,"beforeLabel",this,r))),Ge(o.lines,ge(l,"label",this,r)),Ge(o.after,_i(ge(l,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return zp(ge(n.callbacks,"afterBody",this,t))}getFooter(t,n){let{callbacks:a}=n,s=ge(a,"beforeFooter",this,t),r=ge(a,"footer",this,t),o=ge(a,"afterFooter",this,t),l=[];return l=Ge(l,_i(s)),l=Ge(l,_i(r)),l=Ge(l,_i(o)),l}_createItems(t){let n=this._active,a=this.chart.data,s=[],r=[],o=[],l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(Ly(this.chart,n[c]));return t.filter&&(l=l.filter((m,h,u)=>t.filter(m,h,u,a))),t.itemSort&&(l=l.sort((m,h)=>t.itemSort(m,h,a))),rt(l,m=>{let h=Bp(t.callbacks,m);s.push(ge(h,"labelColor",this,m)),r.push(ge(h,"labelPointStyle",this,m)),o.push(ge(h,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){let a=this.options.setContext(this.getContext()),s=this._active,r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{let l=es[a.position].call(this,s,this._eventPosition);o=this._createItems(a),this.title=this.getTitle(o,a),this.beforeBody=this.getBeforeBody(o,a),this.body=this.getBody(o,a),this.afterBody=this.getAfterBody(o,a),this.footer=this.getFooter(o,a);let c=this._size=Lp(this,a),d=Object.assign({},l,c),m=Fp(this.chart,a,d),h=Np(a,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,a,s){let r=this.getCaretPosition(t,a,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,a){let{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:l}=a,{topLeft:c,topRight:d,bottomLeft:m,bottomRight:h}=Bi(l),{x:u,y:_}=t,{width:b,height:v}=n,x,w,M,E,k,T;return r==="center"?(k=_+v/2,s==="left"?(x=u,w=x-o,E=k+o,T=k-o):(x=u+b,w=x+o,E=k-o,T=k+o),M=x):(s==="left"?w=u+Math.max(c,m)+o:s==="right"?w=u+b-Math.max(d,h)-o:w=this.caretX,r==="top"?(E=_,k=E-o,x=w-o,M=w+o):(E=_+v,k=E+o,x=w+o,M=w-o),T=E),{x1:x,x2:w,x3:M,y1:E,y2:k,y3:T}}drawTitle(t,n,a){let s=this.title,r=s.length,o,l,c;if(r){let d=dn(a.rtl,this.x,this.width);for(t.x=Ir(this,a.titleAlign,a),n.textAlign=d.textAlign(a.titleAlign),n.textBaseline="middle",o=Vt(a.titleFont),l=a.titleSpacing,n.fillStyle=a.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(s[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===r&&(t.y+=a.titleMarginBottom-l)}}_drawColorBox(t,n,a,s,r){let o=this.labelColors[a],l=this.labelPointStyles[a],{boxHeight:c,boxWidth:d}=r,m=Vt(r.bodyFont),h=Ir(this,"left",r),u=s.x(h),_=c<m.lineHeight?(m.lineHeight-c)/2:0,b=n.y+_;if(r.usePointStyle){let v={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=s.leftForLtr(u,d)+d/2,w=b+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,vr(t,v,x,w),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,vr(t,v,x,w)}else{t.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;let v=s.leftForLtr(u,d),x=s.leftForLtr(s.xPlus(u,1),d-2),w=Bi(o.borderRadius);Object.values(w).some(M=>M!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ia(t,{x:v,y:b,w:d,h:c,radius:w}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ia(t,{x,y:b+1,w:d-2,h:c-2,radius:w}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(v,b,d,c),t.strokeRect(v,b,d,c),t.fillStyle=o.backgroundColor,t.fillRect(x,b+1,d-2,c-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,n,a){let{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:m}=a,h=Vt(a.bodyFont),u=h.lineHeight,_=0,b=dn(a.rtl,this.x,this.width),v=function(R){n.fillText(R,b.x(t.x+_),t.y+u/2),t.y+=u+r},x=b.textAlign(o),w,M,E,k,T,A,I;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Ir(this,x,a),n.fillStyle=a.bodyColor,rt(this.beforeBody,v),_=l&&x!=="right"?o==="center"?d/2+m:d+2+m:0,k=0,A=s.length;k<A;++k){for(w=s[k],M=this.labelTextColors[k],n.fillStyle=M,rt(w.before,v),E=w.lines,l&&E.length&&(this._drawColorBox(n,t,k,b,a),u=Math.max(h.lineHeight,c)),T=0,I=E.length;T<I;++T)v(E[T]),u=h.lineHeight;rt(w.after,v)}_=0,u=h.lineHeight,rt(this.afterBody,v),t.y-=r}drawFooter(t,n,a){let s=this.footer,r=s.length,o,l;if(r){let c=dn(a.rtl,this.x,this.width);for(t.x=Ir(this,a.footerAlign,a),t.y+=a.footerMarginTop,n.textAlign=c.textAlign(a.footerAlign),n.textBaseline="middle",o=Vt(a.footerFont),n.fillStyle=a.footerColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a.footerSpacing}}drawBackground(t,n,a,s){let{xAlign:r,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:m}=a,{topLeft:h,topRight:u,bottomLeft:_,bottomRight:b}=Bi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,c),o==="top"&&this.drawCaret(t,n,a,s),n.lineTo(l+d-u,c),n.quadraticCurveTo(l+d,c,l+d,c+u),o==="center"&&r==="right"&&this.drawCaret(t,n,a,s),n.lineTo(l+d,c+m-b),n.quadraticCurveTo(l+d,c+m,l+d-b,c+m),o==="bottom"&&this.drawCaret(t,n,a,s),n.lineTo(l+_,c+m),n.quadraticCurveTo(l,c+m,l,c+m-_),o==="center"&&r==="left"&&this.drawCaret(t,n,a,s),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){let n=this.chart,a=this.$animations,s=a&&a.x,r=a&&a.y;if(s||r){let o=es[t.position].call(this,this._active,this._eventPosition);if(!o)return;let l=this._size=Lp(this,t),c=Object.assign({},o,this._size),d=Fp(n,t,c),m=Np(t,c,d,n);(s._to!==m.x||r._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){let n=this.options.setContext(this.getContext()),a=this.opacity;if(!a)return;this._updateAnimationTarget(n);let s={width:this.width,height:this.height},r={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;let o=Kt(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=a,this.drawBackground(r,t,s,n),jl(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),Wl(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){let a=this._active,s=t.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),r=!Qa(a,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,a),l=this._positionChanged(o,t),c=n||!Qa(o,r)||l;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,a,s){let r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let o=this.chart.getElementsAtEventForMode(t,r.mode,r,a);return r.reverse&&o.reverse(),o}_positionChanged(t,n){let{caretX:a,caretY:s,options:r}=this,o=es[r.position].call(this,t,n);return o!==!1&&(a!==o.x||s!==o.y)}}return i})(),jy={id:"tooltip",_element:Vp,positioners:es,afterInit(i,e,t){t&&(i.tooltip=new Vp({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){let e=i.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",gs(ve({},t),{cancelable:!0}))===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){let t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Wy=Object.freeze({__proto__:null,Colors:ey,Decimation:sy,Filler:ky,Legend:Ay,SubTitle:Ry,Title:Oy,Tooltip:jy}),Uy=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Qy(i,e,t,n){let a=i.indexOf(e);if(a===-1)return Uy(i,e,t,n);let s=i.lastIndexOf(e);return a!==s?t:a}var qy=(i,e)=>i===null?null:Ht(Math.round(i),0,e);function Hp(i){let e=this.getLabels();return i>=0&&i<e.length?e[i]:i}var $y=(()=>{class i extends pn{static id="category";static defaults={ticks:{callback:Hp}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let n=this._addedLabels;if(n.length){let a=this.getLabels();for(let{index:s,label:r}of n)a[s]===r&&a.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Z(t))return null;let a=this.getLabels();return n=isFinite(n)&&a[n]===t?n:Qy(a,t,Q(n,t),this._addedLabels),qy(n,a.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:a,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),n||(s=this.getLabels().length-1)),this.min=a,this.max=s}buildTicks(){let t=this.min,n=this.max,a=this.options.offset,s=[],r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Hp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Ky(i,e){let t=[],{bounds:a,step:s,min:r,max:o,precision:l,count:c,maxTicks:d,maxDigits:m,includeBounds:h}=i,u=s||1,_=d-1,{min:b,max:v}=e,x=!Z(r),w=!Z(o),M=!Z(c),E=(v-b)/(m+1),k=xl((v-b)/_/u)*u,T,A,I,R;if(k<1e-14&&!x&&!w)return[{value:b},{value:v}];R=Math.ceil(v/k)-Math.floor(b/k),R>_&&(k=xl(R*k/_/u)*u),Z(l)||(T=Math.pow(10,l),k=Math.ceil(k*T)/T),a==="ticks"?(A=Math.floor(b/k)*k,I=Math.ceil(v/k)*k):(A=b,I=v),x&&w&&s&&Eh((o-r)/s,k/1e3)?(R=Math.round(Math.min((o-r)/k,d)),k=(o-r)/R,A=r,I=o):M?(A=x?r:A,I=w?o:I,R=c-1,k=(I-A)/R):(R=(I-A)/k,Jn(R,Math.round(R),k/1e3)?R=Math.round(R):R=Math.ceil(R));let W=Math.max(Sl(k),Sl(A));T=Math.pow(10,Z(l)?W:l),A=Math.round(A*T)/T,I=Math.round(I*T)/T;let q=0;for(x&&(h&&A!==r?(t.push({value:r}),A<r&&q++,Jn(Math.round((A+q*k)*T)/T,r,jp(r,E,i))&&q++):A<r&&q++);q<R;++q){let $=Math.round((A+q*k)*T)/T;if(w&&$>o)break;t.push({value:$})}return w&&h&&I!==o?t.length&&Jn(t[t.length-1].value,o,jp(o,E,i))?t[t.length-1].value=o:t.push({value:o}):(!w||I===o)&&t.push({value:I}),t}function jp(i,e,{horizontal:t,minRotation:n}){let a=Pe(n),s=(t?Math.sin(a):Math.cos(a))||.001,r=.75*e*(""+i).length;return Math.min(e/s,r)}var ra=class extends pn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Z(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:a,max:s}=this,r=l=>a=t?a:l,o=l=>s=n?s:l;if(e){let l=Be(a),c=Be(s);l<0&&c<0?o(0):l>0&&c>0&&r(0)}if(a===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||r(a-l)}this.min=a,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,r=Ky(a,s);return e.bounds==="ticks"&&wl(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let e=this.ticks,t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let a=(n-t)/Math.max(e.length-1,1)/2;t-=a,n+=a}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ea(e,this.chart.options.locale,this.options.ticks.format)}},vc=class extends ra{static id="linear";static defaults={ticks:{callback:qa.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Pt(e)?e:0,this.max=Pt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,n=Pe(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},as=i=>Math.floor(pi(i)),hn=(i,e)=>Math.pow(10,as(i)+e);function Wp(i){return i/Math.pow(10,as(i))===1}function Up(i,e,t){let n=Math.pow(10,t),a=Math.floor(i/n);return Math.ceil(e/n)-a}function Gy(i,e){let t=e-i,n=as(t);for(;Up(i,e,n)>10;)n++;for(;Up(i,e,n)<10;)n--;return Math.min(n,as(i))}function Xy(i,{min:e,max:t}){e=fe(i.min,e);let n=[],a=as(e),s=Gy(e,t),r=s<0?Math.pow(10,Math.abs(s)):1,o=Math.pow(10,s),l=a>s?Math.pow(10,a):0,c=Math.round((e-l)*r)/r,d=Math.floor((e-l)/o/10)*o*10,m=Math.floor((c-d)/Math.pow(10,s)),h=fe(i.min,Math.round((l+d+m*Math.pow(10,s))*r)/r);for(;h<t;)n.push({value:h,major:Wp(h),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(s++,m=2,r=s>=0?1:r),h=Math.round((l+d+m*Math.pow(10,s))*r)/r;let u=fe(i.max,h);return n.push({value:u,major:Wp(u),significand:m}),n}var yc=class extends pn{static id="logarithmic";static defaults={ticks:{callback:qa.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let n=ra.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Pt(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Pt(e)?Math.max(0,e):null,this.max=Pt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pt(this._userMin)&&(this.min=e===hn(this.min,0)?hn(this.min,-1):hn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),n=this.min,a=this.max,s=o=>n=e?n:o,r=o=>a=t?a:o;n===a&&(n<=0?(s(1),r(10)):(s(hn(n,-1)),r(hn(a,1)))),n<=0&&s(hn(a,-1)),a<=0&&r(hn(n,1)),this.min=n,this.max=a}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},n=Xy(t,this);return e.bounds==="ticks"&&wl(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":ea(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=pi(e),this._valueRange=pi(this.max)-pi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(pi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function xc(i){let e=i.ticks;if(e.display&&i.display){let t=Kt(e.backdropPadding);return Q(e.font&&e.font.size,gt.font.size)+t.height}return 0}function Yy(i,e,t){return t=bt(t)?t:[t],{w:Fh(i,e.string,t),h:t.length*e.lineHeight}}function Qp(i,e,t,n,a){return i===n||i===a?{start:e-t/2,end:e+t/2}:i<n||i>a?{start:e-t,end:e}:{start:e,end:e+t}}function Zy(i){let e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),n=[],a=[],s=i._pointLabels.length,r=i.options.pointLabels,o=r.centerPointLabels?it/s:0;for(let l=0;l<s;l++){let c=r.setContext(i.getPointLabelContext(l));a[l]=c.padding;let d=i.getPointPosition(l,i.drawingArea+a[l],o),m=Vt(c.font),h=Yy(i.ctx,m,i._pointLabels[l]);n[l]=h;let u=qt(i.getIndexAngle(l)+o),_=Math.round(fr(u)),b=Qp(_,d.x,h.w,0,180),v=Qp(_,d.y,h.h,90,270);Jy(t,e,u,b,v)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=ix(i,n,a)}function Jy(i,e,t,n,a){let s=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t)),o=0,l=0;n.start<e.l?(o=(e.l-n.start)/s,i.l=Math.min(i.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,i.r=Math.max(i.r,e.r+o)),a.start<e.t?(l=(e.t-a.start)/r,i.t=Math.min(i.t,e.t-l)):a.end>e.b&&(l=(a.end-e.b)/r,i.b=Math.max(i.b,e.b+l))}function tx(i,e,t){let n=i.drawingArea,{extra:a,additionalAngle:s,padding:r,size:o}=t,l=i.getPointPosition(e,n+a+r,s),c=Math.round(fr(qt(l.angle+Dt))),d=sx(l.y,o.h,c),m=nx(c),h=ax(l.x,o.w,m);return{visible:!0,x:l.x,y:d,textAlign:m,left:h,top:d,right:h+o.w,bottom:d+o.h}}function ex(i,e){if(!e)return!0;let{left:t,top:n,right:a,bottom:s}=i;return!(qe({x:t,y:n},e)||qe({x:t,y:s},e)||qe({x:a,y:n},e)||qe({x:a,y:s},e))}function ix(i,e,t){let n=[],a=i._pointLabels.length,s=i.options,{centerPointLabels:r,display:o}=s.pointLabels,l={extra:xc(s)/2,additionalAngle:r?it/a:0},c;for(let d=0;d<a;d++){l.padding=t[d],l.size=e[d];let m=tx(i,d,l);n.push(m),o==="auto"&&(m.visible=ex(m,c),m.visible&&(c=m))}return n}function nx(i){return i===0||i===180?"center":i<180?"left":"right"}function ax(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function sx(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function rx(i,e,t){let{left:n,top:a,right:s,bottom:r}=t,{backdropColor:o}=e;if(!Z(o)){let l=Bi(e.borderRadius),c=Kt(e.backdropPadding);i.fillStyle=o;let d=n-c.left,m=a-c.top,h=s-n+c.width,u=r-a+c.height;Object.values(l).some(_=>_!==0)?(i.beginPath(),ia(i,{x:d,y:m,w:h,h:u,radius:l}),i.fill()):i.fillRect(d,m,h,u)}}function ox(i,e){let{ctx:t,options:{pointLabels:n}}=i;for(let a=e-1;a>=0;a--){let s=i._pointLabelItems[a];if(!s.visible)continue;let r=n.setContext(i.getPointLabelContext(a));rx(t,r,s);let o=Vt(r.font),{x:l,y:c,textAlign:d}=s;zi(t,i._pointLabels[a],l,c+o.lineHeight/2,o,{color:r.color,textAlign:d,textBaseline:"middle"})}}function _u(i,e,t,n){let{ctx:a}=i;if(t)a.arc(i.xCenter,i.yCenter,e,0,vt);else{let s=i.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let r=1;r<n;r++)s=i.getPointPosition(r,e),a.lineTo(s.x,s.y)}}function lx(i,e,t,n,a){let s=i.ctx,r=e.circular,{color:o,lineWidth:l}=e;!r&&!n||!o||!l||t<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),_u(i,t,r,n),s.closePath(),s.stroke(),s.restore())}function cx(i,e,t){return fi(i,{label:t,index:e,type:"pointLabel"})}var wc=class extends ra{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qa.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Kt(xc(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Pt(e)&&!isNaN(e)?e:0,this.max=Pt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xc(this.options))}generateTickLabels(e){ra.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{let a=ft(this.options.pointLabels.callback,[t,n],this);return a||a===0?a:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?Zy(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,a){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,a))}getIndexAngle(e){let t=vt/(this._pointLabels.length||1),n=this.options.startAngle||0;return qt(e*t+Pe(n))}getDistanceFromCenterForValue(e){if(Z(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Z(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let n=t[e];return cx(this.getContext(),e,n)}}getPointPosition(e,t,n=0){let a=this.getIndexAngle(e)-Dt+n;return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter,angle:a}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:a,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),_u(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:n,grid:a,border:s}=t,r=this._pointLabels.length,o,l,c;if(t.pointLabels.display&&ox(this,r),a.display&&this.ticks.forEach((d,m)=>{if(m!==0||m===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(m),u=a.setContext(h),_=s.setContext(h);lx(this,u,l,r,_)}}),n.display){for(e.save(),o=r-1;o>=0;o--){let d=n.setContext(this.getPointLabelContext(o)),{color:m,lineWidth:h}=d;!h||!m||(e.lineWidth=h,e.strokeStyle=m,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;let a=this.getIndexAngle(0),s,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let c=n.setContext(this.getContext(l)),d=Vt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=d.string,r=e.measureText(o.label).width,e.fillStyle=c.backdropColor;let m=Kt(c.backdropPadding);e.fillRect(-r/2-m.left,-s-d.size/2-m.top,r+m.width,d.size+m.height)}zi(e,o.label,0,-s,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},Hr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_e=Object.keys(Hr);function qp(i,e){return i-e}function $p(i,e){if(Z(e))return null;let t=i._adapter,{parser:n,round:a,isoWeekday:s}=i._parseOpts,r=e;return typeof n=="function"&&(r=n(r)),Pt(r)||(r=typeof n=="string"?t.parse(r,n):t.parse(r)),r===null?null:(a&&(r=a==="week"&&(cn(s)||s===!0)?t.startOf(r,"isoWeek",s):t.startOf(r,a)),+r)}function Kp(i,e,t,n){let a=_e.length;for(let s=_e.indexOf(i);s<a-1;++s){let r=Hr[_e[s]],o=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(o*r.size))<=n)return _e[s]}return _e[a-1]}function dx(i,e,t,n,a){for(let s=_e.length-1;s>=_e.indexOf(t);s--){let r=_e[s];if(Hr[r].common&&i._adapter.diff(a,n,r)>=e-1)return r}return _e[t?_e.indexOf(t):0]}function mx(i){for(let e=_e.indexOf(i)+1,t=_e.length;e<t;++e)if(Hr[_e[e]].common)return _e[e]}function Gp(i,e,t){if(!t)i[e]=!0;else if(t.length){let{lo:n,hi:a}=gr(t,e),s=t[n]>=e?t[n]:t[a];i[s]=!0}}function hx(i,e,t,n){let a=i._adapter,s=+a.startOf(e[0].value,n),r=e[e.length-1].value,o,l;for(o=s;o<=r;o=+a.add(o,1,n))l=t[o],l>=0&&(e[l].major=!0);return e}function Xp(i,e,t){let n=[],a={},s=e.length,r,o;for(r=0;r<s;++r)o=e[r],a[o]=r,n.push({value:o,major:!1});return s===0||!t?n:hx(i,n,a,t)}var Sc=(()=>{class i extends pn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){let a=t.time||(t.time={}),s=this._adapter=new Sb._date(t.adapters.date);s.init(n),Yn(a.displayFormats,s.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:$p(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,n=this._adapter,a=t.time.unit||"day",{min:s,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Pt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),a),r=Pt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),a)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){let t=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],a=t[t.length-1]),{min:n,max:a}}buildTicks(){let t=this.options,n=t.time,a=t.ticks,s=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let r=this.min,o=this.max,l=Ph(s,r,o);return this._unit=n.unit||(a.autoSkip?Kp(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):dx(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:mx(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),Xp(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,a=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?a=r:a=(r-this.getDecimalForValue(t[t.length-2]))/2);let o=t.length<3?.5:.25;n=Ht(n,0,o),a=Ht(a,0,o),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){let t=this._adapter,n=this.min,a=this.max,s=this.options,r=s.time,o=r.unit||Kp(r.minUnit,n,a,this._getLabelCapacity(n)),l=Q(s.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,d=cn(c)||c===!0,m={},h=n,u,_;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":o),t.diff(a,n,o)>1e5*l)throw new Error(n+" and "+a+" are too far apart with stepSize of "+l+" "+o);let b=s.ticks.source==="data"&&this.getDataTimestamps();for(u=h,_=0;u<a;u=+t.add(u,l,o),_++)Gp(m,u,b);return(u===a||s.bounds==="ticks"||_===1)&&Gp(m,u,b),Object.keys(m).sort(qp).map(v=>+v)}getLabelForValue(t){let n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(t,a.tooltipFormat):n.format(t,a.displayFormats.datetime)}format(t,n){let s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,a,s){let r=this.options,o=r.ticks.callback;if(o)return ft(o,[t,n,a],this);let l=r.time.displayFormats,c=this._unit,d=this._majorUnit,m=c&&l[c],h=d&&l[d],u=a[n],_=d&&h&&u&&u.major;return this._adapter.format(t,s||(_?h:m))}generateTickLabels(t){let n,a,s;for(n=0,a=t.length;n<a;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let n=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(t){let n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){let n=this.options.ticks,a=this.ctx.measureText(t).width,s=Pe(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:a*r+l*o,h:a*o+l*r}}_getLabelCapacity(t){let n=this.options.time,a=n.displayFormats,s=a[n.unit]||a.millisecond,r=this._tickFormatFunction(t,0,Xp(this,[t],this._majorUnit),s),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,a;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,a=s.length;n<a;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],n,a;if(t.length)return t;let s=this.getLabels();for(n=0,a=s.length;n<a;++n)t.push($p(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ml(t.sort(qp))}}return i})();function Pr(i,e,t){let n=0,a=i.length-1,s,r,o,l;t?(e>=i[n].pos&&e<=i[a].pos&&({lo:n,hi:a}=Qe(i,"pos",e)),{pos:s,time:o}=i[n],{pos:r,time:l}=i[a]):(e>=i[n].time&&e<=i[a].time&&({lo:n,hi:a}=Qe(i,"time",e)),{time:s,pos:o}=i[n],{time:r,pos:l}=i[a]);let c=r-s;return c?o+(l-o)*(e-s)/c:o}var Cc=class extends Sc{static id="timeseries";static defaults=Sc.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Pr(t,this.min),this._tableRange=Pr(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:n}=this,a=[],s=[],r,o,l,c,d;for(r=0,o=e.length;r<o;++r)c=e[r],c>=t&&c<=n&&a.push(c);if(a.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(r=0,o=a.length;r<o;++r)d=a[r+1],l=a[r-1],c=a[r],Math.round((d+l)/2)!==c&&s.push({time:c,pos:r/(o-1)});return s}_generate(){let e=this.min,t=this.max,n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Pr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Pr(this._table,n*this._tableRange+this._minPos,!0)}},px=Object.freeze({__proto__:null,CategoryScale:$y,LinearScale:vc,LogarithmicScale:yc,RadialLinearScale:wc,TimeScale:Sc,TimeSeriesScale:Cc}),jr=[wb,Kv,Wy,px];un.register(...jr);var ux=["determinateSpinner"];function fx(i,e){if(i&1&&(Yi(),f(0,"svg",11),H(1,"circle",12),p()),i&2){let t=O();_t("viewBox",t._viewBox()),y(),we("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),_t("r",t._circleRadius())}}var gx=new ot("mat-progress-spinner-default-options",{providedIn:"root",factory:_x});function _x(){return{diameter:bu}}var bu=100,bx=10,oa=(()=>{class i{_elementRef=S(wt);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){let t=S(gx),n=Ts(),a=this._elementRef.nativeElement;this._noopAnimations=n==="di-disabled"&&!!t&&!t._forceAnimations,this.mode=a.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&n==="reduced-motion"&&a.classList.add("mat-progress-spinner-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=bu;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-bx)/2}_viewBox(){let t=this._circleRadius()*2+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,a){if(n&1&&Ft(ux,5),n&2){let s;G(s=X())&&(a._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,a){n&2&&(_t("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",a.mode==="determinate"?a.value:null)("mode",a.mode),Se("mat-"+a.color),we("width",a.diameter,"px")("height",a.diameter,"px")("--mat-progress-spinner-size",a.diameter+"px")("--mat-progress-spinner-active-indicator-width",a.diameter+"px"),tt("_mat-animation-noopable",a._noopAnimations)("mdc-circular-progress--indeterminate",a.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Wt],diameter:[2,"diameter","diameter",Wt],strokeWidth:[2,"strokeWidth","strokeWidth",Wt]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,a){if(n&1&&(L(0,fx,2,8,"ng-template",null,0,Ce),f(2,"div",2,1),Yi(),f(4,"svg",3),H(5,"circle",4),p()(),Io(),f(6,"div",5)(7,"div",6)(8,"div",7),Re(9,8),p(),f(10,"div",9),Re(11,8),p(),f(12,"div",10),Re(13,8),p()()()),n&2){let s=re(1);y(4),_t("viewBox",a._viewBox()),y(),we("stroke-dasharray",a._strokeCircumference(),"px")("stroke-dashoffset",a._strokeDashOffset(),"px")("stroke-width",a._circleStrokeWidth(),"%"),_t("r",a._circleRadius()),y(4),C("ngTemplateOutlet",s),y(2),C("ngTemplateOutlet",s),y(2),C("ngTemplateOutlet",s)}},dependencies:[Pa],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return i})();var la=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({imports:[At]})}return i})();var Ae=class i{http=S(xd);base=Ud.apiBase;getKpi(e){let t=new Ei;return e?.year&&(t=t.set("year",e.year)),e?.region&&(t=t.set("region",e.region)),e?.model&&(t=t.set("model",e.model)),e?.fuelType&&(t=t.set("fuelType",e.fuelType)),e?.transmission&&(t=t.set("transmission",e.transmission)),this.http.get(`${this.base}/sales/kpi`,{params:t})}getSales(e){let t=new Ei;return Object.entries(e).forEach(([n,a])=>{a!=null&&a!==""&&(t=t.set(n,String(a)))}),this.http.get(`${this.base}/sales`,{params:t})}getTopModels(e){let t=new Ei;return e?.top&&(t=t.set("top",e.top)),e?.year&&(t=t.set("year",e.year)),e?.region&&(t=t.set("region",e.region)),this.http.get(`${this.base}/sales/insights/top-models`,{params:t})}getTrend(e){let t=new Ei;return Object.entries(e).forEach(([n,a])=>{a!=null&&a!==""&&(t=t.set(n,String(a)))}),this.http.get(`${this.base}/sales/insights/trend`,{params:t})}getTopRegions(e){let t=new Ei;return e.top&&(t=t.set("top",e.top)),e.year&&(t=t.set("year",e.year)),this.http.get(`${this.base}/sales/insights/top-regions`,{params:t})}getFuelByYear(e){let t=new Ei;return e.year&&(t=t.set("year",e.year)),this.http.get(`${this.base}/sales/insights/fuel-by-year`,{params:t})}getPriceVsEngine(e){let t=new Ei;return e.year&&(t=t.set("year",e.year)),e.region&&(t=t.set("region",e.region)),e.model&&(t=t.set("model",e.model)),e.fuelType&&(t=t.set("fuelType",e.fuelType)),e.transmission&&(t=t.set("transmission",e.transmission)),this.http.get(`${this.base}/sales/insights/price-vs-engine`,{params:t})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"})};var vx=typeof global=="object"&&global&&global.Object===Object&&global,Wr=vx;var yx=typeof self=="object"&&self&&self.Object===Object&&self,xx=Wr||yx||Function("return this")(),De=xx;var wx=De.Symbol,ca=wx;var vu=Object.prototype,Sx=vu.hasOwnProperty,Cx=vu.toString,rs=ca?ca.toStringTag:void 0;function kx(i){var e=Sx.call(i,rs),t=i[rs];try{i[rs]=void 0;var n=!0}catch{}var a=Cx.call(i);return n&&(e?i[rs]=t:delete i[rs]),a}var yu=kx;var Mx=Object.prototype,Ex=Mx.toString;function Tx(i){return Ex.call(i)}var xu=Tx;var Ix="[object Null]",Px="[object Undefined]",wu=ca?ca.toStringTag:void 0;function Ax(i){return i==null?i===void 0?Px:Ix:wu&&wu in Object(i)?yu(i):xu(i)}var Wi=Ax;function Dx(i){return i!=null&&typeof i=="object"}var Ye=Dx;var Ox=Array.isArray,os=Ox;function Rx(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var be=Rx;function Lx(i){return i}var Ur=Lx;var Fx="[object AsyncFunction]",Nx="[object Function]",zx="[object GeneratorFunction]",Bx="[object Proxy]";function Vx(i){if(!be(i))return!1;var e=Wi(i);return e==Nx||e==zx||e==Fx||e==Bx}var da=Vx;var Hx=De["__core-js_shared__"],Qr=Hx;var Su=(function(){var i=/[^.]+$/.exec(Qr&&Qr.keys&&Qr.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function jx(i){return!!Su&&Su in i}var Cu=jx;var Wx=Function.prototype,Ux=Wx.toString;function Qx(i){if(i!=null){try{return Ux.call(i)}catch{}try{return i+""}catch{}}return""}var ku=Qx;var qx=/[\\^$.*+?()[\]{}|]/g,$x=/^\[object .+?Constructor\]$/,Kx=Function.prototype,Gx=Object.prototype,Xx=Kx.toString,Yx=Gx.hasOwnProperty,Zx=RegExp("^"+Xx.call(Yx).replace(qx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jx(i){if(!be(i)||Cu(i))return!1;var e=da(i)?Zx:$x;return e.test(ku(i))}var Mu=Jx;function t1(i,e){return i?.[e]}var Eu=t1;function e1(i,e){var t=Eu(i,e);return Mu(t)?t:void 0}var ma=e1;var Tu=Object.create,i1=(function(){function i(){}return function(e){if(!be(e))return{};if(Tu)return Tu(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}})(),Iu=i1;function n1(i,e,t){switch(t.length){case 0:return i.call(e);case 1:return i.call(e,t[0]);case 2:return i.call(e,t[0],t[1]);case 3:return i.call(e,t[0],t[1],t[2])}return i.apply(e,t)}var Pu=n1;function a1(i,e){var t=-1,n=i.length;for(e||(e=Array(n));++t<n;)e[t]=i[t];return e}var Au=a1;var s1=800,r1=16,o1=Date.now;function l1(i){var e=0,t=0;return function(){var n=o1(),a=r1-(n-t);if(t=n,a>0){if(++e>=s1)return arguments[0]}else e=0;return i.apply(void 0,arguments)}}var Du=l1;function c1(i){return function(){return i}}var Ou=c1;var d1=(function(){try{var i=ma(Object,"defineProperty");return i({},"",{}),i}catch{}})(),ha=d1;var m1=ha?function(i,e){return ha(i,"toString",{configurable:!0,enumerable:!1,value:Ou(e),writable:!0})}:Ur,Ru=m1;var h1=Du(Ru),Lu=h1;var p1=9007199254740991,u1=/^(?:0|[1-9]\d*)$/;function f1(i,e){var t=typeof i;return e=e??p1,!!e&&(t=="number"||t!="symbol"&&u1.test(i))&&i>-1&&i%1==0&&i<e}var qr=f1;function g1(i,e,t){e=="__proto__"&&ha?ha(i,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[e]=t}var pa=g1;function _1(i,e){return i===e||i!==i&&e!==e}var Ui=_1;var b1=Object.prototype,v1=b1.hasOwnProperty;function y1(i,e,t){var n=i[e];(!(v1.call(i,e)&&Ui(n,t))||t===void 0&&!(e in i))&&pa(i,e,t)}var Fu=y1;function x1(i,e,t,n){var a=!t;t||(t={});for(var s=-1,r=e.length;++s<r;){var o=e[s],l=n?n(t[o],i[o],o,t,i):void 0;l===void 0&&(l=i[o]),a?pa(t,o,l):Fu(t,o,l)}return t}var Nu=x1;var zu=Math.max;function w1(i,e,t){return e=zu(e===void 0?i.length-1:e,0),function(){for(var n=arguments,a=-1,s=zu(n.length-e,0),r=Array(s);++a<s;)r[a]=n[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=t(r),Pu(i,this,o)}}var Bu=w1;function S1(i,e){return Lu(Bu(i,e,Ur),i+"")}var Vu=S1;var C1=9007199254740991;function k1(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=C1}var $r=k1;function M1(i){return i!=null&&$r(i.length)&&!da(i)}var ua=M1;function E1(i,e,t){if(!be(t))return!1;var n=typeof e;return(n=="number"?ua(t)&&qr(e,t.length):n=="string"&&e in t)?Ui(t[e],i):!1}var Hu=E1;function T1(i){return Vu(function(e,t){var n=-1,a=t.length,s=a>1?t[a-1]:void 0,r=a>2?t[2]:void 0;for(s=i.length>3&&typeof s=="function"?(a--,s):void 0,r&&Hu(t[0],t[1],r)&&(s=a<3?void 0:s,a=1),e=Object(e);++n<a;){var o=t[n];o&&i(e,o,n,s)}return e})}var ju=T1;var I1=Object.prototype;function P1(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||I1;return i===t}var Kr=P1;function A1(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var Wu=A1;var D1="[object Arguments]";function O1(i){return Ye(i)&&Wi(i)==D1}var Ec=O1;var Uu=Object.prototype,R1=Uu.hasOwnProperty,L1=Uu.propertyIsEnumerable,F1=Ec((function(){return arguments})())?Ec:function(i){return Ye(i)&&R1.call(i,"callee")&&!L1.call(i,"callee")},ls=F1;function N1(){return!1}var Qu=N1;var Ku=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qu=Ku&&typeof module=="object"&&module&&!module.nodeType&&module,z1=qu&&qu.exports===Ku,$u=z1?De.Buffer:void 0,B1=$u?$u.isBuffer:void 0,V1=B1||Qu,Gr=V1;var H1="[object Arguments]",j1="[object Array]",W1="[object Boolean]",U1="[object Date]",Q1="[object Error]",q1="[object Function]",$1="[object Map]",K1="[object Number]",G1="[object Object]",X1="[object RegExp]",Y1="[object Set]",Z1="[object String]",J1="[object WeakMap]",tw="[object ArrayBuffer]",ew="[object DataView]",iw="[object Float32Array]",nw="[object Float64Array]",aw="[object Int8Array]",sw="[object Int16Array]",rw="[object Int32Array]",ow="[object Uint8Array]",lw="[object Uint8ClampedArray]",cw="[object Uint16Array]",dw="[object Uint32Array]",Et={};Et[iw]=Et[nw]=Et[aw]=Et[sw]=Et[rw]=Et[ow]=Et[lw]=Et[cw]=Et[dw]=!0;Et[H1]=Et[j1]=Et[tw]=Et[W1]=Et[ew]=Et[U1]=Et[Q1]=Et[q1]=Et[$1]=Et[K1]=Et[G1]=Et[X1]=Et[Y1]=Et[Z1]=Et[J1]=!1;function mw(i){return Ye(i)&&$r(i.length)&&!!Et[Wi(i)]}var Gu=mw;function hw(i){return function(e){return i(e)}}var Xu=hw;var Yu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cs=Yu&&typeof module=="object"&&module&&!module.nodeType&&module,pw=cs&&cs.exports===Yu,Tc=pw&&Wr.process,uw=(function(){try{var i=cs&&cs.require&&cs.require("util").types;return i||Tc&&Tc.binding&&Tc.binding("util")}catch{}})(),Ic=uw;var Zu=Ic&&Ic.isTypedArray,fw=Zu?Xu(Zu):Gu,Xr=fw;var gw=Object.prototype,_w=gw.hasOwnProperty;function bw(i,e){var t=os(i),n=!t&&ls(i),a=!t&&!n&&Gr(i),s=!t&&!n&&!a&&Xr(i),r=t||n||a||s,o=r?Wu(i.length,String):[],l=o.length;for(var c in i)(e||_w.call(i,c))&&!(r&&(c=="length"||a&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||qr(c,l)))&&o.push(c);return o}var Ju=bw;function vw(i,e){return function(t){return i(e(t))}}var tf=vw;function yw(i){var e=[];if(i!=null)for(var t in Object(i))e.push(t);return e}var ef=yw;var xw=Object.prototype,ww=xw.hasOwnProperty;function Sw(i){if(!be(i))return ef(i);var e=Kr(i),t=[];for(var n in i)n=="constructor"&&(e||!ww.call(i,n))||t.push(n);return t}var nf=Sw;function Cw(i){return ua(i)?Ju(i,!0):nf(i)}var Yr=Cw;var kw=ma(Object,"create"),bi=kw;function Mw(){this.__data__=bi?bi(null):{},this.size=0}var af=Mw;function Ew(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var sf=Ew;var Tw="__lodash_hash_undefined__",Iw=Object.prototype,Pw=Iw.hasOwnProperty;function Aw(i){var e=this.__data__;if(bi){var t=e[i];return t===Tw?void 0:t}return Pw.call(e,i)?e[i]:void 0}var rf=Aw;var Dw=Object.prototype,Ow=Dw.hasOwnProperty;function Rw(i){var e=this.__data__;return bi?e[i]!==void 0:Ow.call(e,i)}var of=Rw;var Lw="__lodash_hash_undefined__";function Fw(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=bi&&e===void 0?Lw:e,this}var lf=Fw;function fa(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}fa.prototype.clear=af;fa.prototype.delete=sf;fa.prototype.get=rf;fa.prototype.has=of;fa.prototype.set=lf;var Pc=fa;function Nw(){this.__data__=[],this.size=0}var cf=Nw;function zw(i,e){for(var t=i.length;t--;)if(Ui(i[t][0],e))return t;return-1}var Qi=zw;var Bw=Array.prototype,Vw=Bw.splice;function Hw(i){var e=this.__data__,t=Qi(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():Vw.call(e,t,1),--this.size,!0}var df=Hw;function jw(i){var e=this.__data__,t=Qi(e,i);return t<0?void 0:e[t][1]}var mf=jw;function Ww(i){return Qi(this.__data__,i)>-1}var hf=Ww;function Uw(i,e){var t=this.__data__,n=Qi(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var pf=Uw;function ga(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}ga.prototype.clear=cf;ga.prototype.delete=df;ga.prototype.get=mf;ga.prototype.has=hf;ga.prototype.set=pf;var qi=ga;var Qw=ma(De,"Map"),Zr=Qw;function qw(){this.size=0,this.__data__={hash:new Pc,map:new(Zr||qi),string:new Pc}}var uf=qw;function $w(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var ff=$w;function Kw(i,e){var t=i.__data__;return ff(e)?t[typeof e=="string"?"string":"hash"]:t.map}var $i=Kw;function Gw(i){var e=$i(this,i).delete(i);return this.size-=e?1:0,e}var gf=Gw;function Xw(i){return $i(this,i).get(i)}var _f=Xw;function Yw(i){return $i(this,i).has(i)}var bf=Yw;function Zw(i,e){var t=$i(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var vf=Zw;function _a(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}_a.prototype.clear=uf;_a.prototype.delete=gf;_a.prototype.get=_f;_a.prototype.has=bf;_a.prototype.set=vf;var yf=_a;var Jw=tf(Object.getPrototypeOf,Object),Jr=Jw;var tS="[object Object]",eS=Function.prototype,iS=Object.prototype,xf=eS.toString,nS=iS.hasOwnProperty,aS=xf.call(Object);function sS(i){if(!Ye(i)||Wi(i)!=tS)return!1;var e=Jr(i);if(e===null)return!0;var t=nS.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&xf.call(t)==aS}var wf=sS;function rS(){this.__data__=new qi,this.size=0}var Sf=rS;function oS(i){var e=this.__data__,t=e.delete(i);return this.size=e.size,t}var Cf=oS;function lS(i){return this.__data__.get(i)}var kf=lS;function cS(i){return this.__data__.has(i)}var Mf=cS;var dS=200;function mS(i,e){var t=this.__data__;if(t instanceof qi){var n=t.__data__;if(!Zr||n.length<dS-1)return n.push([i,e]),this.size=++t.size,this;t=this.__data__=new yf(n)}return t.set(i,e),this.size=t.size,this}var Ef=mS;function ba(i){var e=this.__data__=new qi(i);this.size=e.size}ba.prototype.clear=Sf;ba.prototype.delete=Cf;ba.prototype.get=kf;ba.prototype.has=Mf;ba.prototype.set=Ef;var Tf=ba;var Df=typeof exports=="object"&&exports&&!exports.nodeType&&exports,If=Df&&typeof module=="object"&&module&&!module.nodeType&&module,hS=If&&If.exports===Df,Pf=hS?De.Buffer:void 0,Af=Pf?Pf.allocUnsafe:void 0;function pS(i,e){if(e)return i.slice();var t=i.length,n=Af?Af(t):new i.constructor(t);return i.copy(n),n}var Of=pS;var uS=De.Uint8Array,Ac=uS;function fS(i){var e=new i.constructor(i.byteLength);return new Ac(e).set(new Ac(i)),e}var Rf=fS;function gS(i,e){var t=e?Rf(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}var Lf=gS;function _S(i){return typeof i.constructor=="function"&&!Kr(i)?Iu(Jr(i)):{}}var Ff=_S;function bS(i){return function(e,t,n){for(var a=-1,s=Object(e),r=n(e),o=r.length;o--;){var l=r[i?o:++a];if(t(s[l],l,s)===!1)break}return e}}var Nf=bS;var vS=Nf(),zf=vS;function yS(i,e,t){(t!==void 0&&!Ui(i[e],t)||t===void 0&&!(e in i))&&pa(i,e,t)}var ds=yS;function xS(i){return Ye(i)&&ua(i)}var Bf=xS;function wS(i,e){if(!(e==="constructor"&&typeof i[e]=="function")&&e!="__proto__")return i[e]}var ms=wS;function SS(i){return Nu(i,Yr(i))}var Vf=SS;function CS(i,e,t,n,a,s,r){var o=ms(i,t),l=ms(e,t),c=r.get(l);if(c){ds(i,t,c);return}var d=s?s(o,l,t+"",i,e,r):void 0,m=d===void 0;if(m){var h=os(l),u=!h&&Gr(l),_=!h&&!u&&Xr(l);d=l,h||u||_?os(o)?d=o:Bf(o)?d=Au(o):u?(m=!1,d=Of(l,!0)):_?(m=!1,d=Lf(l,!0)):d=[]:wf(l)||ls(l)?(d=o,ls(o)?d=Vf(o):(!be(o)||da(o))&&(d=Ff(l))):m=!1}m&&(r.set(l,d),a(d,l,n,s,r),r.delete(l)),ds(i,t,d)}var Hf=CS;function jf(i,e,t,n,a){i!==e&&zf(e,function(s,r){if(a||(a=new Tf),be(s))Hf(i,e,r,t,jf,n,a);else{var o=n?n(ms(i,r),s,r+"",i,e,a):void 0;o===void 0&&(o=s),ds(i,r,o)}},Yr)}var Wf=jf;var kS=ju(function(i,e,t){Wf(i,e,t)}),to=kS;var MS=(()=>{let e=class e{constructor(){this.colorschemesOptions=new _s(void 0)}setColorschemesOptions(n){this.pColorschemesOptions=n,this.colorschemesOptions.next(n)}getColorschemesOptions(){return this.pColorschemesOptions}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),va=(()=>{let e=class e{constructor(n,a,s){this.zone=a,this.themeService=s,this.type="bar",this.plugins=[],this.chartClick=new It,this.chartHover=new It,this.subs=[],this.themeOverrides={},this.ctx=n.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(td()).subscribe(r=>this.themeChanged(r)))}ngOnChanges(n){let a=["type"],s=Object.getOwnPropertyNames(n);if(s.some(r=>a.includes(r))||s.every(r=>n[r].isFirstChange()))this.render();else{let r=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,r.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,r.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,r.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(n=>n.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new un(this.ctx,this.getChartConfiguration()))}update(n){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(n))}hideDataset(n,a){this.chart&&(this.chart.getDatasetMeta(n).hidden=a,this.update())}isDatasetHidden(n){return this.chart?.getDatasetMeta(n)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(n){this.themeOverrides=n,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return to({onHover:(n,a)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:n,active:a}))},onClick:(n,a)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:n,active:a}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}};e.\u0275fac=function(a){return new(a||e)(Ci(wt),Ci(Ut),Ci(MS))},e.\u0275dir=Tt({type:e,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!1,features:[He]});let i=e;return i})(),ES=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],TS={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:i=>Ki(Gi(i.datasetIndex),.4),borderColor:i=>Ki(Gi(i.datasetIndex),1),pointBackgroundColor:i=>Ki(Gi(i.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:i=>Ki(Gi(i.datasetIndex),.6),borderColor:i=>Ki(Gi(i.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:i=>Ki(Gi(i.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:i=>Ki(Gi(i.dataIndex),.6),borderColor:i=>Ki(Gi(i.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Ki(i,e){return"rgba("+i.concat(e).join(",")+")"}function Dc(i,e){return Math.floor(Math.random()*(e-i+1))+i}function IS(){return[Dc(0,255),Dc(0,255),Dc(0,255)]}function Gi(i=0){return ES[i]||IS()}var Uf=(()=>{let e=class e{constructor(){this.generateColors=!0}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=Lt({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();un.register(...jr);var ya=(()=>{let e=class e{constructor(n){n?.plugins&&un.register(...n.plugins);let a=to(n?.generateColors?TS:{},n?.defaults||{});gt.set(a)}static forRoot(n){return{ngModule:e,providers:[{provide:Uf,useValue:n}]}}};e.\u0275fac=function(a){return new(a||e)(wn(Uf,8))},e.\u0275mod=St({type:e}),e.\u0275inj=xt({});let i=e;return i})();function PS(i,e){if(i&1&&(f(0,"div",9)(1,"div",10)(2,"div",11),g(3,"Revenue"),p(),f(4,"div",12),g(5),ut(6,"number"),p()(),f(7,"div",10)(8,"div",11),g(9,"Units"),p(),f(10,"div",12),g(11),ut(12,"number"),p()(),f(13,"div",10)(14,"div",11),g(15,"Avg Price"),p(),f(16,"div",12),g(17),ut(18,"number"),p()()()),i&2){let t=O();y(5),dt("",Nt(6,3,t.kpi.revenue,"1.0-0")," USD"),y(6),F(ai(12,6,t.kpi.units)),y(6),dt("",Nt(18,8,t.kpi.avgPrice,"1.0-0")," USD")}}function AS(i,e){i&1&&H(0,"mat-progress-spinner",13)}var eo=class i{api=S(Ae);loading=!1;kpi=null;trendData={labels:[],datasets:[{label:"Units",data:[],tension:.25,fill:!1}]};trendOptions={responsive:!0,maintainAspectRatio:!1};modelData={labels:[],datasets:[{data:[]}]};channelData={labels:[],datasets:[{data:[]}]};modelOptions={responsive:!0,maintainAspectRatio:!1};channelOptions={responsive:!0,maintainAspectRatio:!1};ngOnInit(){this.fetchKpi(),this.fetchTrend(),this.fetchModelSplit(),this.fetchChannelSplit(),this.fetchTopRegions(),this.fetchFuelByYear(),this.fetchPriceVsEngine()}fetchKpi(){this.loading=!0,this.api.getKpi({}).subscribe({next:e=>{this.kpi={revenue:Number(e.revenue??0),units:Number(e.units??0),avgPrice:Number(e.avgPrice??e.avg_price??0)},this.loading=!1},error:()=>{this.loading=!1}})}fetchTrend(){this.api.getTrend({}).subscribe(e=>{this.trendData={labels:e.map(t=>String(t.year)),datasets:[{label:"Units",data:e.map(t=>+t.units||0),yAxisID:"y1",tension:.25,fill:!1},{label:"Avg Price (USD)",data:e.map(t=>+t.avg_price||0),yAxisID:"y2"}]},this.trendOptions={responsive:!0,maintainAspectRatio:!1,scales:{y1:{position:"left"},y2:{position:"right"}}}})}fetchModelSplit(){this.api.getTopModels({top:6}).subscribe({next:e=>{let t=e.map(a=>`${a.make} ${a.model}`),n=e.map(a=>Number(a.units||0));this.modelData={labels:t,datasets:[{data:n}]}},error:e=>console.error("model split error",e)})}fetchChannelSplit(){this.api.getSales({limit:2e3}).subscribe({next:e=>{let t={};for(let s of e.items){let r=s.region||"Inconnu";t[r]=(t[r]||0)+(s.sales_volume??0)}let n=Object.keys(t),a=Object.values(t);this.channelData={labels:n,datasets:[{data:a}]}},error:e=>console.error("channel split error",e)})}regionsData={labels:[],datasets:[{label:"Units",data:[]}]};regionsOptions={responsive:!0,maintainAspectRatio:!1};fetchTopRegions(){this.api.getTopRegions({top:8}).subscribe(e=>{this.regionsData={labels:e.map(t=>t.region||"Unknown"),datasets:[{label:"Units",data:e.map(t=>+t.units||0)}]}})}fuelData={labels:[],datasets:[]};fuelOptions={responsive:!0,maintainAspectRatio:!1,scales:{x:{},y:{stacked:!0}},plugins:{legend:{position:"bottom"}}};fetchFuelByYear(){this.api.getFuelByYear({}).subscribe(e=>{let t=Array.from(new Set(e.map(s=>s.year))).sort(),a=Array.from(new Set(e.map(s=>s.fuel||"Unknown"))).map(s=>({label:s,data:t.map(r=>{let o=e.find(l=>l.year===r&&(l.fuel||"Unknown")===s);return o?+o.units:0})}));this.fuelData={labels:t.map(String),datasets:a}})}scatterData={datasets:[{label:"Avg Price",data:[]}]};scatterOptions={responsive:!0,maintainAspectRatio:!1};fetchPriceVsEngine(){this.api.getPriceVsEngine({}).subscribe(e=>{this.scatterData={datasets:[{label:"Avg Price",data:e.map(t=>({x:+t.engine,y:+t.avg_price}))}]}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-dashboard"]],decls:38,vars:20,consts:[["loadingTpl",""],[1,"section"],[1,"kpi-container"],["class","kpis",4,"ngIf","ngIfElse"],[1,"section",2,"height","360px"],[2,"height","300px"],["baseChart","",3,"type","data","options"],[1,"row","section"],[2,"height","360px"],[1,"kpis"],[1,"kpi"],[1,"label"],[1,"value"],["mode","indeterminate"]],template:function(t,n){if(t&1&&(f(0,"mat-card",1)(1,"mat-card-title"),g(2,"KPIs"),p(),f(3,"mat-card-content",2),L(4,PS,19,11,"div",3)(5,AS,1,0,"ng-template",null,0,Ce),p()(),f(7,"mat-card",4)(8,"mat-card-title"),g(9,"Tendance des ventes (Units)"),p(),f(10,"mat-card-content",5),H(11,"canvas",6),p()(),f(12,"div",7)(13,"mat-card",8)(14,"mat-card-title"),g(15,"R\xE9partition des ventes par mod\xE8le (Units)"),p(),f(16,"mat-card-content",5),H(17,"canvas",6),p()(),f(18,"mat-card",8)(19,"mat-card-title"),g(20,"R\xE9partition des ventes par canal (Units)"),p(),f(21,"mat-card-content",5),H(22,"canvas",6),p()()(),f(23,"mat-card",4)(24,"mat-card-title"),g(25,"Top r\xE9gions (Units)"),p(),f(26,"mat-card-content",5),H(27,"canvas",6),p()(),f(28,"mat-card",4)(29,"mat-card-title"),g(30,"R\xE9partition par carburant (stacked)"),p(),f(31,"mat-card-content",5),H(32,"canvas",6),p()(),f(33,"mat-card",4)(34,"mat-card-title"),g(35,"Prix moyen vs Cylindr\xE9e (L)"),p(),f(36,"mat-card-content",5),H(37,"canvas",6),p()()),t&2){let a=re(6);y(4),C("ngIf",n.kpi)("ngIfElse",a),y(7),C("type","line")("data",n.trendData)("options",n.trendOptions),y(6),C("type","doughnut")("data",n.modelData)("options",n.modelOptions),y(5),C("type","doughnut")("data",n.channelData)("options",n.channelOptions),y(5),C("type","bar")("data",n.regionsData)("options",n.regionsOptions),y(5),C("type","bar")("data",n.fuelData)("options",n.fuelOptions),y(5),C("type","scatter")("data",n.scatterData)("options",n.scatterOptions)}},dependencies:[me,le,de,ce,oe,la,oa,ya,va,Mi],styles:[".kpis[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.kpi[_ngcontent-%COMP%]{background:#f7f7f7;border-radius:12px;padding:16px;text-align:center}.kpi[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{opacity:.7;font-size:13px}.kpi[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin-top:6px}.chart-container[_ngcontent-%COMP%]{margin-top:32px;background:#fff;border-radius:12px;padding:16px}mat-card-title[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:1.15rem;color:#1a237e;margin-bottom:10px;letter-spacing:.3px}mat-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 10px #0000000f;transition:transform .2s ease,box-shadow .2s ease;background:#fff;padding:10px}mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 15px #0000001a}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:300px}.section[_ngcontent-%COMP%]{margin-bottom:20px}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px}"]})};var DS=()=>({minimumFractionDigits:0,maximumFractionDigits:0});function OS(i,e){i&1&&(f(0,"th",28),g(1,"Year"),p())}function RS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.year)}}function LS(i,e){i&1&&(f(0,"th",28),g(1,"Make"),p())}function FS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.make)}}function NS(i,e){i&1&&(f(0,"th",28),g(1,"Model"),p())}function zS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.model)}}function BS(i,e){i&1&&(f(0,"th",28),g(1,"Region"),p())}function VS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.region)}}function HS(i,e){i&1&&(f(0,"th",28),g(1,"Color"),p())}function jS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.color)}}function WS(i,e){i&1&&(f(0,"th",28),g(1,"Price USD"),p())}function US(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.price_usd!=null?(+t.price_usd).toLocaleString("en-GB",hd(1,DS)):"")}}function QS(i,e){i&1&&(f(0,"th",28),g(1,"Units"),p())}function qS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.sales_volume)}}function $S(i,e){i&1&&(f(0,"th",28),g(1,"Fuel"),p())}function KS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.fuel_type)}}function GS(i,e){i&1&&(f(0,"th",28),g(1,"Trans."),p())}function XS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.transmission)}}function YS(i,e){i&1&&(f(0,"th",28),g(1,"Engine (L)"),p())}function ZS(i,e){if(i&1&&(f(0,"td",29),g(1),p()),i&2){let t=e.$implicit;y(),F(t.engine_size_l)}}function JS(i,e){i&1&&H(0,"tr",30)}function tC(i,e){i&1&&H(0,"tr",31)}function eC(i,e){if(i&1){let t=lt();f(0,"div",9)(1,"table",11),ye(2,12),L(3,OS,2,0,"th",13)(4,RS,2,1,"td",14),xe(),ye(5,15),L(6,LS,2,0,"th",13)(7,FS,2,1,"td",14),xe(),ye(8,16),L(9,NS,2,0,"th",13)(10,zS,2,1,"td",14),xe(),ye(11,17),L(12,BS,2,0,"th",13)(13,VS,2,1,"td",14),xe(),ye(14,18),L(15,HS,2,0,"th",13)(16,jS,2,1,"td",14),xe(),ye(17,19),L(18,WS,2,0,"th",13)(19,US,2,2,"td",14),xe(),ye(20,20),L(21,QS,2,0,"th",13)(22,qS,2,1,"td",14),xe(),ye(23,21),L(24,$S,2,0,"th",13)(25,KS,2,1,"td",14),xe(),ye(26,22),L(27,GS,2,0,"th",13)(28,XS,2,1,"td",14),xe(),ye(29,23),L(30,YS,2,0,"th",13)(31,ZS,2,1,"td",14),xe(),L(32,JS,1,0,"tr",24)(33,tC,1,0,"tr",25),p(),f(34,"div",26)(35,"button",27),V("click",function(){z(t);let a=O();return B(a.onPaginate("prev"))}),g(36,"Pr\xE9c\xE9dent"),p(),f(37,"span"),g(38),p(),f(39,"button",27),V("click",function(){z(t);let a=O();return B(a.onPaginate("next"))}),g(40,"Suivant"),p()()()}if(i&2){let t=O();y(),C("dataSource",t.data),y(31),C("matHeaderRowDef",t.displayedColumns),y(),C("matRowDefColumns",t.displayedColumns),y(2),C("disabled",t.offset===0),y(3),ws(" ",t.offset+1,"\u2013",t.offset+t.data.length," / ",t.total," "),y(),C("disabled",t.offset+t.limit>=t.total)}}function iC(i,e){i&1&&H(0,"mat-progress-spinner",10)}var io=class i{api=S(Ae);displayedColumns=["year","make","model","region","color","price_usd","sales_volume","fuel_type","transmission","engine_size_l"];data=[];total=0;limit=20;offset=0;sort="year_desc";year;region;model;color;fuelType;transmission;loading=!1;ngOnInit(){this.fetch()}fetch(){this.loading=!0,this.api.getSales({limit:this.limit,offset:this.offset,sort:this.sort,year:this.year,region:this.region,model:this.model}).subscribe({next:e=>{this.data=e.items,this.total=e.total,this.loading=!1},error:()=>{this.loading=!1}})}onPaginate(e){e==="prev"&&(this.offset=Math.max(0,this.offset-this.limit)),e==="next"&&(this.offset=this.offset+this.limit),this.fetch()}resetFilters(){this.year=void 0,this.region=void 0,this.model=void 0,this.color=void 0,this.fuelType=void 0,this.transmission=void 0,this.offset=0,this.fetch()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-explore"]],features:[Qt([Mi])],decls:35,vars:7,consts:[[1,"filters",3,"ngSubmit"],["matInput","","type","number","name","year",3,"ngModelChange","ngModel"],["matInput","","name","region",3,"ngModelChange","ngModel"],["matInput","","name","model",3,"ngModelChange","ngModel"],["matInput","","name","color",3,"ngModelChange","ngModel"],["matInput","","name","fuelType",3,"ngModelChange","ngModel"],["matInput","","name","transmission",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],["mat-button","","type","button",3,"click"],[1,"table-wrap"],["mode","indeterminate"],["mat-table","",1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","year"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","make"],["matColumnDef","model"],["matColumnDef","region"],["matColumnDef","color"],["matColumnDef","price_usd"],["matColumnDef","sales_volume"],["matColumnDef","fuel_type"],["matColumnDef","transmission"],["matColumnDef","engine_size_l"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"pager"],["mat-stroked-button","",3,"click","disabled"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,n){t&1&&(f(0,"mat-card")(1,"mat-card-title"),g(2,"Explore"),p(),f(3,"mat-card-content")(4,"form",0),V("ngSubmit",function(){return n.fetch()}),f(5,"mat-form-field")(6,"mat-label"),g(7,"Year"),p(),f(8,"input",1),pt("ngModelChange",function(s){return ht(n.year,s)||(n.year=s),s}),p()(),f(9,"mat-form-field")(10,"mat-label"),g(11,"Region"),p(),f(12,"input",2),pt("ngModelChange",function(s){return ht(n.region,s)||(n.region=s),s}),p()(),f(13,"mat-form-field")(14,"mat-label"),g(15,"Model"),p(),f(16,"input",3),pt("ngModelChange",function(s){return ht(n.model,s)||(n.model=s),s}),p()(),f(17,"mat-form-field")(18,"mat-label"),g(19,"Color"),p(),f(20,"input",4),pt("ngModelChange",function(s){return ht(n.color,s)||(n.color=s),s}),p()(),f(21,"mat-form-field")(22,"mat-label"),g(23,"Fuel Type"),p(),f(24,"input",5),pt("ngModelChange",function(s){return ht(n.fuelType,s)||(n.fuelType=s),s}),p()(),f(25,"mat-form-field")(26,"mat-label"),g(27,"Transmission"),p(),f(28,"input",6),pt("ngModelChange",function(s){return ht(n.transmission,s)||(n.transmission=s),s}),p()(),f(29,"button",7),g(30,"Filtrer"),p(),f(31,"button",8),V("click",function(){return n.resetFilters()}),g(32,"Reset"),p()(),Ct(33,eC,41,8,"div",9)(34,iC,1,0,"mat-progress-spinner",10),p()()),t&2&&(y(8),mt("ngModel",n.year),y(4),mt("ngModel",n.region),y(4),mt("ngModel",n.model),y(4),mt("ngModel",n.color),y(4),mt("ngModel",n.fuelType),y(4),mt("ngModel",n.transmission),y(5),kt(n.loading?34:33))},dependencies:[Ln,Fs,An,Rn,Dn,Rs,On,Ls,me,le,de,ce,zn,Nn,Fn,Hn,Vn,Jt,Zt,im,qd,Kd,Zd,Gd,$d,Jd,Xd,Yd,tm,em,la,oa],styles:[".filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:12px}.filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:200px}.table-wrap[_ngcontent-%COMP%]{overflow:auto}.pager[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px;margin-top:10px}"]})};var aC=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],sC=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function rC(i,e){i&1&&(f(0,"span",3),Bt(1,1),p())}function oC(i,e){i&1&&(f(0,"span",6),Bt(1,2),p())}var lC=["*"];var cC=new ot("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Kf=new ot("MatChipAvatar"),Gf=new ot("MatChipTrailingIcon"),Xf=new ot("MatChipEdit"),Yf=new ot("MatChipRemove"),Jf=new ot("MatChip"),Zf=(()=>{class i{_elementRef=S(wt);_parentChip=S(Jf);isInteractive=!0;_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(t){this._disabled=t}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){S(ri).load(li),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:11,hostBindings:function(n,a){n&1&&V("click",function(r){return a._handleClick(r)})("keydown",function(r){return a._handleKeydown(r)}),n&2&&(_t("tabindex",a._getTabindex())("disabled",a._getDisabledAttribute())("aria-disabled",a.disabled),tt("mdc-evolution-chip__action--primary",a._isPrimary)("mdc-evolution-chip__action--presentational",!a.isInteractive)("mdc-evolution-chip__action--secondary",!a._isPrimary)("mdc-evolution-chip__action--trailing",!a._isPrimary&&!a._isLeading))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",Mt],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?-1:Wt(t)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return i})();var gn=(()=>{class i{_changeDetectorRef=S(jt);_elementRef=S(wt);_tagName=S(gd);_ngZone=S(Ut);_focusMonitor=S(Ti);_globalRippleOptions=S(Is,{optional:!0});_document=S(ei);_onFocus=new Yt;_onBlur=new Yt;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=Le();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=S(oi).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(t){this._disabled=t}_disabled=!1;removed=new It;destroyed=new It;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=S(Rd);_injector=S(Sn);constructor(){let t=S(ri);t.load(li),t.load(Es),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Ea(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(t){(t.keyCode===8&&!t.repeat||t.keyCode===46)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(n=>{let a=n._elementRef.nativeElement;return a===t||a.contains(t)})}_getActions(){let t=[];return this.editIcon&&t.push(this.editIcon),this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().some(t=>t.isInteractive)}_edit(t){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let n=t!==null;n!==this._hasFocusInternal&&(this._hasFocusInternal=n,n?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(n,a,s){if(n&1&&(ct(s,Kf,5),ct(s,Xf,5),ct(s,Gf,5),ct(s,Yf,5),ct(s,Kf,5),ct(s,Gf,5),ct(s,Xf,5),ct(s,Yf,5)),n&2){let r;G(r=X())&&(a.leadingIcon=r.first),G(r=X())&&(a.editIcon=r.first),G(r=X())&&(a.trailingIcon=r.first),G(r=X())&&(a.removeIcon=r.first),G(r=X())&&(a._allLeadingIcons=r),G(r=X())&&(a._allTrailingIcons=r),G(r=X())&&(a._allEditIcons=r),G(r=X())&&(a._allRemoveIcons=r)}},viewQuery:function(n,a){if(n&1&&Ft(Zf,5),n&2){let s;G(s=X())&&(a.primaryAction=s.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(n,a){n&1&&V("keydown",function(r){return a._handleKeydown(r)}),n&2&&(xs("id",a.id),_t("role",a.role)("aria-label",a.ariaLabel),Se("mat-"+(a.color||"primary")),tt("mdc-evolution-chip",!a._isBasicChip)("mdc-evolution-chip--disabled",a.disabled)("mdc-evolution-chip--with-trailing-action",a._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",a.leadingIcon)("mdc-evolution-chip--with-primary-icon",a.leadingIcon)("mdc-evolution-chip--with-avatar",a.leadingIcon)("mat-mdc-chip-with-avatar",a.leadingIcon)("mat-mdc-chip-highlighted",a.highlighted)("mat-mdc-chip-disabled",a.disabled)("mat-mdc-basic-chip",a._isBasicChip)("mat-mdc-standard-chip",!a._isBasicChip)("mat-mdc-chip-with-trailing-icon",a._hasTrailingIcon())("_mat-animation-noopable",a._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Mt],highlighted:[2,"highlighted","highlighted",Mt],disableRipple:[2,"disableRipple","disableRipple",Mt],disabled:[2,"disabled","disabled",Mt]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Qt([{provide:Jf,useExisting:i}])],ngContentSelectors:sC,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(n,a){n&1&&(se(aC),H(0,"span",0),f(1,"span",1)(2,"span",2),Ct(3,rC,2,0,"span",3),f(4,"span",4),Bt(5),H(6,"span",5),p()()(),Ct(7,oC,2,0,"span",6)),n&2&&(y(2),C("isInteractive",!1),y(),kt(a.leadingIcon?3:-1),y(4),kt(a._hasTrailingIcon()?7:-1))},dependencies:[Zf],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}
`],encapsulation:2,changeDetection:0})}return i})();var wa=(()=>{class i{_elementRef=S(wt);_changeDetectorRef=S(jt);_dir=S(Ii,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new Yt;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get chipRemovedChanges(){return this._getChipStream(t=>t.removed)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(t){this._explicitRole=t}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new ii;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips?.forEach(t=>{t._chipListDisabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){let t=this._elementRef.nativeElement.tabIndex;t!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=t))}_getChipStream(t){return this._chips.changes.pipe(ae(null),bs(()=>Ea(...this._chips.map(t))))}_originatesFromChip(t){let n=t.target;for(;n&&n!==this._elementRef.nativeElement;){if(n.classList.contains("mat-mdc-chip"))return!0;n=n.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(ae(this._chips)).subscribe(t=>{let n=[];t.forEach(a=>a._getActions().forEach(s=>n.push(s))),this._chipActions.reset(n),this._chipActions.notifyOnChanges()}),this._keyManager=new In(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(Rt(this._destroyed)).subscribe(({chip:t})=>{let n=t._getSourceAction(document.activeElement);n&&this._keyManager.updateActiveItem(n)}),this._dir?.change.pipe(Rt(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(ae(null),Rt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Rt(this._destroyed)).subscribe(t=>{let a=this._chips.toArray().indexOf(t.chip),s=t.chip._hasFocus(),r=t.chip._hadFocusOnRemove&&this._keyManager.activeItem&&t.chip._getActions().includes(this._keyManager.activeItem),o=s||r;this._isValidIndex(a)&&o&&(this._lastDestroyedFocusedChipIndex=a)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),n=this._chips.toArray()[t];n.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():n.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-chip-set"]],contentQueries:function(n,a,s){if(n&1&&ct(s,gn,5),n&2){let r;G(r=X())&&(a._chips=r)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(n,a){n&1&&V("keydown",function(r){return a._handleKeydown(r)}),n&2&&_t("role",a.role)},inputs:{disabled:[2,"disabled","disabled",Mt],role:"role",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Wt(t)]},ngContentSelectors:lC,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(n,a){n&1&&(se(),je(0,"div",0),Bt(1),ni())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return i})();var Sa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({providers:[Bn,{provide:cC,useValue:{separatorKeyCodes:[13]}}],imports:[At,Pi,At]})}return i})();var tg=(()=>{class i{get vertical(){return this._vertical}set vertical(t){this._vertical=Pn(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=Pn(t)}_inset=!1;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(n,a){n&2&&(_t("aria-orientation",a.vertical?"vertical":"horizontal"),tt("mat-divider-vertical",a.vertical)("mat-divider-horizontal",!a.vertical)("mat-divider-inset",a.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(n,a){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return i})(),Je=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({imports:[At,At]})}return i})();var Ca=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({imports:[Ad,At,Pi,nm,Je]})}return i})();function mC(i,e){if(i&1&&(f(0,"mat-chip"),g(1),p()),i&2){let t=e.$implicit;y(),F(t)}}function hC(i,e){if(i&1&&(f(0,"mat-card",16)(1,"mat-card-title")(2,"mat-icon"),g(3),p(),g(4),p(),f(5,"mat-card-content")(6,"p"),g(7),p()()()),i&2){let t=e.$implicit;y(3),F(t.icon),y(),dt(" ",t.title),y(3),F(t.text)}}function pC(i,e){if(i&1&&(f(0,"li"),g(1),p()),i&2){let t=e.$implicit;y(),F(t)}}function uC(i,e){if(i&1&&(f(0,"div",17)(1,"div",18),g(2),p(),f(3,"div",19),g(4),p(),f(5,"ul"),L(6,pC,2,1,"li",9),p()()),i&2){let t=e.$implicit;y(2),F(t.period),y(2),F(t.role),y(2),C("ngForOf",t.items)}}var no=class i{links={email:"mailto:you@example.com",github:"https://github.com/ton-github",linkedin:"https://www.linkedin.com/in/ton-linkedin",resume:"assets/docs/CV.pdf",projectRepo:"https://github.com/ton-github/auto-sales-analytics"};skills=["Angular","NestJS","TypeORM","SQL Server","Power BI","Chart.js","ETL (SQL/Python)","Mod\xE8le en \xE9toile","Tests & Perf","GitHub Actions"];value=[{icon:"analytics",title:"Data-driven",text:"Je con\xE7ois des API et dashboards qui r\xE9pondent \xE0 des questions business concr\xE8tes."},{icon:"bolt",title:"Impact rapide",text:"Livrables clairs, it\xE9rations courtes, et focus sur l\u2019exp\xE9rience utilisateur."},{icon:"verified",title:"Qualit\xE9 & fiabilit\xE9",text:"Sch\xE9ma propre, contr\xF4les de qualit\xE9, agr\xE9gations pond\xE9r\xE9es, perf mesur\xE9e."}];timeline=[{period:"2024\u20132025",role:"Data/Full-stack (perso & freelance)",items:["Angular + NestJS","SQL Server / Power BI","CI/CD GitHub"]},{period:"2022\u20132024",role:"Data Analyst",items:["Reporting Power BI","Automatisation ETL","Data quality"]},{period:"Avant",role:"\xC9tudes / Projets",items:["Bases solides en SQL & Web","Projets Kaggle","Portfolio en progression"]}];static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-about"]],decls:52,vars:8,consts:[[1,"hero"],[1,"avatar"],["src","assets/me.jpg","alt","Photo","onerror","this.style.display='none'"],[1,"hero-text"],[1,"cta"],["mat-raised-button","","color","primary","download","",3,"href"],["mat-stroked-button","","color","primary","target","_blank","rel","noopener",3,"href"],[1,"section"],[1,"chips"],[4,"ngFor","ngForOf"],[1,"value-grid"],["class","value-card",4,"ngFor","ngForOf"],[1,"timeline"],["class","item",4,"ngFor","ngForOf"],[1,"links"],["mat-stroked-button","","color","primary",3,"href"],[1,"value-card"],[1,"item"],[1,"period"],[1,"role"]],template:function(t,n){t&1&&(f(0,"section",0)(1,"div",1),H(2,"img",2),p(),f(3,"div",3)(4,"h1"),g(5,"\xC0 propos"),p(),f(6,"p"),g(7,"D\xE9veloppeur web & data analyst \u2014 j\u2019aime transformer des donn\xE9es en d\xE9cisions actionnables, avec une UX soign\xE9e et des perfs mesur\xE9es."),p(),f(8,"div",4)(9,"a",5)(10,"mat-icon"),g(11,"download"),p(),g(12," T\xE9l\xE9charger mon CV "),p(),f(13,"a",6)(14,"mat-icon"),g(15,"code"),p(),g(16," Repo du projet "),p()()()(),f(17,"mat-card",7)(18,"mat-card-title"),g(19,"Comp\xE9tences & Stack"),p(),f(20,"mat-card-content")(21,"mat-chip-set",8),L(22,mC,2,1,"mat-chip",9),p()()(),f(23,"mat-card",7)(24,"mat-card-title"),g(25,"Ce que j\u2019apporte"),p(),f(26,"mat-card-content")(27,"div",10),L(28,hC,8,3,"mat-card",11),p()()(),f(29,"mat-card",7)(30,"mat-card-title"),g(31,"Parcours"),p(),f(32,"mat-card-content")(33,"div",12),L(34,uC,7,3,"div",13),p()()(),f(35,"mat-card",7)(36,"mat-card-title"),g(37,"Contact"),p(),f(38,"mat-card-content")(39,"div",14)(40,"a",15)(41,"mat-icon"),g(42,"mail"),p(),g(43," Email "),p(),f(44,"a",6)(45,"mat-icon"),g(46,"hub"),p(),g(47," GitHub "),p(),f(48,"a",6)(49,"mat-icon"),g(50,"public"),p(),g(51," LinkedIn "),p()()()()),t&2&&(y(9),C("href",n.links.resume,xi),y(4),C("href",n.links.projectRepo,xi),y(9),C("ngForOf",n.skills),y(6),C("ngForOf",n.value),y(6),C("ngForOf",n.timeline),y(6),C("href",n.links.email,xi),y(4),C("href",n.links.github,xi),y(4),C("href",n.links.linkedin,xi))},dependencies:[We,ki,me,le,de,ce,he,Ee,Sa,gn,wa,Jt,Zt,Je,Ca],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #1A237E;--bg: #F5F7FA;--card: #FFFFFF;--border: #E0E0E0;--text: #333}.section[_ngcontent-%COMP%]{margin-bottom:24px}.hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:110px 1fr;gap:16px;align-items:center;background:linear-gradient(135deg,#eef2ff,#fff 60%);border-radius:16px;padding:20px;margin-bottom:24px;box-shadow:0 4px 10px #0000000f}.hero[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:50%;object-fit:cover;border:2px solid var(--border)}.hero[_ngcontent-%COMP%]   .hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 6px;color:var(--primary);font-weight:700}.hero[_ngcontent-%COMP%]   .hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;opacity:.85}.hero[_ngcontent-%COMP%]   .cta[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}mat-card-title[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:1.1rem;color:var(--primary);margin:6px 0 10px}.chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{margin:4px}.value-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.value-card[_ngcontent-%COMP%]{border:1px solid var(--border);border-radius:12px}.value-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-content:center}.timeline[_ngcontent-%COMP%]{display:grid;gap:10px}.timeline[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px 14px}.timeline[_ngcontent-%COMP%]   .period[_ngcontent-%COMP%]{font-weight:700;color:var(--primary)}.timeline[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{margin:2px 0 6px}.timeline[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px}.links[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}']})};function fC(i,e){if(i&1&&(f(0,"div",7),H(1,"canvas",8),p()),i&2){let t=O();y(),C("type","bar")("data",t.data)("options",t.options)}}function gC(i,e){i&1&&H(0,"mat-progress-spinner",9)}var so=class i{api=S(Ae);year;region;loading=!1;data={labels:[],datasets:[{label:"Units",data:[]}]};options={responsive:!0,maintainAspectRatio:!1};ngOnInit(){this.loadTop()}loadTop(){this.loading=!0,this.api.getTopModels({top:10,year:this.year,region:this.region}).subscribe({next:e=>{let t=e.map(a=>`${a.make} ${a.model}`),n=e.map(a=>Number(a.units||0));this.data={labels:t,datasets:[{label:"Units",data:n}]},this.loading=!1},error:()=>this.loading=!1})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-insights"]],decls:18,vars:4,consts:[["loadTpl",""],[2,"text-align","center"],[1,"filters",3,"ngSubmit"],["matInput","","type","number","name","year",3,"ngModelChange","ngModel"],["matInput","","name","region",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],["style","height: 360px",4,"ngIf","ngIfElse"],[2,"height","360px"],["baseChart","",3,"type","data","options"],["mode","indeterminate"]],template:function(t,n){if(t&1){let a=lt();f(0,"mat-card")(1,"mat-card-title",1),g(2,"Top 10 mod\xE8les"),p(),f(3,"mat-card-content")(4,"form",2),V("ngSubmit",function(){return z(a),B(n.loadTop())}),f(5,"mat-form-field")(6,"mat-label"),g(7,"Year"),p(),f(8,"input",3),pt("ngModelChange",function(r){return z(a),ht(n.year,r)||(n.year=r),B(r)}),p()(),f(9,"mat-form-field")(10,"mat-label"),g(11,"Region"),p(),f(12,"input",4),pt("ngModelChange",function(r){return z(a),ht(n.region,r)||(n.region=r),B(r)}),p()(),f(13,"button",5),g(14,"Actualiser"),p()(),L(15,fC,2,3,"div",6)(16,gC,1,0,"ng-template",null,0,Ce),p()()}if(t&2){let a=re(17);y(8),mt("ngModel",n.year),y(4),mt("ngModel",n.region),y(3),C("ngIf",!n.loading)("ngIfElse",a)}},dependencies:[oe,Ln,Fs,An,Rn,Dn,Rs,On,Ls,me,le,de,ce,zn,Nn,Fn,Hn,Vn,Jt,Zt,la,oa,ya,va],encapsulation:2})};var Nc=new ot("CdkAccordion"),eg=(()=>{class i{_stateChanges=new Yt;_openCloseAllActions=new Yt;id=S(oi).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Mt]},exportAs:["cdkAccordion"],features:[Qt([{provide:Nc,useExisting:i}]),He]})}return i})(),ig=(()=>{class i{accordion=S(Nc,{optional:!0,skipSelf:!0});_changeDetectorRef=S(jt);_expansionDispatcher=S(Ns);_openCloseAllSubscription=vn.EMPTY;closed=new It;opened=new It;destroyed=new It;expandedChange=new It;id=S(oi).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(t){this._disabled.set(t)}_disabled=ie(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((t,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Mt],disabled:[2,"disabled","disabled",Mt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Qt([{provide:Nc,useValue:void 0}])]})}return i})(),ng=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({})}return i})();var _C=["body"],bC=["bodyWrapper"],vC=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],yC=["mat-expansion-panel-header","*","mat-action-row"];function xC(i,e){}var wC=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],SC=["mat-panel-title","mat-panel-description","*"];function CC(i,e){i&1&&(je(0,"span",1),Yi(),je(1,"svg",2),Ji(2,"path",3),ni()())}var zc=new ot("MAT_ACCORDION"),ag=new ot("MAT_EXPANSION_PANEL"),kC=(()=>{class i{_template=S(wi);_expansionPanel=S(ag,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]})}return i})(),sg=new ot("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Bc=(()=>{class i extends ig{_viewContainerRef=S(Cn);_animationsDisabled=Le();_document=S(ei);_ngZone=S(Ut);_elementRef=S(wt);_renderer=S(Si);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_togglePosition;afterExpand=new It;afterCollapse=new It;_inputChanges=new Yt;accordion=S(zc,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=S(oi).getId("mat-expansion-panel-header-");constructor(){super();let t=S(sg,{optional:!0});this._expansionDispatcher=S(Ns),t&&(this.hideToggle=t.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ae(null),Ta(()=>this.expanded&&!this._portal),Jc(1)).subscribe(()=>{this._portal=new As(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}_transitionEndListener=({target:t,propertyName:n})=>{t===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let t=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this._transitionEndListener),t.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(n,a,s){if(n&1&&ct(s,kC,5),n&2){let r;G(r=X())&&(a._lazyContent=r.first)}},viewQuery:function(n,a){if(n&1&&(Ft(_C,5),Ft(bC,5)),n&2){let s;G(s=X())&&(a._body=s.first),G(s=X())&&(a._bodyWrapper=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,a){n&2&&tt("mat-expanded",a.expanded)("mat-expansion-panel-spacing",a._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Mt],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Qt([{provide:zc,useValue:void 0},{provide:ag,useExisting:i}]),Oe,He],ngContentSelectors:yC,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,a){n&1&&(se(vC),Bt(0),f(1,"div",2,0)(3,"div",3,1)(5,"div",4),Bt(6,1),L(7,xC,0,0,"ng-template",5),p(),Bt(8,2),p()()),n&2&&(y(),_t("inert",a.expanded?null:""),y(2),C("id",a.id),_t("aria-labelledby",a._headerId),y(4),C("cdkPortalOutlet",a._portal))},dependencies:[Ds],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return i})();var Vc=(()=>{class i{panel=S(Bc,{host:!0});_element=S(wt);_focusMonitor=S(Ti);_changeDetectorRef=S(jt);_parentChangeSubscription=vn.EMPTY;constructor(){S(ri).load(li);let t=this.panel,n=S(sg,{optional:!0}),a=S(new fd("tabindex"),{optional:!0}),s=t.accordion?t.accordion._stateChanges.pipe(Ta(r=>!!(r.hideToggle||r.togglePosition))):Xc;this.tabIndex=parseInt(a||"")||0,this._parentChangeSubscription=Ea(t.opened,t.closed,s,t._inputChanges.pipe(Ta(r=>!!(r.hideToggle||r.disabled||r.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Ta(()=>t._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Tn(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,a){n&1&&V("click",function(){return a._toggle()})("keydown",function(r){return a._keydown(r)}),n&2&&(_t("id",a.panel._headerId)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a._getPanelId())("aria-expanded",a._isExpanded())("aria-disabled",a.panel.disabled),we("height",a._getHeaderHeight()),tt("mat-expanded",a._isExpanded())("mat-expansion-toggle-indicator-after",a._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",a._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Wt(t)]},ngContentSelectors:SC,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,a){n&1&&(se(wC),je(0,"span",0),Bt(1),Bt(2,1),Bt(3,2),ni(),Ct(4,CC,3,0,"span",1)),n&2&&(tt("mat-content-hide-toggle",!a._showToggle()),y(4),kt(a._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return i})();var rg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return i})(),og=(()=>{class i extends eg{_keyManager;_ownHeaders=new ii;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(ae(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new In(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let t;return function(a){return(t||(t=Zi(i)))(a||i)}})();static \u0275dir=Tt({type:i,selectors:[["mat-accordion"]],contentQueries:function(n,a,s){if(n&1&&ct(s,Vc,5),n&2){let r;G(r=X())&&(a._headers=r)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,a){n&2&&tt("mat-accordion-multi",a.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",Mt],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Qt([{provide:zc,useExisting:i}]),Oe]})}return i})(),ro=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({imports:[At,ng,Os]})}return i})();var EC=["*"];function TC(i,e){i&1&&Bt(0)}var Hc=(()=>{class i{_elementRef=S(wt);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return i})(),jc=(()=>{class i{template=S(wi);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["","cdkStepLabel",""]]})}return i})();var _n={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},IC=new ot("STEPPER_GLOBAL_OPTIONS"),oo=(()=>{class i{_stepperOptions;_stepper=S(lo);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;get interacted(){return this._interacted()}set interacted(t){this._interacted.set(t)}_interacted=ie(!1);interactedStream=new It;label;errorMessage;ariaLabel;ariaLabelledby;get state(){return this._state()}set state(t){this._state.set(t)}_state=ie(void 0);get editable(){return this._editable()}set editable(t){this._editable.set(t)}_editable=ie(!0);optional=!1;get completed(){let t=this._completedOverride(),n=this._interacted();return t??(n&&(!this.stepControl||this.stepControl.valid))}set completed(t){this._completedOverride.set(t)}_completedOverride=ie(null);index=ie(-1);isSelected=En(()=>this._stepper.selectedIndex===this.index());indicatorType=En(()=>{let t=this.isSelected(),n=this.completed,a=this._state()??_n.NUMBER,s=this._editable();return this._showError()&&this.hasError&&!t?_n.ERROR:this._displayDefaultIndicatorType?!n||t?_n.NUMBER:s?_n.EDIT:_n.DONE:n&&!t?_n.DONE:n&&t?a:s&&t?_n.EDIT:a});isNavigable=En(()=>{let t=this.isSelected();return this.completed||t||!this._stepper.linear});get hasError(){let t=this._customError();return t??this._getDefaultError()}set hasError(t){this._customError.set(t)}_customError=ie(null);_getDefaultError(){return this.interacted&&!!this.stepControl?.invalid}constructor(){let t=S(IC,{optional:!0});this._stepperOptions=t||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this._interacted.set(!1),this._completedOverride()!=null&&this._completedOverride.set(!1),this._customError()!=null&&this._customError.set(!1),this.stepControl&&(this._childForms?.forEach(t=>t.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this._interacted()||(this._interacted.set(!0),this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError()!=null}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["cdk-step"]],contentQueries:function(n,a,s){if(n&1&&(ct(s,jc,5),ct(s,Qd,5)),n&2){let r;G(r=X())&&(a.stepLabel=r.first),G(r=X())&&(a._childForms=r)}},viewQuery:function(n,a){if(n&1&&Ft(wi,7),n&2){let s;G(s=X())&&(a.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",Mt],optional:[2,"optional","optional",Mt],completed:[2,"completed","completed",Mt],hasError:[2,"hasError","hasError",Mt]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[He],ngContentSelectors:EC,decls:1,vars:0,template:function(n,a){n&1&&(se(),ld(0,TC,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return i})(),lo=(()=>{class i{_dir=S(Ii,{optional:!0});_changeDetectorRef=S(jt);_elementRef=S(wt);_destroyed=new Yt;_keyManager;_steps;steps=new ii;_stepHeader;_sortedHeaders=new ii;linear=!1;get selectedIndex(){return this._selectedIndex()}set selectedIndex(t){this._steps?(this._isValidIndex(t),this.selectedIndex!==t&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(t)&&(t>=this.selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t))):this._selectedIndex.set(t)}_selectedIndex=ie(0);get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}selectionChange=new It;selectedIndexChange=new It;_groupId=S(oi).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation(t==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(ae(this._steps),Rt(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(n=>n._stepper===this)),this.steps.forEach((n,a)=>n.index.set(a)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(ae(this._stepHeader),Rt(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((n,a)=>n._elementRef.nativeElement.compareDocumentPosition(a._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new In(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:Yc()).pipe(ae(this._layoutDirection()),Rt(this._destroyed)).subscribe(t=>this._keyManager?.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this.selectedIndex),this.steps.changes.subscribe(()=>{this.selected||this._selectedIndex.set(Math.max(this.selectedIndex-1,0))}),this._isValidIndex(this.selectedIndex)||this._selectedIndex.set(0),this.linear&&this.selectedIndex>0){let t=this.steps.toArray().slice(0,this._selectedIndex());for(let n of t)n._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex()+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex()-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`${this._groupId}-label-${t}`}_getStepContentId(t){return`${this._groupId}-content-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){let n=t-this._selectedIndex();return n<0?this._layoutDirection()==="rtl"?"next":"previous":n>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex()}_updateSelectedItemIndex(t){let n=this.steps.toArray(),a=this._selectedIndex();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:a,selectedStep:n[t],previouslySelectedStep:n[a]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t)),this._selectedIndex.set(t),this.selectedIndexChange.emit(t),this._stateChanged()}_onKeydown(t){let n=Tn(t),a=t.keyCode,s=this._keyManager;s?.activeItemIndex!=null&&!n&&(a===32||a===13)?(this.selectedIndex=s.activeItemIndex,t.preventDefault()):s?.setFocusOrigin("keyboard").onKeydown(t)}_anyControlsInvalidOrPending(t){return this.linear&&t>=0?this.steps.toArray().slice(0,t).some(n=>{let a=n.stepControl;return(a?a.invalid||a.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride()}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let t=this._elementRef.nativeElement,n=Id();return t===n||t.contains(n)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["","cdkStepper",""]],contentQueries:function(n,a,s){if(n&1&&(ct(s,oo,5),ct(s,Hc,5)),n&2){let r;G(r=X())&&(a._steps=r),G(r=X())&&(a._stepHeader=r)}},inputs:{linear:[2,"linear","linear",Mt],selectedIndex:[2,"selectedIndex","selectedIndex",Wt],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return i})();var lg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({imports:[Ld]})}return i})();var PC=(i,e,t)=>({index:i,active:e,optional:t});function AC(i,e){if(i&1&&Re(0,2),i&2){let t=O();C("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",pd(2,PC,t.index,t.active,t.optional))}}function DC(i,e){if(i&1&&(f(0,"span",7),g(1),p()),i&2){let t=O(2);y(),F(t._getDefaultTextForState(t.state))}}function OC(i,e){if(i&1&&(f(0,"span",8),g(1),p()),i&2){let t=O(3);y(),F(t._intl.completedLabel)}}function RC(i,e){if(i&1&&(f(0,"span",8),g(1),p()),i&2){let t=O(3);y(),F(t._intl.editableLabel)}}function LC(i,e){if(i&1&&(Ct(0,OC,2,1,"span",8)(1,RC,2,1,"span",8),f(2,"mat-icon",7),g(3),p()),i&2){let t=O(2);kt(t.state==="done"?0:t.state==="edit"?1:-1),y(3),F(t._getDefaultTextForState(t.state))}}function FC(i,e){if(i&1&&Ct(0,DC,2,1,"span",7)(1,LC,4,2),i&2){let t,n=O();kt((t=n.state)==="number"?0:1)}}function NC(i,e){i&1&&(f(0,"div",4),Re(1,9),p()),i&2&&(y(),C("ngTemplateOutlet",e.template))}function zC(i,e){if(i&1&&(f(0,"div",4),g(1),p()),i&2){let t=O();y(),F(t.label)}}function BC(i,e){if(i&1&&(f(0,"div",5),g(1),p()),i&2){let t=O();y(),F(t._intl.optionalLabel)}}function VC(i,e){if(i&1&&(f(0,"div",6),g(1),p()),i&2){let t=O();y(),F(t.errorMessage)}}var cg=["*"];function HC(i,e){}function jC(i,e){if(i&1&&(Bt(0),L(1,HC,0,0,"ng-template",0)),i&2){let t=O();y(),C("cdkPortalOutlet",t._portal)}}var WC=["animatedContainer"],dg=i=>({step:i});function UC(i,e){i&1&&Bt(0)}function QC(i,e){i&1&&H(0,"div",7)}function qC(i,e){if(i&1&&(Re(0,6),Ct(1,QC,1,0,"div",7)),i&2){let t=e.$implicit,n=e.$index,a=e.$count;O(2);let s=re(4);C("ngTemplateOutlet",s)("ngTemplateOutletContext",Ao(3,dg,t)),y(),kt(n!==a-1?1:-1)}}function $C(i,e){if(i&1&&(f(0,"div",8,1),Re(2,9),p()),i&2){let t=e.$implicit,n=e.$index,a=O(2);Se("mat-horizontal-stepper-content-"+a._getAnimationDirection(n)),C("id",a._getStepContentId(n)),_t("aria-labelledby",a._getStepLabelId(n))("inert",a.selectedIndex===n?null:""),y(2),C("ngTemplateOutlet",t.content)}}function KC(i,e){if(i&1&&(f(0,"div",2)(1,"div",3),kn(2,qC,2,5,null,null,ys),p(),f(4,"div",4),kn(5,$C,3,6,"div",5,ys),p()()),i&2){let t=O();y(2),Mn(t.steps),y(3),Mn(t.steps)}}function GC(i,e){if(i&1&&(f(0,"div",10),Re(1,6),f(2,"div",11,1)(4,"div",12)(5,"div",13),Re(6,9),p()()()()),i&2){let t=e.$implicit,n=e.$index,a=e.$index,s=e.$count,r=O(2),o=re(4);y(),C("ngTemplateOutlet",o)("ngTemplateOutletContext",Ao(10,dg,t)),y(),tt("mat-stepper-vertical-line",a!==s-1)("mat-vertical-content-container-active",r.selectedIndex===n),_t("inert",r.selectedIndex===n?null:""),y(2),C("id",r._getStepContentId(n)),_t("aria-labelledby",r._getStepLabelId(n)),y(2),C("ngTemplateOutlet",t.content)}}function XC(i,e){if(i&1&&kn(0,GC,7,12,"div",10,ys),i&2){let t=O();Mn(t.steps)}}function YC(i,e){if(i&1){let t=lt();f(0,"mat-step-header",14),V("click",function(){let a=z(t).step;return B(a.select())})("keydown",function(a){z(t);let s=O();return B(s._onKeydown(a))}),p()}if(i&2){let t=e.step,n=O();tt("mat-horizontal-stepper-header",n.orientation==="horizontal")("mat-vertical-stepper-header",n.orientation==="vertical"),C("tabIndex",n._getFocusIndex()===t.index()?0:-1)("id",n._getStepLabelId(t.index()))("index",t.index())("state",t.indicatorType())("label",t.stepLabel||t.label)("selected",t.isSelected())("active",t.isNavigable())("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",n._iconOverrides)("disableRipple",n.disableRipple||!t.isNavigable())("color",t.color||n.color),_t("aria-posinset",t.index()+1)("aria-setsize",n.steps.length)("aria-controls",n._getStepContentId(t.index()))("aria-selected",t.isSelected())("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",t.isNavigable()?null:!0)}}var bn=(()=>{class i extends jc{static \u0275fac=(()=>{let t;return function(a){return(t||(t=Zi(i)))(a||i)}})();static \u0275dir=Tt({type:i,selectors:[["","matStepLabel",""]],features:[Oe]})}return i})(),co=(()=>{class i{changes=new Yt;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(n){return new(n||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ZC(i){return i||new co}var JC={provide:co,deps:[[new nd,new ad,co]],useFactory:ZC},Wc=(()=>{class i extends Hc{_intl=S(co);_focusMonitor=S(Ti);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let t=S(ri);t.load(li),t.load(Es);let n=S(jt);this._intlSubscription=this._intl.changes.subscribe(()=>n.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,n){t?this._focusMonitor.focusVia(this._elementRef,t,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof bn?null:this.label}_templateLabel(){return this.label instanceof bn?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getDefaultTextForState(t){return t=="number"?`${this.index+1}`:t=="edit"?"create":t=="error"?"warning":t}_hasEmptyLabel(){return!this._stringLabel()&&!this._templateLabel()&&!this._hasOptionalLabel()&&!this._hasErrorLabel()}_hasOptionalLabel(){return this.optional&&this.state!=="error"}_hasErrorLabel(){return this.state==="error"}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:4,hostBindings:function(n,a){n&2&&(Se("mat-"+(a.color||"primary")),tt("mat-step-header-empty-label",a._hasEmptyLabel()))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[Oe],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(n,a){if(n&1&&(H(0,"div",0),f(1,"div")(2,"div",1),Ct(3,AC,1,6,"ng-container",2)(4,FC,2,1),p()(),f(5,"div",3),Ct(6,NC,2,1,"div",4)(7,zC,2,1,"div",4),Ct(8,BC,2,1,"div",5),Ct(9,VC,2,1,"div",6),p()),n&2){let s;C("matRippleTrigger",a._getHostElement())("matRippleDisabled",a.disableRipple),y(),Se(md("mat-step-icon-state-",a.state," mat-step-icon")),tt("mat-step-icon-selected",a.selected),y(2),kt(a.iconOverrides&&a.iconOverrides[a.state]?3:4),y(2),tt("mat-step-label-active",a.active)("mat-step-label-selected",a.selected)("mat-step-label-error",a.state=="error"),y(),kt((s=a._templateLabel())?6:a._stringLabel()?7:-1,s),y(2),kt(a._hasOptionalLabel()?8:-1),y(),kt(a._hasErrorLabel()?9:-1)}},dependencies:[Aa,Pa,Ee],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-header-empty-label .mat-step-label{min-width:0}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-done-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return i})(),tk=(()=>{class i{templateRef=S(wi);name;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return i})(),ek=(()=>{class i{_template=S(wi);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["ng-template","matStepContent",""]]})}return i})(),ps=(()=>{class i extends oo{_errorStateMatcher=S(Bn,{skipSelf:!0});_viewContainerRef=S(Cn);_isSelected=vn.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(bs(()=>this._stepper.selectionChange.pipe(Zc(t=>t.selectedStep===this),ae(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new As(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,n){let a=this._errorStateMatcher.isErrorState(t,n),s=!!(t&&t.invalid&&this.interacted);return a||s}static \u0275fac=(()=>{let t;return function(a){return(t||(t=Zi(i)))(a||i)}})();static \u0275cmp=U({type:i,selectors:[["mat-step"]],contentQueries:function(n,a,s){if(n&1&&(ct(s,bn,5),ct(s,ek,5)),n&2){let r;G(r=X())&&(a.stepLabel=r.first),G(r=X())&&(a._lazyContent=r.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[Qt([{provide:Bn,useExisting:i},{provide:oo,useExisting:i}]),Oe],ngContentSelectors:cg,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(n,a){n&1&&(se(),L(0,jC,2,1,"ng-template"))},dependencies:[Ds],encapsulation:2,changeDetection:0})}return i})(),us=(()=>{class i extends lo{_ngZone=S(Ut);_renderer=S(Si);_animationsDisabled=Le();_cleanupTransition;_isAnimating=ie(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new ii;_icons;animationDone=new It;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}_animationDuration="";_isServer=!S(tn).isBrowser;constructor(){super();let n=S(wt).nativeElement.nodeName.toLowerCase();this.orientation=n==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:n})=>this._iconOverrides[t]=n),this.steps.changes.pipe(Rt(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(Rt(this._destroyed)).subscribe(()=>{let t=this._getAnimationDuration();t==="0ms"||t==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsDisabled||setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let t=!1;this._animatedContainers.changes.pipe(ae(null),Rt(this._destroyed)).subscribe(()=>queueMicrotask(()=>{t||(t=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_getAnimationDuration(){return this._animationsDisabled?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=t=>{let n=t.target;if(!n)return;let a=this.orientation==="horizontal"&&t.propertyName==="transform"&&n.classList.contains("mat-horizontal-stepper-content-current"),s=this.orientation==="vertical"&&t.propertyName==="grid-template-rows"&&n.classList.contains("mat-vertical-content-container-active");(a||s)&&this._animatedContainers.find(o=>o.nativeElement===n)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(n,a,s){if(n&1&&(ct(s,ps,5),ct(s,tk,5)),n&2){let r;G(r=X())&&(a._steps=r),G(r=X())&&(a._icons=r)}},viewQuery:function(n,a){if(n&1&&(Ft(Wc,5),Ft(WC,5)),n&2){let s;G(s=X())&&(a._stepHeader=s),G(s=X())&&(a._animatedContainers=s)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(n,a){n&2&&(_t("aria-orientation",a.orientation),we("--mat-stepper-animation-duration",a._getAnimationDuration()),tt("mat-stepper-horizontal",a.orientation==="horizontal")("mat-stepper-vertical",a.orientation==="vertical")("mat-stepper-label-position-end",a.orientation==="horizontal"&&a.labelPosition=="end")("mat-stepper-label-position-bottom",a.orientation==="horizontal"&&a.labelPosition=="bottom")("mat-stepper-header-position-bottom",a.headerPosition==="bottom")("mat-stepper-animating",a._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[Qt([{provide:lo,useExisting:i}]),Oe],ngContentSelectors:cg,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(n,a){if(n&1&&(se(),Ct(0,UC,1,0),Ct(1,KC,7,0,"div",2)(2,XC,2,0),L(3,YC,1,23,"ng-template",null,0,Ce)),n&2){let s;kt(a._isServer?0:-1),y(),kt((s=a.orientation)==="horizontal"?1:s==="vertical"?2:-1)}},dependencies:[Pa,Wc],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header.mat-step-header-empty-label .mat-step-icon{margin:0}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return i})();var mo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({providers:[JC,Bn],imports:[At,Os,lg,he,Pi,us,Wc,At]})}return i})();function ik(i,e){i&1&&Ji(0,"div",2)}var nk=new ot("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var ho=(()=>{class i{_elementRef=S(wt);_ngZone=S(Ut);_changeDetectorRef=S(jt);_renderer=S(Si);_cleanupTransitionEnd;constructor(){let t=Ts(),n=S(nk,{optional:!0});this._isNoopAnimation=t==="di-disabled",t==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),n&&(n.color&&(this.color=this._defaultColor=n.color),this.mode=n.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";get value(){return this._value}set value(t){this._value=hg(t||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=hg(t||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new It;get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=t=>{this.animationEnd.observers.length===0||!t.target||!t.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,a){n&2&&(_t("aria-valuenow",a._isIndeterminate()?null:a.value)("mode",a.mode),Se("mat-"+a.color),tt("_mat-animation-noopable",a._isNoopAnimation)("mdc-linear-progress--animation-ready",!a._isNoopAnimation)("mdc-linear-progress--indeterminate",a._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Wt],bufferValue:[2,"bufferValue","bufferValue",Wt],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,a){n&1&&(je(0,"div",0),Ji(1,"div",1),Ct(2,ik,1,0,"div",2),ni(),je(3,"div",3),Ji(4,"span",4),ni(),je(5,"div",5),Ji(6,"span",4),ni()),n&2&&(y(),we("flex-basis",a._getBufferBarFlexBasis()),y(),kt(a.mode==="buffer"?2:-1),y(),we("transform",a._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{background-image:radial-gradient(circle, var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant)) calc(var(--mat-progress-bar-track-height, 4px) / 2), transparent 0);background-repeat:repeat-x;background-size:calc(calc(var(--mat-progress-bar-track-height, 4px) / 2)*5);background-position:left;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return i})();function hg(i,e=0,t=100){return Math.max(e,Math.min(t,i))}var po=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({imports:[At]})}return i})();function ak(i,e){if(i&1&&(f(0,"mat-chip")(1,"mat-icon"),g(2),p(),g(3),p()),i&2){let t=e.$implicit;y(2),F(t.icon),y(),dt(" ",t.label," ")}}function sk(i,e){if(i&1&&g(0),i&2){let t=O(),n=t.$implicit,a=t.index;Ia("",a+1,". ",n.title)}}function rk(i,e){if(i&1&&(f(0,"mat-step",20),L(1,sk,1,2,"ng-template",21),f(2,"p"),g(3),p()()),i&2){let t=e.$implicit;C("completed",!0),y(3),F(t.desc)}}function ok(i,e){if(i&1&&(f(0,"li"),g(1),p()),i&2){let t=e.$implicit;y(),F(t)}}function lk(i,e){if(i&1&&(f(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),g(3),p()(),f(4,"ul",11),L(5,ok,2,1,"li",4),p()()),i&2){let t=e.$implicit;y(3),F(t.title),y(2),C("ngForOf",t.items)}}function ck(i,e){if(i&1&&(f(0,"div",22)(1,"mat-icon"),g(2),p(),f(3,"span"),g(4),p()()),i&2){let t=e.$implicit;y(2),F(t.icon),y(2),F(t.label)}}function dk(i,e){if(i&1){let t=lt();f(0,"div",23)(1,"div",24)(2,"mat-icon",25),g(3,"description"),p(),f(4,"span"),g(5),p()(),f(6,"div",26)(7,"span",27),g(8),p()(),f(9,"div",28)(10,"button",29),V("click",function(){let a=z(t).$implicit,s=O();return B(s.openOrDownload(a))}),g(11," T\xE9l\xE9charger / Ouvrir "),p()()()}if(i&2){let t=e.$implicit;y(5),F(t.label),y(2),tt("available",t.available)("missing",!t.available),y(),dt(" ",t.available?"Disponible":"Manquant"," "),y(2),C("disabled",!t.available)}}function mk(i,e){i&1&&(f(0,"div",30),H(1,"mat-progress-bar",31),p())}var uo=class i{stack=[{icon:"database",label:"SQL Server (DB & index/columnstore)"},{icon:"tune",label:"ETL Python/SQL (chargement CSV Kaggle)"},{icon:"api",label:"NestJS + TypeORM (API REST)"},{icon:"web",label:"Angular + Material + Chart.js (Front)"},{icon:"insights",label:"Power BI (rapport annexe)"},{icon:"cloud",label:"GitHub (code & pages)"}];steps=[{title:"Ingestion",desc:"Chargement des CSV Kaggle \u2192 SQL Server (types, normalisation, cl\xE9s techniques)."},{title:"Mod\xE9lisation",desc:"Sch\xE9ma en \xE9toile : fact_sales + dimensions year, model, region, color."},{title:"Qualit\xE9",desc:"Contr\xF4les: doublons, nuls, bornes, distributions; logs & rapports."},{title:"API",desc:"Endpoints KPI/insights, agr\xE9gations pond\xE9r\xE9es, pagination, filtres, CORS."},{title:"Viz",desc:"Dashboard Angular + pages (Insights, Data Story, M\xE9thodo, etc.)."}];dq=[{title:"Sch\xE9ma & Types",items:["Casting num\xE9rique: price_usd DECIMAL, sales_volume INT, engine_size_l DECIMAL","Dates/ann\xE9es coh\xE9rentes: year entre 2010 et 2024"]},{title:"Unicit\xE9 & Doublons",items:["fact_sales.sales_key unique","V\xE9rif des doublons sur (year_key, model_key, region_key, color_key)"]},{title:"Valeurs manquantes",items:["Fuel/Transmission/Color \u2192 valeurs \u201CUnknown\u201D si null","Suppression des lignes sans prix et sans volume"]},{title:"Bornes & Outliers",items:["price_usd \u2208 [500, 300000], engine_size_l \u2208 [0.6, 8.0]","tax/mpg dans des plages plausibles pour \xE9liminer les aberrations"]},{title:"Stats & Distributions",items:["M\xE9dianes/\xE9carts-type par mod\xE8le et par r\xE9gion","Taux de compl\xE9tude > 98% sur les colonnes cl\xE9s"]}];deliverables=[{icon:"description",label:"README du projet"},{icon:"table_view",label:"Exports CSV/Parquet nettoy\xE9s"},{icon:"schema",label:"Sch\xE9mas DB (DDL + diagrammes)"},{icon:"code",label:"Notebooks EDA/ETL"},{icon:"api",label:"Collection API (endpoints)"},{icon:"insights",label:"Rapport Power BI (.pbix)"}];docs=[{label:"README (PDF)",path:"assets/docs/README.pdf",available:!1},{label:"DDL SQL Server (SQL)",path:"assets/docs/ddl_sqlserver.sql",available:!1},{label:"Notebook EDA (ipynb)",path:"assets/docs/eda.ipynb",available:!1},{label:"Notebook ETL (ipynb)",path:"assets/docs/etl.ipynb",available:!1},{label:"Sch\xE9ma DB (PNG)",path:"assets/docs/db-schema.png",available:!1},{label:"Exports nettoy\xE9s (ZIP)",path:"assets/docs/exports_clean.zip",available:!1},{label:"Power BI (.pbix)",path:"assets/docs/auto-sales.pbix",available:!1}];loadingDocs=!0;ngOnInit(){this.checkAvailability()}checkAvailability(){return To(this,null,function*(){let e=this.docs.map(t=>To(this,null,function*(){try{let n=yield fetch(t.path,{method:"HEAD",cache:"no-cache"});t.available=n.ok}catch{t.available=!1}}));yield Promise.all(e),this.loadingDocs=!1})}openOrDownload(e){e.available&&window.open(e.path,"_blank")}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-methodo"]],decls:109,vars:6,consts:[[1,"hero"],[1,"hero-text"],[1,"section"],[1,"stack"],[4,"ngFor","ngForOf"],[3,"completed",4,"ngFor","ngForOf"],[1,"arch"],[1,"block"],[1,"diagram"],[1,"note"],["multi",""],[1,"list"],[1,"deliver"],["class","item",4,"ngFor","ngForOf"],[1,"cta"],["mat-raised-button","","color","primary","routerLink","/data-story"],["mat-stroked-button","","color","primary","routerLink","/insights"],[1,"docs-list"],["class","doc-row",4,"ngFor","ngForOf"],["style","margin-top: 12px;",4,"ngIf"],[3,"completed"],["matStepLabel",""],[1,"item"],[1,"doc-row"],[1,"doc-label"],["aria-hidden","true"],[1,"doc-status"],[1,"badge"],[1,"doc-actions"],["mat-stroked-button","","color","primary",3,"click","disabled"],[2,"margin-top","12px"],["mode","indeterminate"]],template:function(t,n){t&1&&(f(0,"section",0)(1,"div",1)(2,"h1"),g(3,"M\xE9thodologie"),p(),f(4,"p"),g(5,"De la donn\xE9e brute au produit data : pipeline, mod\xE8le, qualit\xE9, API et visualisation."),p()()(),f(6,"mat-card",2)(7,"mat-card-title"),g(8,"Stack & Outils"),p(),f(9,"mat-card-content")(10,"mat-chip-set",3),L(11,ak,4,2,"mat-chip",4),p()()(),f(12,"mat-card",2)(13,"mat-card-title"),g(14,"Pipeline projet"),p(),f(15,"mat-card-content")(16,"mat-horizontal-stepper"),L(17,rk,4,2,"mat-step",5),p()()(),f(18,"mat-card",2)(19,"mat-card-title"),g(20,"Architecture & Mod\xE8le de donn\xE9es"),p(),f(21,"mat-card-content")(22,"div",6)(23,"div",7)(24,"h3"),g(25,"Architecture"),p(),f(26,"ul")(27,"li"),g(28,"Sources CSV Kaggle \u2192 ETL (Python/SQL) \u2192 SQL Server"),p(),f(29,"li"),g(30,"API NestJS (TypeORM) \u2192 Angular (Material + Chart.js)"),p(),f(31,"li"),g(32,"Power BI en option pour la data viz compl\xE9mentaire"),p(),f(33,"li"),g(34,"CI/CD simple via GitHub (portfolio)"),p()()(),f(35,"div",7)(36,"h3"),g(37,"Mod\xE8le en \xE9toile"),p(),f(38,"div",8)(39,"pre"),g(40,`          dim_year     dim_model     dim_region     dim_color
             \u2502             \u2502             \u2502             \u2502
             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
                        fact_sales
          (price_usd, sales_volume, fuel_type, transmission, engine_size_l)
          `),p()(),f(41,"p",9),g(42,"Index non cluster + columnstore sur fact_sales pour acc\xE9l\xE9rer les agr\xE9gations."),p()()()()(),f(43,"mat-card",2)(44,"mat-card-title"),g(45,"Qualit\xE9 des donn\xE9es (Data Quality)"),p(),f(46,"mat-card-content")(47,"mat-accordion",10),L(48,lk,6,2,"mat-expansion-panel",4),p()()(),f(49,"mat-card",2)(50,"mat-card-title"),g(51,"API & performances"),p(),f(52,"mat-card-content")(53,"ul",11)(54,"li"),g(55,"Endpoints agr\xE9g\xE9s : "),f(56,"code"),g(57,"/sales/kpi"),p(),g(58,", "),f(59,"code"),g(60,"/sales/insights/trend"),p(),g(61,", "),f(62,"code"),g(63,"/sales/insights/top-models"),p(),g(64,", etc."),p(),f(65,"li"),g(66,"Calculs pond\xE9r\xE9s: "),f(67,"em"),g(68,"avg price = SUM(price*volume)/SUM(volume)"),p()(),f(69,"li"),g(70,"Pagination & filtres: "),f(71,"code"),g(72,"limit/offset"),p(),g(73,", "),f(74,"code"),g(75,"year"),p(),g(76,", "),f(77,"code"),g(78,"region"),p(),g(79,", "),f(80,"code"),g(81,"model"),p()(),f(82,"li"),g(83,"CORS activ\xE9, s\xE9lectivit\xE9 SQL (index), projections de colonnes uniquement"),p(),f(84,"li"),g(85,"(Option) Cache applicatif & columnstore pour acc\xE9l\xE9rer"),p()()()(),f(86,"mat-card",2)(87,"mat-card-title"),g(88,"Livrables"),p(),f(89,"mat-card-content")(90,"div",12),L(91,ck,5,2,"div",13),p()()(),f(92,"div",14)(93,"a",15),g(94," Voir la Data Story "),p(),f(95,"a",16),g(96," Explorer les Insights "),p()(),f(97,"mat-card",2)(98,"mat-card-title"),g(99,"Scripts & sch\xE9mas (assets)"),p(),f(100,"mat-card-content")(101,"p"),g(102,"Place tes fichiers dans "),f(103,"code"),g(104,"src/assets/docs/"),p(),g(105," \u2014 la page d\xE9tecte automatiquement leur pr\xE9sence."),p(),f(106,"div",17),L(107,dk,12,7,"div",18),p(),L(108,mk,2,0,"div",19),p()()),t&2&&(y(11),C("ngForOf",n.stack),y(6),C("ngForOf",n.steps),y(31),C("ngForOf",n.dq),y(43),C("ngForOf",n.deliverables),y(16),C("ngForOf",n.docs),y(),C("ngIf",n.loadingDocs))},dependencies:[oe,ki,po,ho,me,le,de,ce,he,Ee,Sa,gn,wa,ro,og,Bc,Vc,rg,Je,Ca,mo,ps,bn,us,Jt,Zt],styles:[".section[_ngcontent-%COMP%]{margin-bottom:24px}.hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eef2ff,#fff 60%);border-radius:16px;padding:24px;margin-bottom:24px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:700}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85}mat-card-title[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:1.15rem;color:#1a237e;margin:8px 0 10px;letter-spacing:.3px}.stack[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{margin:4px}.arch[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.arch[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:12px 16px}.arch[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:10px;box-shadow:0 4px 10px #0000000d;overflow:auto;font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:12px}.note[_ngcontent-%COMP%]{font-size:.92rem;opacity:.8;margin-top:6px}.list[_ngcontent-%COMP%]{margin:0;padding-left:18px}.deliver[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.deliver[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fafafa;border-radius:12px;padding:10px 12px}.cta[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;margin:12px 0 24px}.docs-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-top:8px}.doc-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 120px 180px;align-items:center;gap:12px;background:#fafafa;border-radius:12px;padding:10px 12px}.doc-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.doc-status[_ngcontent-%COMP%]{display:flex;justify-content:center}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;font-size:12px;font-weight:600}.badge.available[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;border:1px solid #C8E6C9}.badge.missing[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;border:1px solid #FFCDD2}.doc-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;opacity:.85;margin-top:8px}@media (max-width: 640px){.doc-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:6px}.doc-actions[_ngcontent-%COMP%]{justify-content:flex-start}}"]})};var hk=["knob"],pk=["valueIndicatorContainer"];function uk(i,e){if(i&1&&(f(0,"div",2,1)(2,"div",5)(3,"span",6),g(4),p()()()),i&2){let t=O();y(4),F(t.valueIndicatorText)}}var fk=["trackActive"],gk=["*"];function _k(i,e){if(i&1&&H(0,"div"),i&2){let t=e.$implicit,n=e.$index,a=O(3);Se(t===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),we("transform",a._calcTickMarkTransform(n))}}function bk(i,e){if(i&1&&kn(0,_k,1,4,"div",8,dd),i&2){let t=O(2);Mn(t._tickMarks)}}function vk(i,e){if(i&1&&(f(0,"div",6,1),Ct(2,bk,2,0),p()),i&2){let t=O();y(2),kt(t._cachedWidth?2:-1)}}function yk(i,e){if(i&1&&H(0,"mat-slider-visual-thumb",7),i&2){let t=O();C("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}var K=(function(i){return i[i.START=1]="START",i[i.END=2]="END",i})(K||{}),ka=(function(i){return i[i.ACTIVE=0]="ACTIVE",i[i.INACTIVE=1]="INACTIVE",i})(ka||{}),ug=new ot("_MatSlider"),xk=new ot("_MatSliderThumb"),wk=new ot("_MatSliderRangeThumb"),fg=new ot("_MatSliderVisualThumb");var Sk=(()=>{class i{_cdr=S(jt);_ngZone=S(Ut);_slider=S(ug);_renderer=S(Si);_listenerCleanups;discrete;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=S(wt).nativeElement;_platform=S(tn);constructor(){}ngAfterViewInit(){let t=this._slider._getInput(this.thumbPosition);t&&(this._ripple.radius=24,this._sliderInput=t,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let n=this._sliderInputEl,a=this._renderer;this._listenerCleanups=[a.listen(n,"pointermove",this._onPointerMove),a.listen(n,"pointerdown",this._onDragStart),a.listen(n,"pointerup",this._onDragEnd),a.listen(n,"pointerleave",this._onMouseLeave),a.listen(n,"focus",this._onFocus),a.listen(n,"blur",this._onBlur)]}))}ngOnDestroy(){this._listenerCleanups?.forEach(t=>t())}_onPointerMove=t=>{if(this._sliderInput._isFocused)return;let n=this._hostElement.getBoundingClientRect(),a=this._slider._isCursorOnSliderThumb(t,n);this._isHovered=a,a?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=t=>{t.button===0&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===Oo.FADING_IN||t?.state===Oo.VISIBLE}_showRipple(t,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!n)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===K.START?K.END:K.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(n,a){if(n&1&&(Ft(Aa,5),Ft(hk,5),Ft(pk,5)),n&2){let s;G(s=X())&&(a._ripple=s.first),G(s=X())&&(a._knob=s.first),G(s=X())&&(a._valueIndicatorContainer=s.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Qt([{provide:fg,useExisting:i}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(n,a){n&1&&(Ct(0,uk,5,1,"div",2),H(1,"div",3,0)(3,"div",4)),n&2&&(kt(a.discrete?0:-1),y(3),C("matRippleDisabled",!0))},dependencies:[Aa],styles:[`.mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}
`],encapsulation:2,changeDetection:0})}return i})(),gg=(()=>{class i{_ngZone=S(Ut);_cdr=S(jt);_elementRef=S(wt);_dir=S(Ii,{optional:!0});_globalRippleOptions=S(Is,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(t){this._disabled=t;let n=this._getInput(K.END),a=this._getInput(K.START);n&&(n.disabled=this._disabled),a&&(a.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}_discrete=!1;get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=t,this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI())}_showTickMarks=!1;get min(){return this._min}set min(t){let n=t==null||isNaN(t)?this._min:t;this._min!==n&&this._updateMin(n)}_min=0;color;disableRipple=!1;_updateMin(t){let n=this._min;this._min=t,this._isRange?this._updateMinRange({old:n,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){let n=this._getInput(K.END),a=this._getInput(K.START),s=n.value,r=a.value;a.min=t.new,n.min=Math.max(t.new,a.value),a.max=Math.min(n.max,n.value),a._updateWidthInactive(),n._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(n,a):this._onTranslateXChangeBySideEffect(a,n),s!==n.value&&this._onValueChange(n),r!==a.value&&this._onValueChange(a)}_updateMinNonRange(t){let n=this._getInput(K.END);if(n){let a=n.value;n.min=t,n._updateThumbUIByValue(),this._updateTrackUI(n),a!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(t){let n=t==null||isNaN(t)?this._max:t;this._max!==n&&this._updateMax(n)}_max=100;_updateMax(t){let n=this._max;this._max=t,this._isRange?this._updateMaxRange({old:n,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){let n=this._getInput(K.END),a=this._getInput(K.START),s=n.value,r=a.value;n.max=t.new,a.max=Math.min(t.new,n.value),n.min=a.value,n._updateWidthInactive(),a._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(a,n):this._onTranslateXChangeBySideEffect(n,a),s!==n.value&&this._onValueChange(n),r!==a.value&&this._onValueChange(a)}_updateMaxNonRange(t){let n=this._getInput(K.END);if(n){let a=n.value;n.max=t,n._updateThumbUIByValue(),this._updateTrackUI(n),a!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(t){let n=isNaN(t)?this._step:t;this._step!==n&&this._updateStep(n)}_step=1;_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let t=this._getInput(K.END),n=this._getInput(K.START),a=t.value,s=n.value,r=n.value;t.min=this._min,n.max=this._max,t.step=this._step,n.step=this._step,this._platform.SAFARI&&(t.value=t.value,n.value=n.value),t.min=Math.max(this._min,n.value),n.max=Math.min(this._max,t.value),n._updateWidthInactive(),t._updateWidthInactive(),t.value<r?this._onTranslateXChangeBySideEffect(n,t):this._onTranslateXChangeBySideEffect(t,n),a!==t.value&&this._onValueChange(t),s!==n.value&&this._onValueChange(n)}_updateStepNonRange(){let t=this._getInput(K.END);if(t){let n=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),n!==t.value&&this._onValueChange(t)}}displayWith=t=>`${t}`;_tickMarks;_noopAnimations=Le();_dirChangeSubscription;_resizeObserver;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=S(tn);constructor(){S(ri).load(li),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl")}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let t=this._getInput(K.END),n=this._getInput(K.START);this._isRange=!!t&&!!n,this._cdr.detectChanges();let a=this._getThumb(K.END);this._rippleRadius=a._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,n):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,n){t.initProps(),t.initUI(),n.initProps(),n.initUI(),t._updateMinMax(),n._updateMinMax(),t._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir?.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let t=this._getInput(K.END),n=this._getInput(K.START);t._setIsLeftThumb(),n._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),t._updateStaticStyles(),n._updateStaticStyles(),t._updateWidthInactive(),n._updateWidthInactive(),t._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(K.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(K.START)._isActive||this._getThumb(K.END)._isActive}_getValue(t=K.END){let n=this._getInput(t);return n?n.value:this.min}_skipUpdate(){return!!(this._getInput(K.START)?._skipUIUpdate||this._getInput(K.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){let n=this._trackActive.nativeElement.style;n.left=t.left,n.right=t.right,n.transformOrigin=t.transformOrigin,n.transform=t.transform}_calcTickMarkTransform(t){let n=t*(this._tickMarkTrackWidth/(this._tickMarks.length-1));return`translateX(${this._isRtl?this._cachedWidth-6-n:n}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,n){this._hasViewInitialized&&(t._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let t=this._getInput(K.END),n=this._getInput(K.START);t._updateThumbUIByValue(),n._updateThumbUIByValue(),t._updateStaticStyles(),n._updateStaticStyles(),t._updateMinMax(),n._updateMinMax(),t._updateWidthInactive(),n._updateWidthInactive()}else{let t=this._getInput(K.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){let t=this._getInput(K.START),n=this._getInput(K.END);return!t||!n?!1:n.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){let n=t.getSibling(),a=this._getThumb(t.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),a._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){if(this._skipUpdate())return;let n=this._getThumb(t.thumbPosition===K.END?K.END:K.START);n._hostElement.style.transform=`translateX(${t.translateX}px)`}_updateValueIndicatorUI(t){if(this._skipUpdate())return;let n=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext.set(n):t._hostElement.setAttribute("aria-valuetext",n),this.discrete){t.thumbPosition===K.START?this.startValueIndicatorText=n:this.endValueIndicatorText=n;let a=this._getThumb(t.thumbPosition);n.length<3?a._hostElement.classList.add("mdc-slider__thumb--short-value"):a._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let t=this._getInput(K.END),n=this._getInput(K.START);t&&this._updateValueIndicatorUI(t),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let t=this._step&&this._step>0?this._step:1,a=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=(this._cachedWidth-6)*a}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){let n=t.getSibling();if(!n||!this._cachedWidth)return;let a=Math.abs(n.translateX-t.translateX)/this._cachedWidth;t._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-n.translateX}px`,transformOrigin:"right",transform:`scaleX(${a})`}):this._setTrackActiveStyles({left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${a})`})}_updateTrackUINonRange(t){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t)}_updateTickMarkUINonRange(t){let n=this._getValue(),a=Math.max(Math.round((n-this.min)/t),0)+1,s=Math.max(Math.round((this.max-n)/t),0)-1;this._isRtl?a++:s++,this._tickMarks=Array(a).fill(ka.ACTIVE).concat(Array(s).fill(ka.INACTIVE))}_updateTickMarkUIRange(t){let n=this._getValue(),a=this._getValue(K.START),s=Math.max(Math.round((a-this.min)/t),0),r=Math.max(Math.round((n-a)/t)+1,0),o=Math.max(Math.round((this.max-n)/t),0);this._tickMarks=Array(s).fill(ka.INACTIVE).concat(Array(r).fill(ka.ACTIVE),Array(o).fill(ka.INACTIVE))}_getInput(t){if(t===K.END&&this._input)return this._input;if(this._inputs?.length)return t===K.START?this._inputs.first:this._inputs.last}_getThumb(t){return t===K.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,n){let a=n.width/2,s=n.x+a,r=n.y+a,o=t.clientX-s,l=t.clientY-r;return Math.pow(o,2)+Math.pow(l,2)<Math.pow(a,2)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-slider"]],contentQueries:function(n,a,s){if(n&1&&(ct(s,xk,5),ct(s,wk,4)),n&2){let r;G(r=X())&&(a._input=r.first),G(r=X())&&(a._inputs=r)}},viewQuery:function(n,a){if(n&1&&(Ft(fk,5),Ft(fg,5)),n&2){let s;G(s=X())&&(a._trackActive=s.first),G(s=X())&&(a._thumbs=s)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(n,a){n&2&&(Se("mat-"+(a.color||"primary")),tt("mdc-slider--range",a._isRange)("mdc-slider--disabled",a.disabled)("mdc-slider--discrete",a.discrete)("mdc-slider--tick-marks",a.showTickMarks)("_mat-animation-noopable",a._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Mt],discrete:[2,"discrete","discrete",Mt],showTickMarks:[2,"showTickMarks","showTickMarks",Mt],min:[2,"min","min",Wt],color:"color",disableRipple:[2,"disableRipple","disableRipple",Mt],max:[2,"max","max",Wt],step:[2,"step","step",Wt],displayWith:"displayWith"},exportAs:["matSlider"],features:[Qt([{provide:ug,useExisting:i}])],ngContentSelectors:gk,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(n,a){n&1&&(se(),Bt(0),f(1,"div",2),H(2,"div",3),f(3,"div",4),H(4,"div",5,0),p(),Ct(6,vk,3,1,"div",6),p(),Ct(7,yk,1,3,"mat-slider-visual-thumb",7),H(8,"mat-slider-visual-thumb",7)),n&2&&(y(6),kt(a.showTickMarks?6:-1),y(),kt(a._isRange?7:-1),y(),C("discrete",a.discrete)("thumbPosition",2)("valueIndicatorText",a.endValueIndicatorText))},dependencies:[Sk],styles:[`.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mat-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mat-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mat-slider-active-track-height, 4px);top:calc((var(--mat-slider-inactive-track-height, 4px) - var(--mat-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mat-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mat-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mat-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mat-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mat-slider-inactive-track-height, 4px);border-radius:var(--mat-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mat-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;transform:scale(0);transform-origin:var(--mat-slider-value-indicator-transform-origin, 0 28px);transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mat-slider-label-container-color, var(--mat-sys-primary));color:var(--mat-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mat-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mat-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mat-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mat-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mat-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mat-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mat-slider-handle-width, 20px);height:var(--mat-slider-handle-height, 20px);border-width:calc(var(--mat-slider-handle-height, 20px)/2) calc(var(--mat-slider-handle-width, 20px)/2);box-shadow:var(--mat-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mat-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mat-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mat-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mat-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mat-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mat-slider-with-tick-marks-container-size, 2px);height:var(--mat-slider-with-tick-marks-container-size, 2px);border-radius:var(--mat-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mat-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mat-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mat-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__input{cursor:auto}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})();var _g=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({imports:[At,Pi]})}return i})();function kk(i,e){if(i&1&&(f(0,"mat-option",6),g(1),p()),i&2){let t=e.$implicit;C("value",t),y(),F(t)}}function Mk(i,e){if(i&1&&(f(0,"mat-option",6),g(1),p()),i&2){let t=e.$implicit;C("value",t),y(),F(t)}}function Ek(i,e){if(i&1&&(f(0,"mat-option",6),g(1),p()),i&2){let t=e.$implicit;C("value",t),y(),F(t)}}function Tk(i,e){if(i&1&&(f(0,"div",32)(1,"div",33)(2,"div",34),g(3,"Units"),p(),f(4,"div",35),g(5),ut(6,"number"),p()(),f(7,"div",33)(8,"div",34),g(9,"Avg Price"),p(),f(10,"div",35),g(11),ut(12,"number"),p()(),f(13,"div",33)(14,"div",34),g(15,"Revenue"),p(),f(16,"div",35),g(17),ut(18,"number"),p()()()),i&2){let t=O();y(5),F(ai(6,3,t.baseline.units)),y(6),dt("",Nt(12,5,t.baseline.avgPrice,"1.0-0")," USD"),y(6),dt("",Nt(18,8,t.baseline.revenue,"1.0-0")," USD")}}function Ik(i,e){if(i&1&&(f(0,"div",36)(1,"mat-card",37)(2,"mat-card-title"),g(3,"Units \u2014 Baseline vs Sc\xE9nario"),p(),f(4,"mat-card-content",38),H(5,"canvas",39),p()(),f(6,"mat-card",37)(7,"mat-card-title"),g(8,"Revenue \u2014 Baseline vs Sc\xE9nario"),p(),f(9,"mat-card-content",38),H(10,"canvas",39),p()()()),i&2){let t=O();y(5),C("type","bar")("data",t.unitsChart)("options",t.barOptions),y(5),C("type","bar")("data",t.revenueChart)("options",t.barOptions)}}function Pk(i,e){if(i&1&&(f(0,"div",40)(1,"div"),g(2," \u0394 Units : "),f(3,"strong"),g(4),ut(5,"number"),p(),g(6," ("),f(7,"span"),g(8),ut(9,"percent"),p(),g(10,") "),p(),f(11,"div"),g(12," \u0394 Revenue : "),f(13,"strong"),g(14),ut(15,"number"),p(),g(16," ("),f(17,"span"),g(18),ut(19,"percent"),p(),g(20,") "),p()()),i&2){let t=O();y(4),F(ai(5,12,t.scenario.units-t.baseline.units)),y(3),tt("pos",t.scenario.units>=t.baseline.units)("neg",t.scenario.units<t.baseline.units),y(),dt(" ",Nt(9,14,(t.scenario.units-t.baseline.units)/t.baseline.units,"1.0-1")," "),y(6),dt("",Nt(15,17,t.scenario.revenue-t.baseline.revenue,"1.0-0")," USD"),y(3),tt("pos",t.scenario.revenue>=t.baseline.revenue)("neg",t.scenario.revenue<t.baseline.revenue),y(),dt(" ",Nt(19,20,(t.scenario.revenue-t.baseline.revenue)/t.baseline.revenue,"1.0-1")," ")}}function Ak(i,e){if(i&1&&(f(0,"mat-option",6),g(1),p()),i&2){let t=e.$implicit;C("value",t.label),y(),F(t.label)}}function Dk(i,e){if(i&1&&(f(0,"div",32)(1,"div",33)(2,"div",34),g(3,"Revenu Baseline"),p(),f(4,"div",35),g(5),ut(6,"number"),p()(),f(7,"div",33)(8,"div",34),g(9,"Revenu Sc\xE9nario"),p(),f(10,"div",35),g(11),ut(12,"number"),p()(),f(13,"div",33)(14,"div",34),g(15,"\u0394 Revenu"),p(),f(16,"div",35),g(17),ut(18,"number"),f(19,"span",41),g(20),ut(21,"percent"),p()()()()),i&2){let t=O();y(5),dt("",Nt(6,8,t.mixBaselineRevenue,"1.0-0")," USD"),y(6),dt("",Nt(12,11,t.mixScenarioRevenue,"1.0-0")," USD"),y(5),tt("pos",t.mixScenarioRevenue>=t.mixBaselineRevenue)("neg",t.mixScenarioRevenue<t.mixBaselineRevenue),y(),dt(" ",Nt(18,14,t.mixScenarioRevenue-t.mixBaselineRevenue,"1.0-0")," USD "),y(3),dt(" (",Nt(21,17,(t.mixScenarioRevenue-t.mixBaselineRevenue)/(t.mixBaselineRevenue||1),"1.0-1"),") ")}}function Ok(i,e){if(i&1&&(f(0,"div",42),H(1,"canvas",39),p()),i&2){let t=O();y(),C("type","bar")("data",t.mixChart)("options",t.mixOptions)}}function Rk(i,e){if(i&1&&(f(0,"mat-option",6),g(1),p()),i&2){let t=e.$implicit;C("value",t.region),y(),F(t.region)}}function Lk(i,e){if(i&1&&(f(0,"mat-option",6),g(1),p()),i&2){let t=e.$implicit;C("value",t.region),y(),F(t.region)}}function Fk(i,e){if(i&1){let t=lt();f(0,"div",43)(1,"mat-form-field")(2,"mat-label"),g(3,"R\xE9gion source"),p(),f(4,"mat-select",23),pt("ngModelChange",function(a){z(t);let s=O();return ht(s.regionSource,a)||(s.regionSource=a),B(a)}),V("selectionChange",function(){z(t);let a=O();return B(a.runRegionMixScenario())}),L(5,Rk,2,2,"mat-option",7),p()(),f(6,"mat-form-field")(7,"mat-label"),g(8,"R\xE9gion cible"),p(),f(9,"mat-select",23),pt("ngModelChange",function(a){z(t);let s=O();return ht(s.regionTarget,a)||(s.regionTarget=a),B(a)}),V("selectionChange",function(){z(t);let a=O();return B(a.runRegionMixScenario())}),L(10,Lk,2,2,"mat-option",7),p()(),f(11,"div",11)(12,"label"),g(13,"Transfert depuis la source (%)"),p(),f(14,"div",12)(15,"mat-slider",44),pt("ngModelChange",function(a){z(t);let s=O();return ht(s.regionTransferPct,a)||(s.regionTransferPct=a),B(a)}),V("valueChange",function(){z(t);let a=O();return B(a.runRegionMixScenario())}),p(),f(16,"input",25),pt("ngModelChange",function(a){z(t);let s=O();return ht(s.regionTransferPct,a)||(s.regionTransferPct=a),B(a)}),V("change",function(){z(t);let a=O();return B(a.runRegionMixScenario())}),p()()()()}if(i&2){let t=O();y(4),mt("ngModel",t.regionSource),y(),C("ngForOf",t.regionMix),y(4),mt("ngModel",t.regionTarget),y(),C("ngForOf",t.regionMix),y(5),mt("ngModel",t.regionTransferPct),y(),mt("ngModel",t.regionTransferPct)}}function Nk(i,e){i&1&&(f(0,"p"),g(1,"Aucune donn\xE9e trouv\xE9e pour construire la baseline r\xE9gionale."),p())}function zk(i,e){if(i&1&&(f(0,"div",32)(1,"div",33)(2,"div",34),g(3,"Revenu Baseline"),p(),f(4,"div",35),g(5),ut(6,"number"),p()(),f(7,"div",33)(8,"div",34),g(9,"Revenu Sc\xE9nario"),p(),f(10,"div",35),g(11),ut(12,"number"),p()(),f(13,"div",33)(14,"div",34),g(15,"\u0394 Revenu"),p(),f(16,"div",35),g(17),ut(18,"number"),f(19,"span",41),g(20),ut(21,"percent"),p()()()()),i&2){let t=O();y(5),dt("",Nt(6,8,t.regionBaselineRevenue,"1.0-0")," USD"),y(6),dt("",Nt(12,11,t.regionScenarioRevenue,"1.0-0")," USD"),y(5),tt("pos",t.regionScenarioRevenue>=t.regionBaselineRevenue)("neg",t.regionScenarioRevenue<t.regionBaselineRevenue),y(),dt(" ",Nt(18,14,t.regionScenarioRevenue-t.regionBaselineRevenue,"1.0-0")," USD "),y(3),dt(" (",Nt(21,17,(t.regionScenarioRevenue-t.regionBaselineRevenue)/(t.regionBaselineRevenue||1),"1.0-1"),") ")}}function Bk(i,e){if(i&1&&(f(0,"div",42),H(1,"canvas",39),p()),i&2){let t=O();y(),C("type","bar")("data",t.regionChart)("options",t.regionOptions)}}var fo=class i{api=S(Ae);years=[];regions=[];models=[];year;region;model;loading=!1;ngOnInit(){this.loadFilters(),this.loadBaseline(),this.loadMixBaseline(),this.loadRegionMixBaseline()}loadFilters(){this.api.getTrend({}).subscribe(e=>{this.years=Array.from(new Set(e.map(t=>t.year))).sort((t,n)=>t-n)}),this.api.getSales({limit:1e3}).subscribe(e=>{let t=e.items||[];this.regions=Array.from(new Set(t.map(n=>n.region).filter(Boolean))).sort(),this.models=Array.from(new Set(t.map(n=>n.model).filter(Boolean))).sort()})}baseline=null;loadBaseline(){this.loading=!0,this.api.getKpi({year:this.year,region:this.region,model:this.model}).subscribe({next:e=>{this.baseline={revenue:Number(e.revenue??0),units:Number(e.units??0),avgPrice:Number(e.avgPrice??e.avg_price??0)},this.loading=!1,this.runScenario(),this.loadMixBaseline(),this.loadRegionMixBaseline()},error:()=>{this.loading=!1}})}priceDeltaPct=0;elasticity=-1.2;scenario=null;unitsChart={labels:["Units"],datasets:[]};revenueChart={labels:["Revenue (USD)"],datasets:[]};barOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}};runScenario(){if(!this.baseline){this.scenario=null;return}let e=this.baseline.units,t=this.baseline.avgPrice,n=1+this.priceDeltaPct/100,a=1+this.elasticity*(this.priceDeltaPct/100),s=Math.max(0,t*n),r=Math.max(0,Math.round(e*a)),o=this.baseline.revenue||e*t,l=r*s;this.scenario={revenue:l,units:r,avgPrice:s},this.unitsChart={labels:["Units"],datasets:[{label:"Baseline",data:[e]},{label:"Sc\xE9nario",data:[r]}]},this.revenueChart={labels:["Revenue (USD)"],datasets:[{label:"Baseline",data:[o]},{label:"Sc\xE9nario",data:[l]}]}}resetScenario(){this.priceDeltaPct=0,this.elasticity=-1.2,this.runScenario()}mixModels=[];mixTarget;mixTransferPct=10;promoPct=0;mixBaselineRevenue=0;mixScenarioRevenue=0;mixChart={labels:[],datasets:[]};mixOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}};loadMixBaseline(){this.api.getTopModels({top:5,year:this.year,region:this.region}).subscribe({next:e=>{this.mixModels=e.map(t=>({label:`${t.make} ${t.model}`,make:t.make,model:t.model,units:Number(t.units||0),avg_price:Number(t.avg_price||0)})),this.mixBaselineRevenue=this.mixModels.reduce((t,n)=>t+n.units*n.avg_price,0),this.mixTarget=this.mixModels[0]?.label,this.runMixScenario()},error:e=>{console.error("mix baseline error",e),this.mixModels=[]}})}runMixScenario(){if(!this.mixModels.length||!this.mixTarget){this.mixChart={labels:[],datasets:[]},this.mixScenarioRevenue=0;return}let e=this.mixModels.reduce((m,h)=>m+h.units,0);if(e===0){this.mixChart={labels:[],datasets:[]},this.mixScenarioRevenue=0;return}let t=this.mixModels.findIndex(m=>m.label===this.mixTarget);if(t<0)return;let n=Math.round(e*(this.mixTransferPct/100)),a=this.mixModels.filter((m,h)=>h!==t).reduce((m,h)=>m+h.units,0),s=this.mixModels.map(m=>m.units);if(n>0&&a>0){this.mixModels.forEach((h,u)=>{if(u===t)return;let _=Math.round(n*(h.units/a));s[u]=Math.max(0,h.units-_)});let m=s.reduce((h,u,_)=>_===t?h:h+u,0);s[t]=e-m}let r=this.mixModels[t].avg_price,o=1+this.promoPct/100,l=Math.max(0,r*o),c=this.mixModels.reduce((m,h)=>m+h.units*h.avg_price,0),d=this.mixModels.reduce((m,h,u)=>{let _=u===t?l:h.avg_price;return m+s[u]*_},0);this.mixBaselineRevenue=c,this.mixScenarioRevenue=d,this.mixChart={labels:this.mixModels.map(m=>m.label),datasets:[{label:"Units Baseline",data:this.mixModels.map(m=>m.units)},{label:"Units Sc\xE9nario",data:s}]}}regionMix=[];regionSource;regionTarget;regionTransferPct=10;regionBaselineRevenue=0;regionScenarioRevenue=0;regionChart={labels:[],datasets:[]};regionOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}},scales:{y:{beginAtZero:!0}}};loadRegionMixBaseline(){this.api.getSales({limit:5e3,year:this.year,model:this.model,region:void 0}).subscribe({next:e=>{let t=e.items||[],n={};for(let s of t){let r=s.region||"Unknown",o=Number(s.sales_volume||0),l=Number(s.price_usd||0);n[r]||(n[r]={units:0,rev:0}),n[r].units+=o,n[r].rev+=o*l}this.regionMix=Object.entries(n).map(([s,r])=>({region:s,units:r.units,avg_price:r.units?r.rev/r.units:0})),this.regionBaselineRevenue=this.regionMix.reduce((s,r)=>s+r.units*r.avg_price,0);let a=[...this.regionMix].sort((s,r)=>r.units-s.units);this.regionTarget=a[0]?.region,this.regionSource=a[a.length-1]?.region,this.runRegionMixScenario()},error:e=>{console.error("region mix baseline error",e),this.regionMix=[],this.regionBaselineRevenue=0,this.regionScenarioRevenue=0,this.regionChart={labels:[],datasets:[]}}})}runRegionMixScenario(){if(!this.regionMix.length||!this.regionSource||!this.regionTarget||this.regionSource===this.regionTarget){this.regionScenarioRevenue=this.regionBaselineRevenue,this.regionChart={labels:[],datasets:[]};return}let e=this.regionMix.findIndex(c=>c.region===this.regionSource),t=this.regionMix.findIndex(c=>c.region===this.regionTarget);if(e<0||t<0)return;let n=this.regionMix.map(c=>c.units),a=this.regionMix.map(c=>c.avg_price),s=Math.round(n[e]*(this.regionTransferPct/100)),r=[...n];r[e]=Math.max(0,n[e]-s),r[t]=n[t]+s;let o=n.reduce((c,d,m)=>c+d*a[m],0),l=r.reduce((c,d,m)=>c+d*a[m],0);this.regionBaselineRevenue=o,this.regionScenarioRevenue=l,this.regionChart={labels:this.regionMix.map(c=>c.region),datasets:[{label:"Units Baseline",data:n},{label:"Units Sc\xE9nario",data:r}]}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-usecases"]],decls:149,vars:28,consts:[["regionEmpty",""],[1,"hero"],[1,"hero-text"],[1,"section"],[1,"filters"],[3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["class","kpis",4,"ngIf"],[1,"scenario-grid"],[1,"control"],[1,"row"],["min","-30","max","30","step","1","discrete","",3,"ngModelChange","ngModel"],["matInput","","type","number",2,"width","90px",3,"ngModelChange","ngModel"],["min","-3","max","0","step","0.1","discrete","",3,"ngModelChange","ngModel"],[1,"hint"],[1,"actions"],["mat-stroked-button","",3,"click"],[2,"margin","12px 0"],["class","charts",4,"ngIf"],["class","delta",4,"ngIf"],[1,"mix-grid"],[3,"ngModelChange","selectionChange","ngModel"],["min","0","max","30","step","1","discrete","",3,"ngModelChange","valueChange","ngModel"],["matInput","","type","number",2,"width","90px",3,"ngModelChange","change","ngModel"],[1,"small-hint"],["min","-50","max","0","step","1","discrete","",3,"ngModelChange","valueChange","ngModel"],["style","height: 320px; margin-top: 10px;",4,"ngIf"],[1,"note"],["class","region-grid",4,"ngIf","ngIfElse"],[1,"section","note-card"],[1,"kpis"],[1,"kpi"],[1,"label"],[1,"value"],[1,"charts"],[1,"sub",2,"height","280px"],[2,"height","200px"],["baseChart","",3,"type","data","options"],[1,"delta"],[1,"pct"],[2,"height","320px","margin-top","10px"],[1,"region-grid"],["min","0","max","50","step","1","discrete","",3,"ngModelChange","valueChange","ngModel"]],template:function(t,n){if(t&1){let a=lt();f(0,"section",1)(1,"div",2)(2,"h1"),g(3,"Cas d\u2019usage \u2014 What-if Prix \u2194 Volume"),p(),f(4,"p"),g(5,"Simule l\u2019impact d\u2019un changement de prix, en tenant compte d\u2019une \xE9lasticit\xE9 (par d\xE9faut \u22121.2)."),p()()(),f(6,"mat-card",3)(7,"mat-card-title"),g(8,"1) Choisir la base de calcul (baseline)"),p(),f(9,"mat-card-content")(10,"div",4)(11,"mat-form-field")(12,"mat-label"),g(13,"Ann\xE9e"),p(),f(14,"mat-select",5),pt("ngModelChange",function(r){return z(a),ht(n.year,r)||(n.year=r),B(r)}),f(15,"mat-option",6),g(16,"Toutes"),p(),L(17,kk,2,2,"mat-option",7),p()(),f(18,"mat-form-field")(19,"mat-label"),g(20,"R\xE9gion"),p(),f(21,"mat-select",5),pt("ngModelChange",function(r){return z(a),ht(n.region,r)||(n.region=r),B(r)}),f(22,"mat-option",6),g(23,"Toutes"),p(),L(24,Mk,2,2,"mat-option",7),p()(),f(25,"mat-form-field")(26,"mat-label"),g(27,"Mod\xE8le"),p(),f(28,"mat-select",5),pt("ngModelChange",function(r){return z(a),ht(n.model,r)||(n.model=r),B(r)}),f(29,"mat-option",6),g(30,"Tous"),p(),L(31,Ek,2,2,"mat-option",7),p()(),f(32,"button",8),V("click",function(){return z(a),B(n.loadBaseline())}),g(33,"Actualiser la baseline"),p()(),L(34,Tk,19,11,"div",9),p()(),f(35,"mat-card",3)(36,"mat-card-title"),g(37,"2) Param\xE9trer le sc\xE9nario prix \u2194 volume"),p(),f(38,"mat-card-content")(39,"div",10)(40,"div",11)(41,"label"),g(42,"Changement de prix (%)"),p(),f(43,"div",12)(44,"mat-slider",13),pt("ngModelChange",function(r){return z(a),ht(n.priceDeltaPct,r)||(n.priceDeltaPct=r),B(r)}),p(),f(45,"input",14),pt("ngModelChange",function(r){return z(a),ht(n.priceDeltaPct,r)||(n.priceDeltaPct=r),B(r)}),p()()(),f(46,"div",11)(47,"label"),g(48,"\xC9lasticit\xE9 (\u0394Q/Q \xF7 \u0394P/P)"),p(),f(49,"div",12)(50,"mat-slider",15),pt("ngModelChange",function(r){return z(a),ht(n.elasticity,r)||(n.elasticity=r),B(r)}),p(),f(51,"input",14),pt("ngModelChange",function(r){return z(a),ht(n.elasticity,r)||(n.elasticity=r),B(r)}),p()(),f(52,"div",16),g(53," Valeur typique voitures neuves : \u22121.0 \xE0 \u22121.5 (plus n\xE9gatif \u21D2 plus sensible au prix). "),p()(),f(54,"div",17)(55,"button",18),V("click",function(){return z(a),B(n.resetScenario())}),g(56,"R\xE9initialiser"),p(),f(57,"button",8),V("click",function(){return z(a),B(n.runScenario())}),g(58,"Simuler"),p()()(),H(59,"mat-divider",19),L(60,Ik,11,6,"div",20)(61,Pk,21,23,"div",21),p()(),f(62,"mat-card",3)(63,"mat-card-title"),g(64,"3) Mix produit \u2014 r\xE9allocation des unit\xE9s (+ promo)"),p(),f(65,"mat-card-content")(66,"p",16),g(67," Transf\xE8re une partie des unit\xE9s des autres mod\xE8les vers un "),f(68,"strong"),g(69,"mod\xE8le cible"),p(),g(70," (Top 5 actuels), et visualise l\u2019impact sur les "),f(71,"em"),g(72,"units"),p(),g(73," et le "),f(74,"em"),g(75,"revenu"),p(),g(76,". "),p(),f(77,"div",22)(78,"mat-form-field")(79,"mat-label"),g(80,"Mod\xE8le cible"),p(),f(81,"mat-select",23),pt("ngModelChange",function(r){return z(a),ht(n.mixTarget,r)||(n.mixTarget=r),B(r)}),V("selectionChange",function(){return z(a),B(n.runMixScenario())}),L(82,Ak,2,2,"mat-option",7),p()(),f(83,"div",11)(84,"label"),g(85,"Transfert depuis les autres (%)"),p(),f(86,"div",12)(87,"mat-slider",24),pt("ngModelChange",function(r){return z(a),ht(n.mixTransferPct,r)||(n.mixTransferPct=r),B(r)}),V("valueChange",function(){return z(a),B(n.runMixScenario())}),p(),f(88,"input",25),pt("ngModelChange",function(r){return z(a),ht(n.mixTransferPct,r)||(n.mixTransferPct=r),B(r)}),V("change",function(){return z(a),B(n.runMixScenario())}),p()(),f(89,"div",26),g(90,"Limit\xE9 \xE0 30% pour rester r\xE9aliste (portefeuille & court terme)."),p()(),f(91,"div",11)(92,"label"),g(93,"Promo sur le mod\xE8le cible (%)"),p(),f(94,"div",12)(95,"mat-slider",27),pt("ngModelChange",function(r){return z(a),ht(n.promoPct,r)||(n.promoPct=r),B(r)}),V("valueChange",function(){return z(a),B(n.runMixScenario())}),p(),f(96,"input",25),pt("ngModelChange",function(r){return z(a),ht(n.promoPct,r)||(n.promoPct=r),B(r)}),V("change",function(){return z(a),B(n.runMixScenario())}),p()(),f(97,"div",26),g(98,"Ex : -5 = remise de 5% appliqu\xE9e uniquement au mod\xE8le cible."),p()()(),L(99,Dk,22,20,"div",9)(100,Ok,2,3,"div",28),f(101,"p",29),g(102," Hypoth\xE8ses : le prix moyen par mod\xE8le reste inchang\xE9 pour les autres mod\xE8les (mix pur sur les unit\xE9s). La "),f(103,"strong"),g(104,"promo"),p(),g(105," ne s\u2019applique que sur le "),f(106,"em"),g(107,"mod\xE8le cible"),p(),g(108,". "),p()()(),f(109,"mat-card",3)(110,"mat-card-title"),g(111,"4) R\xE9allocation r\xE9gionale"),p(),f(112,"mat-card-content")(113,"p",16),g(114," Transf\xE8re "),f(115,"strong"),g(116,"X%"),p(),g(117," des unit\xE9s d\u2019une "),f(118,"strong"),g(119,"r\xE9gion source"),p(),g(120," vers une "),f(121,"strong"),g(122,"r\xE9gion cible"),p(),g(123," et observe l\u2019impact sur le revenu (prix moyens r\xE9gionaux constants). "),p(),L(124,Fk,17,6,"div",30)(125,Nk,2,0,"ng-template",null,0,Ce)(127,zk,22,20,"div",9)(128,Bk,2,3,"div",28),f(129,"p",29),g(130," Hypoth\xE8ses : prix moyens r\xE9gionaux constants (pas de cannibalisation ni de contrainte d\u2019offre). Pour affiner, on peut connecter une \xE9lasticit\xE9 **par r\xE9gion** et/ou appliquer un **prix promo** en r\xE9gion cible. "),p()()(),f(131,"mat-card",31)(132,"mat-card-title"),g(133,"Interpr\xE9tation & limites"),p(),f(134,"mat-card-content")(135,"ul")(136,"li"),g(137,"Le calcul utilise une \xE9lasticit\xE9 "),f(138,"strong"),g(139,"constante"),p(),g(140," (lin\xE9aire). En pratique, elle peut varier par segment, canal, p\xE9riode."),p(),f(141,"li"),g(142,"En filtrant par "),f(143,"strong"),g(144,"mod\xE8le"),p(),g(145," ou "),f(146,"strong"),g(147,"r\xE9gion"),p(),g(148,", l\u2019\xE9lasticit\xE9 pertinente peut diff\xE9rer de la moyenne."),p()()()()}if(t&2){let a=re(126);y(14),mt("ngModel",n.year),y(),C("value",void 0),y(2),C("ngForOf",n.years),y(4),mt("ngModel",n.region),y(),C("value",void 0),y(2),C("ngForOf",n.regions),y(4),mt("ngModel",n.model),y(),C("value",void 0),y(2),C("ngForOf",n.models),y(3),C("ngIf",n.baseline),y(10),mt("ngModel",n.priceDeltaPct),y(),mt("ngModel",n.priceDeltaPct),y(5),mt("ngModel",n.elasticity),y(),mt("ngModel",n.elasticity),y(9),C("ngIf",n.baseline&&n.scenario),y(),C("ngIf",n.baseline&&n.scenario),y(20),mt("ngModel",n.mixTarget),y(),C("ngForOf",n.mixModels),y(5),mt("ngModel",n.mixTransferPct),y(),mt("ngModel",n.mixTransferPct),y(7),mt("ngModel",n.promoPct),y(),mt("ngModel",n.promoPct),y(3),C("ngIf",n.mixModels.length),y(),C("ngIf",n.mixModels.length),y(24),C("ngIf",n.regionMix.length)("ngIfElse",a),y(3),C("ngIf",n.regionMix.length),y(),C("ngIf",n.regionMix.length)}},dependencies:[We,ki,oe,Ln,An,Rn,Dn,On,me,le,de,ce,zn,Nn,Fn,Hn,Vn,rm,sm,am,Jt,Zt,_g,gg,he,Je,tg,ya,va,Mi,bd],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary: #1A237E;--color-accent: #8BC34A;--color-bg: #F5F7FA;--color-card: #FFFFFF;--color-border: #E0E0E0;--color-text: #333333;--color-positive: #2E7D32;--color-negative: #C62828;--color-muted: #757575}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--color-bg: #121212;--color-card: #1E1E1E;--color-border: #333;--color-text: #EEEEEE}}body[_ngcontent-%COMP%]{background:var(--color-bg);color:var(--color-text);font-family:Inter,Segoe UI,sans-serif}.section[_ngcontent-%COMP%]{margin-bottom:24px}.hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eef2ff,#fff 60%);border-radius:16px;padding:28px;margin-bottom:28px;box-shadow:0 4px 10px #0000000d}.hero[_ngcontent-%COMP%]   .hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 6px;font-weight:700;color:var(--color-primary);font-size:1.6rem}.hero[_ngcontent-%COMP%]   .hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.85;font-size:1rem}mat-card[_ngcontent-%COMP%]{background:var(--color-card);border-radius:16px;border:1px solid var(--color-border);box-shadow:0 2px 8px #0000000a;transition:all .2s ease-in-out}mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #00000014}mat-card-title[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:1.1rem;color:var(--color-primary);margin:6px 0 10px}.filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;align-items:end}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:4px}.kpis[_ngcontent-%COMP%]{margin-top:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}.kpi[_ngcontent-%COMP%]{background:var(--color-bg);border-radius:12px;padding:14px;text-align:center;border:1px solid var(--color-border);transition:transform .2s ease}.kpi[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.kpi[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{opacity:.75;font-size:.9rem;color:var(--color-muted)}.kpi[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;margin-top:6px}.kpi[_ngcontent-%COMP%]   .value.pos[_ngcontent-%COMP%]{color:var(--color-positive)}.kpi[_ngcontent-%COMP%]   .value.neg[_ngcontent-%COMP%]{color:var(--color-negative)}.kpi[_ngcontent-%COMP%]   .pct[_ngcontent-%COMP%]{font-weight:600;margin-left:4px}.scenario-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.control[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.control[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8;margin-top:6px}.actions[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:end}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:140px}.charts[_ngcontent-%COMP%]{margin-top:12px;display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px}.charts[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1rem}.delta[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:18px;flex-wrap:wrap}.delta[_ngcontent-%COMP%]   .pos[_ngcontent-%COMP%]{color:var(--color-positive);font-weight:600}.delta[_ngcontent-%COMP%]   .neg[_ngcontent-%COMP%]{color:var(--color-negative);font-weight:600}.mix-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(240px,320px) 1fr 1fr;gap:16px;align-items:start}@media (max-width: 900px){.mix-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 720px){.mix-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.small-hint[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8;margin-top:6px}.region-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;align-items:start}.hint[_ngcontent-%COMP%]{font-size:.95rem;opacity:.85;margin-bottom:8px}.note-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;line-height:1.6}.note-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{color:var(--color-primary)}']})};var Hk=["tooltip"],Uc=20;var Qc=new ot("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=S(Sn);return()=>Ro(i,{scrollThrottle:Uc})}});function yg(i){let e=S(Sn);return()=>Ro(e,{scrollThrottle:Uc})}var qc={provide:Qc,deps:[],useFactory:yg};function xg(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var wg=new ot("mat-tooltip-default-options",{providedIn:"root",factory:xg});var bg="tooltip-panel",vg=Pd({passive:!0}),jk=8,Wk=8,Uk=24,Qk=200,$c=(()=>{class i{_elementRef=S(wt);_ngZone=S(Ut);_platform=S(tn);_ariaDescriber=S(Od);_focusMonitor=S(Ti);_dir=S(Ii);_injector=S(Sn);_viewContainerRef=S(Cn);_animationsDisabled=Le();_defaultOptions=S(wg,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Sg;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Pn(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let n=Pn(t);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Do(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Do(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let n=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new Yt;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=jk}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Rt(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,a])=>{t.removeEventListener(n,a,vg)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let a=this._createOverlay(n);this._detach(),this._portal=this._portal||new Fd(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=a.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Rt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&r._origin instanceof wt)return this._overlayRef;this._detach()}let n=this._injector.get(Nd).getAncestorScrollContainers(this._elementRef),a=`${this._cssClassPrefix}-${bg}`,s=Bd(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return s.positionChanges.pipe(Rt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Vd(this._injector,{direction:this._dir,positionStrategy:s,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,a]:a,scrollStrategy:this._injector.get(Qc)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Rt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Rt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Rt(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&r.keyCode===27&&!Tn(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Rt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let n=t.getConfig().positionStrategy,a=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset(ve(ve({},a.main),s.main)),this._addOffset(ve(ve({},a.fallback),s.fallback))])}_addOffset(t){let n=Wk,a=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-n:t.originY==="bottom"?t.offsetY=n:t.originX==="start"?t.offsetX=a?-n:n:t.originX==="end"&&(t.offsetX=a?n:-n),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",n=this.position,a;n=="above"||n=="below"?a={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&t||n=="right"&&!t?a={originX:"start",originY:"center"}:(n=="after"||n=="right"&&t||n=="left"&&!t)&&(a={originX:"end",originY:"center"});let{x:s,y:r}=this._invertPosition(a.originX,a.originY);return{main:a,fallback:{originX:s,originY:r}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",n=this.position,a;n=="above"?a={overlayX:"center",overlayY:"bottom"}:n=="below"?a={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&t||n=="right"&&!t?a={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&t||n=="left"&&!t)&&(a={overlayX:"start",overlayY:"center"});let{x:s,y:r}=this._invertPosition(a.overlayX,a.overlayY);return{main:a,fallback:{overlayX:s,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),vs(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){let{overlayY:n,originX:a,originY:s}=t,r;if(n==="center"?this._dir&&this._dir.value==="rtl"?r=a==="end"?"left":"right":r=a==="start"?"left":"right":r=n==="bottom"&&s==="top"?"above":"below",r!==this._currentPosition){let o=this._overlayRef;if(o){let l=`${this._cssClassPrefix}-${bg}-`;o.removePanelClass(l+this._currentPosition),o.addPanelClass(l+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let n;t.x!==void 0&&t.y!==void 0&&(n=t),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let n=t.targetTouches?.[0],a=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,a)},this._defaultOptions?.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{let a=n.relatedTarget;(!a||!this._overlayRef?.overlayElement.contains(a))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,a])=>{this._elementRef.nativeElement.addEventListener(n,a,vg)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let n=this._injector.get(ei).elementFromPoint(t.clientX,t.clientY),a=this._elementRef.nativeElement;n!==a&&!a.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let n=this._elementRef.nativeElement,a=n.style;(t==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(a.userSelect=a.msUserSelect=a.webkitUserSelect=a.MozUserSelect="none"),(t==="on"||!n.draggable)&&(a.webkitUserDrag="none"),a.touchAction="none",a.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||vs({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Tt({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,a){n&2&&tt("mat-mdc-tooltip-disabled",a.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),Sg=(()=>{class i{_changeDetectorRef=S(jt);_elementRef=S(wt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Le();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Yt;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>Uk&&t.width>=Qk}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let n=this._tooltip.nativeElement,a=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(t?s:a),n.classList.add(t?a:s),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let r=getComputedStyle(n);(r.getPropertyValue("animation-duration")==="0s"||r.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,a){if(n&1&&Ft(Hk,7),n&2){let s;G(s=X())&&(a._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,a){n&1&&V("mouseleave",function(r){return a._handleMouseLeave(r)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,a){if(n&1){let s=lt();f(0,"div",1,0),V("animationend",function(o){return z(s),B(a._handleAnimationEnd(o))}),f(2,"div",2),g(3),p()()}n&2&&(tt("mdc-tooltip--multiline",a._isMultiline),C("ngClass",a.tooltipClass),y(3),F(a.message))},dependencies:[_d],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})();var Kc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=St({type:i});static \u0275inj=xt({providers:[qc],imports:[Dd,Hd,At,At,zd]})}return i})();function $k(i,e){if(i&1&&(f(0,"div",20)(1,"mat-chip-set")(2,"mat-chip")(3,"mat-icon"),g(4,"attach_money"),p(),f(5,"strong"),g(6),ut(7,"number"),p(),g(8," USD"),p(),f(9,"mat-chip")(10,"mat-icon"),g(11,"directions_car"),p(),f(12,"strong"),g(13),ut(14,"number"),p(),g(15," unit\xE9s"),p(),f(16,"mat-chip")(17,"mat-icon"),g(18,"trending_up"),p(),g(19," Prix moyen "),f(20,"strong"),g(21),ut(22,"number"),p(),g(23," USD"),p()()()),i&2){let t=O();y(6),F(Nt(7,3,t.kpi.revenue,"1.0-0")),y(7),F(ai(14,6,t.kpi.units)),y(8),F(Nt(22,8,t.kpi.avgPrice,"1.0-0"))}}function Kk(i,e){if(i&1&&(f(0,"li"),g(1),ut(2,"number"),p()),i&2){let t=e.$implicit;y(),ws("",t.make," ",t.model," \u2014 ",ai(2,3,t.units)," u")}}function Gk(i,e){if(i&1&&(f(0,"li")(1,"span",24),g(2),p(),f(3,"span",25),g(4),ut(5,"number"),ut(6,"number"),p()()),i&2){let t=e.$implicit;y(2),F(t.year),y(2),Ia("",ai(5,3,t.units)," u \xB7 ",Nt(6,5,t.avg_price,"1.0-0")," $")}}function Xk(i,e){if(i&1&&(f(0,"li")(1,"mat-icon"),g(2),p(),g(3),p()),i&2){let t=e.$implicit;y(2),F(t.icon),y(),dt(" ",t.text)}}function Yk(i,e){if(i&1&&(f(0,"div",21)(1,"div",22)(2,"h3"),g(3,"Top mod\xE8les"),p(),f(4,"ol"),L(5,Kk,3,5,"li",12),p()(),f(6,"div",22)(7,"h3"),g(8,"Tendances r\xE9centes"),p(),f(9,"ul",23),L(10,Gk,7,8,"li",12),p()(),f(11,"div",22)(12,"h3"),g(13,"Insights cl\xE9s"),p(),f(14,"ul"),L(15,Xk,4,2,"li",12),p()()()),i&2){let t=O();y(5),C("ngForOf",t.topModels),y(5),C("ngForOf",t.trendLast5),y(5),C("ngForOf",t.quotes)}}function Zk(i,e){if(i&1&&g(0),i&2){let t=O(),n=t.$implicit,a=t.index;Ia("",a+1,". ",n.title)}}function Jk(i,e){if(i&1&&(f(0,"mat-step",26),L(1,Zk,1,2,"ng-template",27),f(2,"p"),g(3),p()()),i&2){let t=e.$implicit;C("completed",!0),y(3),F(t.desc)}}function tM(i,e){if(i&1&&(f(0,"li"),g(1),p()),i&2){let t=e.$implicit;y(),F(t.before)}}function eM(i,e){if(i&1&&(f(0,"li"),g(1),p()),i&2){let t=e.$implicit;y(),F(t.after)}}function iM(i,e){if(i&1&&(f(0,"mat-card",28)(1,"mat-card-title")(2,"mat-icon"),g(3),p(),g(4," Insight"),p(),f(5,"mat-card-content")(6,"p"),g(7),p()()()),i&2){let t=e.$implicit;y(3),F(t.icon),y(4),F(t.text)}}function nM(i,e){if(i&1&&(f(0,"a",29)(1,"mat-icon"),g(2),p(),g(3),p()),i&2){let t=e.$implicit;C("href",t.href,xi),y(2),F(t.icon),y(),dt(" ",t.label," ")}}function aM(i,e){if(i&1&&(f(0,"mat-card",5)(1,"mat-card-title"),g(2,"Rapport interactif (Power BI)"),p(),f(3,"mat-card-content")(4,"div",30),H(5,"iframe",31),p()()()),i&2){let t=O();y(5),C("src",t.powerBiUrl,sd)}}var go=class i{api=S(Ae);kpi=null;topModels=[];trendLast5=[];loading=!0;steps=[{title:"Ingestion",desc:"CSV Kaggle \u2192 SQL Server. Contr\xF4les de sch\xE9ma & types."},{title:"Mod\xE8le",desc:"\xC9toile : fact_sales + dim_year/model/region/color. Index/columnstore."},{title:"API",desc:"NestJS + TypeORM : KPI pond\xE9r\xE9s, Top mod\xE8les, tendances."},{title:"Viz",desc:"Angular (Material + Chart.js) et Power BI compl\xE9mentaire."},{title:"Story",desc:"Insights \u2192 Recos actionnables (prix, mix, r\xE9gions)."}];beforeAfter=[{before:"Reporting ad hoc, fichiers Excel isol\xE9s",after:"Dashboard web & API versionn\xE9e"},{before:"Agr\xE9gations lentes (full scan)",after:"Index + columnstore \u2192 r\xE9ponses instantan\xE9es"},{before:"Prix moyen simple",after:"Prix moyen pond\xE9r\xE9 (r\xE9aliste par volume)"},{before:"Interpr\xE9tation dispers\xE9e",after:"Data Story structur\xE9e (r\xE9sum\xE9 + actions)"}];quotes=[{icon:"trending_up",text:"Les 3 meilleurs mod\xE8les concentrent une grande part du volume."},{icon:"price_check",text:"Une variation de 1k$ du prix moyen p\xE8se significativement sur le revenu."},{icon:"public",text:"La dispersion r\xE9gionale justifie un mix produit localis\xE9."}];ctas=[{icon:"description",label:"README",href:"/assets/README.pdf"},{icon:"table_view",label:"Exports CSV",href:"/assets/exports.zip"},{icon:"architecture",label:"Sch\xE9ma DB",href:"/assets/db-schema.png"},{icon:"scatter_plot",label:"Notebook EDA",href:"/assets/eda.ipynb"},{icon:"insights",label:"Power BI (.pbix)",href:"/assets/auto-sales.pbix"}];powerBiUrl="";ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.api.getKpi({}).subscribe({next:e=>{this.kpi={revenue:Number(e.revenue??0),units:Number(e.units??0),avgPrice:Number(e.avgPrice??e.avg_price??0)}},error:()=>{}}),this.api.getTopModels({top:3}).subscribe({next:e=>{this.topModels=e.map(t=>({make:t.make,model:t.model,units:+t.units||0}))},error:()=>{}}),this.api.getTrend({}).subscribe({next:e=>{let t=[...e].sort((n,a)=>n.year-a.year);this.trendLast5=t.slice(-5),this.loading=!1},error:()=>this.loading=!1})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-datastory"]],decls:54,vars:8,consts:[[1,"hero"],[1,"hero-text"],[1,"hero-actions"],["mat-raised-button","","color","primary","routerLink","/"],["mat-stroked-button","","color","primary","routerLink","/methodo"],[1,"section"],["class","chips",4,"ngIf"],["class","summary-grid",4,"ngIf"],[3,"completed",4,"ngFor","ngForOf"],[1,"before-after"],[1,"col"],["color","warn"],[4,"ngFor","ngForOf"],[1,"col","arrow"],["color","primary"],[1,"cards","section"],["class","insight","matTooltip","Insight g\xE9n\xE9r\xE9 depuis l\u2019analyse",4,"ngFor","ngForOf"],[1,"cta"],["mat-stroked-button","","color","primary","download","",3,"href",4,"ngFor","ngForOf"],["class","section",4,"ngIf"],[1,"chips"],[1,"summary-grid"],[1,"summary-item"],[1,"timeline"],[1,"year"],[1,"value"],[3,"completed"],["matStepLabel",""],["matTooltip","Insight g\xE9n\xE9r\xE9 depuis l\u2019analyse",1,"insight"],["mat-stroked-button","","color","primary","download","",3,"href"],[1,"embed-wrap"],["title","Power BI","frameborder","0","allowfullscreen","true",3,"src"]],template:function(t,n){t&1&&(f(0,"section",0)(1,"div",1)(2,"h1"),g(3,"Auto Sales Analytics \u2014 Data Story"),p(),f(4,"p"),g(5,"Des donn\xE9es brutes aux d\xE9cisions : KPIs, tendances, et leviers business."),p(),f(6,"div",2)(7,"a",3),g(8,"Voir le Dashboard"),p(),f(9,"a",4),g(10,"M\xE9thodologie"),p()()()(),f(11,"mat-card",5)(12,"mat-card-title"),g(13,"R\xE9sum\xE9 ex\xE9cutif"),p(),f(14,"mat-card-content"),L(15,$k,24,11,"div",6)(16,Yk,16,3,"div",7),p()(),f(17,"mat-card",5)(18,"mat-card-title"),g(19,"De la donn\xE9e \xE0 l\u2019insight"),p(),f(20,"mat-card-content")(21,"mat-horizontal-stepper"),L(22,Jk,4,2,"mat-step",8),p()()(),f(23,"mat-card",5)(24,"mat-card-title"),g(25,"Avant / Apr\xE8s"),p(),f(26,"mat-card-content")(27,"div",9)(28,"div",10)(29,"h4")(30,"mat-icon",11),g(31,"history"),p(),g(32," Avant"),p(),f(33,"ul"),L(34,tM,2,1,"li",12),p()(),f(35,"div",13)(36,"mat-icon"),g(37,"arrow_forward"),p()(),f(38,"div",10)(39,"h4")(40,"mat-icon",14),g(41,"bolt"),p(),g(42," Apr\xE8s"),p(),f(43,"ul"),L(44,eM,2,1,"li",12),p()()()()(),f(45,"div",15),L(46,iM,8,2,"mat-card",16),p(),f(47,"mat-card",5)(48,"mat-card-title"),g(49,"Livrables"),p(),f(50,"mat-card-content")(51,"div",17),L(52,nM,4,3,"a",18),p()()(),L(53,aM,6,1,"mat-card",19)),t&2&&(y(15),C("ngIf",n.kpi),y(),C("ngIf",n.topModels.length),y(6),C("ngForOf",n.steps),y(12),C("ngForOf",n.beforeAfter),y(10),C("ngForOf",n.beforeAfter),y(2),C("ngForOf",n.quotes),y(6),C("ngForOf",n.ctas),y(),C("ngIf",n.powerBiUrl))},dependencies:[oe,ki,me,le,de,ce,Sa,gn,wa,he,Ee,Jt,Zt,Je,Ca,ro,mo,ps,bn,us,Kc,$c,Mi],styles:['@charset "UTF-8";.section[_ngcontent-%COMP%]{margin-bottom:24px}.hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eef2ff,#fff 60%);border-radius:16px;padding:24px;margin-bottom:24px}.hero-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:700}.hero-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;opacity:.85}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}mat-card-title[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:1.15rem;color:#1a237e;margin:8px 0 10px;letter-spacing:.3px}.chips[_ngcontent-%COMP%]{margin-bottom:12px}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.summary-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}.timeline[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.timeline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:10px;padding:6px 0;border-bottom:1px dashed #eee}.timeline[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{width:56px;font-weight:600}.before-after[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px 1fr;gap:16px;align-items:center}.before-after[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:12px 16px}.before-after[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;display:flex;align-items:center;gap:6px}.before-after[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px}.before-after[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.insight[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.insight[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0 0}.cta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}.cta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px}.embed-wrap[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-bottom:62%}.embed-wrap[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border:0;border-radius:12px;box-shadow:0 4px 10px #0000000f}.kpis[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;justify-content:center;align-items:center;margin:10px auto 0;max-width:900px}.kpi[_ngcontent-%COMP%]{background:#f9f9f9;border-radius:12px;padding:14px 10px;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.kpi[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 10px #0000000f}.kpi[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{opacity:.7;font-size:.9rem;margin-bottom:4px}.kpi[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#111}.kpi-container[_ngcontent-%COMP%]{padding:10px 12px}']})};var vi=()=>{let i=S(ke),e=S(si);return i.isLoggedIn()?!0:e.createUrlTree(["/login"])};var _o=()=>{let i=S(ke),e=S(si);return i.isLoggedIn()&&i.isAdmin()?!0:e.createUrlTree(["/"])};function sM(){let i=S(ke),e=S(si);return i.isLoggedIn()?e.parseUrl("/dashboard"):!0}var Cg=[{path:"",pathMatch:"full",redirectTo:"landing"},{path:"landing",loadComponent:()=>import("./chunk-FEBI7G76.js").then(i=>i.Landing),canMatch:[sM]},{path:"login",loadComponent:()=>import("./chunk-4BXPC7UX.js").then(i=>i.LoginPage)},{path:"register",loadComponent:()=>import("./chunk-4FXRRCNV.js").then(i=>i.Register)},{path:"dashboard",canActivate:[vi],component:eo},{path:"insights",canActivate:[vi],component:so},{path:"methodo",canActivate:[vi],component:uo},{path:"data-story",canActivate:[vi],component:go},{path:"use-cases",canActivate:[vi],component:fo},{path:"explore",canActivate:[vi,_o],component:io},{path:"about",canActivate:[vi,_o],component:no},{path:"admin",canActivate:[vi,_o],loadChildren:()=>import("./chunk-XYFCQMBL.js").then(i=>i.adminRoutes)},{path:"**",redirectTo:"landing"}];var bo=class i{auth=S(ke);router=S(si);intercept(e,t){let n=this.auth.getToken();return n!=null&&n!==""&&(e=e.clone({setHeaders:{Authorization:`Bearer ${n}`}})),t.handle(e).pipe(xn(a=>((a.status===401||a.status===403)&&(this.auth.logout(),this.router.navigate(["/login"])),yn(()=>a))))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac})};var Ma=class i{counter=0;_loading$=new _s(!1);loading$=this._loading$.asObservable();show(){++this.counter===1&&this._loading$.next(!0)}hide(){this.counter>0&&--this.counter===0&&this._loading$.next(!1)}reset(){this.counter=0,this._loading$.next(!1)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"})};var vo=class i{loader=S(Ma);snack=S(Wd);intercept(e,t){let n=e.headers.get("x-skip-loader")==="1"||e.url.includes("/assets/");return n||this.loader.show(),t.handle(e).pipe(xn(a=>{let s=a.error?.message||a.statusText||"Erreur r\xE9seau";return this.snack.open(`\u274C ${s}`,"Fermer",{duration:5e3,panelClass:["snack-error"]}),yn(()=>a)}),ed(()=>{n||this.loader.hide()}))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac})};var yo=class i{auth=S(ke);intercept(e,t){return t.handle(e).pipe(xn(n=>((n.status===401||n.status===403)&&this.auth.logout(),yn(()=>n))))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac})};var kg=[{provide:Ss,useClass:bo,multi:!0},{provide:Ss,useClass:vo,multi:!0},{provide:Ss,useClass:yo,multi:!0}];var oM=1800*1e3,xo="lastActivityAt",wo=class i{auth=S(ke);router=S(si);timer=null;init(){this.installActivityListeners(),this.restoreOrSeedActivity(),this.resetTimer(),window.addEventListener("storage",e=>{e.key===xo&&this.resetTimer(!1)})}installActivityListeners(){let e=()=>this.bumpActivity();["click","mousemove","keydown","scroll","touchstart","visibilitychange"].forEach(t=>{window.addEventListener(t,e,{passive:!0})})}restoreOrSeedActivity(){localStorage.getItem(xo)||this.bumpActivity()}bumpActivity(){this.auth.isLoggedIn()&&(localStorage.setItem(xo,Date.now().toString()),this.resetTimer())}resetTimer(e=!0){clearTimeout(this.timer),e&&this.auth.isLoggedIn()&&localStorage.setItem(xo,Date.now().toString()),this.timer=setTimeout(()=>this.handleIdleTimeout(),oM)}handleIdleTimeout(){this.auth.logout()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Mg={providers:[wd(Sd(),Cd()),kg,Ed(Cg,Td(Md)),ah(),id(),ud({eventCoalescing:!0}),{provide:jd,useValue:{duration:3e3}},{provide:cd,multi:!0,deps:[wo],useFactory:i=>()=>i.init()}]};function cM(i,e){if(i&1){let t=lt();f(0,"a",18),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"S\u2019inscrire"),p()}}function dM(i,e){if(i&1){let t=lt();f(0,"a",19),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"Dashboard"),p()}}function mM(i,e){if(i&1){let t=lt();f(0,"a",20),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"Insights"),p()}}function hM(i,e){if(i&1){let t=lt();f(0,"a",21),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"Data Story"),p()}}function pM(i,e){if(i&1){let t=lt();f(0,"a",22),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"M\xE9thodo"),p()}}function uM(i,e){if(i&1){let t=lt();f(0,"a",23),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"Cas d\u2019usage"),p()}}function fM(i,e){if(i&1){let t=lt();f(0,"a",24),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"Explore"),p()}}function gM(i,e){if(i&1){let t=lt();f(0,"a",25),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"About"),p()}}function _M(i,e){if(i&1){let t=lt();f(0,"a",26),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(1,"Admin"),p()}}function bM(i,e){if(i&1){let t=lt();ye(0),f(1,"a",27),V("click",function(){z(t);let a=O();return B(a.closeMenu())}),g(2,"Login"),p(),xe()}}function vM(i,e){if(i&1){let t=lt();f(0,"button",28),V("click",function(){z(t);let a=O();return B(a.logout())}),f(1,"mat-icon"),g(2,"logout"),p(),g(3," Logout "),p()}}var So=class i{constructor(e){this.auth=e}menuOpen=!1;toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}logout(){this.auth.logout()}static \u0275fac=function(t){return new(t||i)(Ci(ke))};static \u0275cmp=U({type:i,selectors:[["app-header"]],decls:23,vars:14,consts:[["loggedIn",""],[1,"topbar"],[1,"wrap"],["routerLink","/",1,"brand",3,"click"],[1,"logo"],[1,"title"],[1,"nav"],["mat-stroked-button","","color","accent","routerLink","/register",3,"click",4,"ngIf"],["routerLink","/dashboard","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/insights","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/data-story","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/methodo","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/use-cases","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/explore","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/about","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/admin","routerLinkActive","active",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["mat-icon-button","","aria-label","Menu",1,"burger",3,"click"],["mat-stroked-button","","color","accent","routerLink","/register",3,"click"],["routerLink","/dashboard","routerLinkActive","active",3,"click"],["routerLink","/insights","routerLinkActive","active",3,"click"],["routerLink","/data-story","routerLinkActive","active",3,"click"],["routerLink","/methodo","routerLinkActive","active",3,"click"],["routerLink","/use-cases","routerLinkActive","active",3,"click"],["routerLink","/explore","routerLinkActive","active",3,"click"],["routerLink","/about","routerLinkActive","active",3,"click"],["routerLink","/admin","routerLinkActive","active",3,"click"],["mat-stroked-button","","color","accent","routerLink","/login","routerLinkActive","active",3,"click"],["mat-stroked-button","","color","warn",3,"click"]],template:function(t,n){if(t&1){let a=lt();f(0,"header",1)(1,"div",2)(2,"a",3),V("click",function(){return z(a),B(n.closeMenu())}),f(3,"span",4),g(4,"\u{1F697}"),p(),f(5,"span",5),g(6,"Auto Sales Analytics"),p()(),f(7,"nav",6),L(8,cM,2,0,"a",7)(9,dM,2,0,"a",8)(10,mM,2,0,"a",9)(11,hM,2,0,"a",10)(12,pM,2,0,"a",11)(13,uM,2,0,"a",12)(14,fM,2,0,"a",13)(15,gM,2,0,"a",14)(16,_M,2,0,"a",15)(17,bM,3,0,"ng-container",16)(18,vM,4,0,"ng-template",null,0,Ce),p(),f(20,"button",17),V("click",function(){return z(a),B(n.toggleMenu())}),f(21,"mat-icon"),g(22),p()()()()}if(t&2){let a=re(19);y(7),tt("open",n.menuOpen),y(),C("ngIf",!n.auth.isLoggedIn()),y(),C("ngIf",n.auth.isLoggedIn()),y(),C("ngIf",n.auth.isLoggedIn()),y(),C("ngIf",n.auth.isLoggedIn()),y(),C("ngIf",n.auth.isLoggedIn()),y(),C("ngIf",n.auth.isLoggedIn()),y(),C("ngIf",n.auth.isAdmin()),y(),C("ngIf",n.auth.isAdmin()),y(),C("ngIf",n.auth.isAdmin()),y(),C("ngIf",!n.auth.isLoggedIn())("ngIfElse",a),y(5),F(n.menuOpen?"close":"menu")}},dependencies:[We,oe,Ms,Cs,ks,he,Ee,Jt,Zt,Ps],styles:["[_ngcontent-%COMP%]:root{--tb-bg: #0f172a;--tb-fg: #e5e7eb;--tb-accent: #8BC34A}.topbar[_ngcontent-%COMP%]{background:var(--tb-bg);color:var(--tb-fg);position:sticky;top:0;z-index:10}.topbar[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:10px 12px;display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center}.topbar[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;text-decoration:none;color:var(--tb-fg)}.topbar[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:20px}.topbar[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.2px}.topbar[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.topbar[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tb-fg);text-decoration:none;opacity:.9;padding:6px 8px;border-radius:8px}.topbar[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ffffff0f;opacity:1}.topbar[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--tb-accent)}.topbar[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{display:none;color:var(--tb-fg)}@media (max-width: 900px){.topbar[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{grid-template-columns:auto auto auto}.topbar[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:56px;background:var(--tb-bg);display:none;flex-direction:column;padding:8px 12px;border-top:1px solid rgba(255,255,255,.08)}.topbar[_ngcontent-%COMP%]   .nav.open[_ngcontent-%COMP%]{display:flex}.topbar[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{display:inline-flex;justify-self:end}}button[mat-stroked-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;vertical-align:middle}"]})};var Co=class i{year=new Date().getFullYear();toTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-footer"]],decls:44,vars:1,consts:[[1,"site-footer"],[1,"container"],[1,"brand"],[1,"logo"],[1,"text"],[1,"title"],[1,"subtitle"],[1,"links"],["routerLink","/","routerLinkActive","active"],["routerLink","/insights","routerLinkActive","active"],["routerLink","/data-story","routerLinkActive","active"],["routerLink","/methodo","routerLinkActive","active"],["routerLink","/cas-usage","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],[1,"socials"],["href","mailto:you@example.com","aria-label","Email","mat-icon-button",""],["href","https://github.com/ton-github","target","_blank","rel","noopener","aria-label","GitHub","mat-icon-button",""],["href","https://www.linkedin.com/in/ton-linkedin","target","_blank","rel","noopener","aria-label","LinkedIn","mat-icon-button",""],["mat-stroked-button","",1,"to-top",3,"click"],[1,"legal"],[1,"sep"]],template:function(t,n){t&1&&(f(0,"footer",0)(1,"div",1)(2,"div",2)(3,"span",3),g(4,"\u{1F697}"),p(),f(5,"div",4)(6,"div",5),g(7,"Auto Sales Analytics"),p(),f(8,"div",6),g(9,"Angular \xB7 NestJS \xB7 SQL Server \xB7 Power BI"),p()()(),f(10,"nav",7)(11,"a",8),g(12,"Dashboard"),p(),f(13,"a",9),g(14,"Insights"),p(),f(15,"a",10),g(16,"Data Story"),p(),f(17,"a",11),g(18,"M\xE9thodo"),p(),f(19,"a",12),g(20,"Cas d\u2019usage"),p(),f(21,"a",13),g(22,"About"),p()(),f(23,"div",14)(24,"a",15)(25,"mat-icon"),g(26,"mail"),p()(),f(27,"a",16)(28,"mat-icon"),g(29,"hub"),p()(),f(30,"a",17)(31,"mat-icon"),g(32,"public"),p()(),f(33,"button",18),V("click",function(){return n.toTop()}),f(34,"mat-icon"),g(35,"arrow_upward"),p(),g(36," Haut de page "),p()()(),f(37,"div",19)(38,"span"),g(39),p(),f(40,"span",20),g(41,"\u2022"),p(),f(42,"span"),g(43,"Made with \u2665 using Angular"),p()()()),t&2&&(y(39),dt("\xA9 ",n.year," \u2022 Portfolio project"))},dependencies:[We,Ms,Cs,ks,he,Ee,Jt,Zt,Ps],styles:["[_ngcontent-%COMP%]:root{--footer-bg: #0f172a;--footer-fg: #e5e7eb;--footer-muted: #9ca3af;--footer-accent: #8BC34A}.site-footer[_ngcontent-%COMP%]{background:var(--footer-bg);color:var(--footer-fg);margin-top:32px}.site-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:18px 16px;display:grid;grid-template-columns:1.2fr 1fr auto;gap:16px;align-items:center}@media (max-width: 900px){.site-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center;gap:12px}}.site-footer[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.site-footer[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:28px}.site-footer[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.3px}.site-footer[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:var(--footer-muted)}@media (max-width: 900px){.site-footer[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{justify-content:center}}.site-footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}.site-footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--footer-fg);text-decoration:none;opacity:.9;padding:6px 8px;border-radius:8px;transition:background .2s,opacity .2s}.site-footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ffffff0f;opacity:1}.site-footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--footer-accent)}.site-footer[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;align-items:center}@media (max-width: 900px){.site-footer[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]{justify-content:center}}.site-footer[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]   .to-top[_ngcontent-%COMP%]{color:var(--footer-fg);border-color:#fff3;height:36px}.site-footer[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]   .to-top[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}.site-footer[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.08);padding:10px 16px 16px;text-align:center;color:var(--footer-muted);font-size:.9rem}.site-footer[_ngcontent-%COMP%]   .legal[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{margin:0 6px}"]})};function yM(i,e){i&1&&H(0,"mat-progress-bar",1)}var ko=class i{constructor(e){this.loader=e}sub;_loading=ie(!1);loading=En(()=>this._loading());ngOnInit(){this.sub=this.loader.loading$.subscribe(e=>this._loading.set(e))}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(t){return new(t||i)(Ci(Ma))};static \u0275cmp=U({type:i,selectors:[["app-global-loader"]],decls:1,vars:1,consts:[["class","loader-bar","mode","indeterminate",4,"ngIf"],["mode","indeterminate",1,"loader-bar"]],template:function(t,n){t&1&&L(0,yM,1,0,"mat-progress-bar",0),t&2&&C("ngIf",n.loading())},dependencies:[We,oe,po,ho],styles:[".loader-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}"]})};var Mo=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=U({type:i,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"app-shell"],[1,"content"]],template:function(t,n){t&1&&(f(0,"div",0),H(1,"app-header"),f(2,"main",1),H(3,"router-outlet"),p(),H(4,"app-footer"),p(),H(5,"app-global-loader"))},dependencies:[kd,So,Co,ko],styles:[".app-shell[_ngcontent-%COMP%]{min-height:100dvh;display:grid;grid-template-rows:auto 1fr auto}.content[_ngcontent-%COMP%]{background:var(--color-bg, #F5F7FA)}"]})};yd(Mo,Mg).catch(i=>console.error(i));
