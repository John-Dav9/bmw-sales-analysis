import{a as V}from"./chunk-QQYKQ6NF.js";import{b as C}from"./chunk-FYPI2E2L.js";import{C as k,F as x,J as D,K as q,z as y}from"./chunk-NODSVL4F.js";import{a as _,b as w,c as P,d as L,f as v,k as N,l as E,m as B,n as T,o as W,r as F,t as I}from"./chunk-RJDHG7FO.js";import{Ad as b,Gb as n,Ka as c,Lb as s,Mb as d,Nb as p,X as m,fb as f,gb as t,hb as a,rb as M,yc as h,za as l,zd as S}from"./chunk-TOSGPUWZ.js";import"./chunk-4CLCTAJ7.js";var A=class u{auth=m(V);snack=m(y);router=m(C);email="";password="";loading=!1;submit(){this.loading=!0,this.auth.login(this.email,this.password).subscribe({next:o=>{this.auth.saveSession(o.access_token,o.user),this.snack.open("\u2705 Bienvenue !"),this.router.createUrlTree(["/"])},error:()=>{},complete:()=>this.loading=!1})}static \u0275fac=function(r){return new(r||u)};static \u0275cmp=c({type:u,selectors:[["app-login"]],decls:15,vars:3,consts:[[1,"login-card"],[3,"ngSubmit"],["appearance","outline",2,"width","100%"],["matInput","","name","email","required","","type","email",3,"ngModelChange","ngModel"],["matInput","","name","password","required","","type","password",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(r,e){r&1&&(t(0,"mat-card",0)(1,"mat-card-title"),n(2,"Connexion"),a(),t(3,"mat-card-content")(4,"form",1),M("ngSubmit",function(){return e.submit()}),t(5,"mat-form-field",2)(6,"mat-label"),n(7,"Email"),a(),t(8,"input",3),p("ngModelChange",function(i){return d(e.email,i)||(e.email=i),i}),a()(),t(9,"mat-form-field",2)(10,"mat-label"),n(11,"Mot de passe"),a(),t(12,"input",4),p("ngModelChange",function(i){return d(e.password,i)||(e.password=i),i}),a()(),t(13,"button",5),n(14,"Se connecter"),a()()()()),r&2&&(l(8),s("ngModel",e.email),l(4),s("ngModel",e.password),l(),f("disabled",e.loading))},dependencies:[h,I,W,v,N,E,F,T,B,L,_,P,w,b,S,q,D,x,k],styles:[".login-card[_ngcontent-%COMP%]{max-width:420px;margin:40px auto;padding:10px}"]})};export{A as LoginPage};
